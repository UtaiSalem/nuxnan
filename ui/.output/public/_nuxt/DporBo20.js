import{q as L,r as b,a3 as B,z as y,C as H,c as x,T as c,d as I,a as e,b as l,u as r,o as C,I as a,_ as R}from"./CHs-R6Sv.js";const V={key:0,class:"toolbar bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-t-xl p-2 flex flex-wrap gap-1"},S={class:"flex gap-1 border-r border-gray-300 dark:border-gray-600 pr-2"},T={class:"flex gap-1 border-r border-gray-300 dark:border-gray-600 pr-2"},U={class:"flex gap-1 border-r border-gray-300 dark:border-gray-600 pr-2"},E={class:"flex gap-1 border-r border-gray-300 dark:border-gray-600 pr-2"},q={class:"flex gap-1"},M={class:"flex gap-1 ml-auto"},N=["contenteditable","data-placeholder"],j=L({__name:"RichTextEditor",props:{modelValue:{},placeholder:{default:"เริ่มเขียนเนื้อหา..."},disabled:{type:Boolean,default:!1},class:{default:""}},emits:["update:modelValue"],setup(s,{emit:h}){const g=s,w=h,i=b(),d=b(g.modelValue||""),f=b(!1),v=b(!1),m=b(!1);B(()=>g.modelValue,u=>{u!==d.value&&i.value&&(d.value=u||"",i.value.innerHTML=d.value)}),y(()=>{i.value&&(i.value.innerHTML=d.value)});const $=()=>{i.value&&(d.value=i.value.innerHTML,w("update:modelValue",d.value))},o=(u,t=void 0)=>{document.execCommand(u,!1,t),i.value?.focus(),p()},p=()=>{f.value=document.queryCommandState("bold"),v.value=document.queryCommandState("italic"),m.value=document.queryCommandState("underline")},k=()=>{p()};return y(()=>{document.addEventListener("selectionchange",k)}),H(()=>{document.removeEventListener("selectionchange",k)}),(u,t)=>(C(),x("div",{class:c(["rich-text-editor",g.class])},[s.disabled?I("",!0):(C(),x("div",V,[e("div",S,[e("button",{type:"button",onClick:t[0]||(t[0]=n=>o("bold")),class:c(["toolbar-btn",f.value&&"active"]),title:"Bold (Ctrl+B)"},[l(r(a),{icon:"fluent:text-bold-24-regular",class:"w-4 h-4"})],2),e("button",{type:"button",onClick:t[1]||(t[1]=n=>o("italic")),class:c(["toolbar-btn",v.value&&"active"]),title:"Italic (Ctrl+I)"},[l(r(a),{icon:"fluent:text-italic-24-regular",class:"w-4 h-4"})],2),e("button",{type:"button",onClick:t[2]||(t[2]=n=>o("underline")),class:c(["toolbar-btn",m.value&&"active"]),title:"Underline (Ctrl+U)"},[l(r(a),{icon:"fluent:text-underline-24-regular",class:"w-4 h-4"})],2),e("button",{type:"button",onClick:t[3]||(t[3]=n=>o("strikeThrough")),class:"toolbar-btn",title:"Strikethrough"},[l(r(a),{icon:"fluent:text-strikethrough-24-regular",class:"w-4 h-4"})])]),e("div",T,[e("button",{type:"button",onClick:t[4]||(t[4]=n=>o("formatBlock","h1")),class:"toolbar-btn",title:"Heading 1"}," H1 "),e("button",{type:"button",onClick:t[5]||(t[5]=n=>o("formatBlock","h2")),class:"toolbar-btn",title:"Heading 2"}," H2 "),e("button",{type:"button",onClick:t[6]||(t[6]=n=>o("formatBlock","h3")),class:"toolbar-btn",title:"Heading 3"}," H3 "),e("button",{type:"button",onClick:t[7]||(t[7]=n=>o("formatBlock","p")),class:"toolbar-btn",title:"Paragraph"}," P ")]),e("div",U,[e("button",{type:"button",onClick:t[8]||(t[8]=n=>o("insertUnorderedList")),class:"toolbar-btn",title:"Bullet List"},[l(r(a),{icon:"fluent:text-bullet-list-24-regular",class:"w-4 h-4"})]),e("button",{type:"button",onClick:t[9]||(t[9]=n=>o("insertOrderedList")),class:"toolbar-btn",title:"Numbered List"},[l(r(a),{icon:"fluent:text-number-list-ltr-24-regular",class:"w-4 h-4"})])]),e("div",E,[e("button",{type:"button",onClick:t[10]||(t[10]=n=>o("justifyLeft")),class:"toolbar-btn",title:"Align Left"},[l(r(a),{icon:"fluent:text-align-left-24-regular",class:"w-4 h-4"})]),e("button",{type:"button",onClick:t[11]||(t[11]=n=>o("justifyCenter")),class:"toolbar-btn",title:"Align Center"},[l(r(a),{icon:"fluent:text-align-center-24-regular",class:"w-4 h-4"})]),e("button",{type:"button",onClick:t[12]||(t[12]=n=>o("justifyRight")),class:"toolbar-btn",title:"Align Right"},[l(r(a),{icon:"fluent:text-align-right-24-regular",class:"w-4 h-4"})])]),e("div",q,[e("button",{type:"button",onClick:t[13]||(t[13]=n=>o("createLink",u.prompt("Enter URL:")||void 0)),class:"toolbar-btn",title:"Insert Link"},[l(r(a),{icon:"fluent:link-24-regular",class:"w-4 h-4"})]),e("button",{type:"button",onClick:t[14]||(t[14]=n=>o("unlink")),class:"toolbar-btn",title:"Remove Link"},[l(r(a),{icon:"fluent:link-dismiss-24-regular",class:"w-4 h-4"})])]),e("div",M,[e("button",{type:"button",onClick:t[15]||(t[15]=n=>o("removeFormat")),class:"toolbar-btn",title:"Clear Formatting"},[l(r(a),{icon:"fluent:text-clear-formatting-24-regular",class:"w-4 h-4"})])])])),e("div",{ref_key:"editorRef",ref:i,contenteditable:!s.disabled,onInput:$,class:c(["editor-content",s.disabled?"min-h-[50px]":"min-h-[300px] max-h-[600px] overflow-y-auto","p-4 bg-white dark:bg-gray-900","border border-gray-300 dark:border-gray-600",s.disabled?"rounded-xl cursor-default":"rounded-b-xl border-t-0",!s.disabled&&"focus:outline-none focus:ring-2 focus:ring-blue-500","prose prose-lg dark:prose-invert max-w-none"]),"data-placeholder":s.disabled?"":s.placeholder},null,42,N)],2))}}),z=R(j,[["__scopeId","data-v-45c8c053"]]);export{z as _};
