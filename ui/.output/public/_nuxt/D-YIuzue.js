import{a as d,r as C}from"./BB7BZ0Dd.js";import k from"./BL9BVHK8.js";import{C as j}from"./D2hSEuy5.js";import{Y as P}from"./jlBfxK8h.js";import{r as l,g as L,w as $,o as t,c as o,a as e,b as c,u as m,I as B,d as g,t as M,F as v,k as h}from"./Brb_7992.js";import"./Bw_wEDt3.js";import"./BP2gnDQ3.js";import"./DJsVOgax.js";import"./Cpj98o6Y.js";import"./CZYWTWzM.js";import"./BF4yyfxD.js";import"./KqkJvF9s.js";const I={key:0,class:"fixed top-0 left-0 z-20 flex items-center justify-center w-full h-full modal"},N={class:"flex items-center justify-center h-64"},V={class:"p-4 my-4 bg-white shadow-lg section-header rounded-xl"},z={class:"section-header-info"},D={class:"section-title font-prompt"},E={class:"flex flex-wrap justify-between gap-4"},F={key:1,class:"flex flex-wrap justify-between gap-4 mt-4"},W={__name:"AuthMemberCourses",props:{courses:Object},setup(w){const n=w,f=l(n.courses.data.filter(s=>s.user.id!=d().props.auth.user.id)),i=l(!1),p=l(!1),u=l(1),b=l(n.courses.meta.last_page);async function y(){try{if(u.value++,u.value<=b.value){i.value=!0;let s=await axios.get(`/api/courses/users/${d().props.auth.user.id}/membered?page=${u.value}`);s.data.success&&s.data.courses.forEach(a=>{a.user.id!=d().props.auth.user.id&&f.value.push(a)})}i.value=!1}catch{i.value=!1}}const x=s=>{p.value=!0,C.visit(`/courses/${s}`)};return(s,a)=>(t(),L(k,{title:"Courses"},{coursesMainContent:$(()=>[p.value?(t(),o("div",I,[a[0]||(a[0]=e("div",{class:"absolute w-full h-full bg-gray-900 opacity-75 modal-overlay"},null,-1)),e("div",N,[c(m(B),{icon:"svg-spinners:bars-rotate-fade",class:"z-30 w-32 h-32 text-white"})])])):g("",!0),e("div",V,[e("div",z,[e("h2",D," รายวิชาที่ฉันเป็นสมาชิก "+M(" "+n.courses.meta.total+" วิชา"||"ยังไม่มีรายวิชา"),1)])]),e("div",E,[(t(!0),o(v,null,h(f.value,(r,_)=>(t(),o("div",{key:_,class:"w-full sm:w-[48%]"},[c(j,{course:r,onLoadingPage:A=>x(r.id)},null,8,["course","onLoadingPage"])]))),128))]),i.value?(t(),o("div",F,[(t(),o(v,null,h(2,r=>e("div",{key:r,class:"w-full sm:w-[48%]"},[...a[1]||(a[1]=[e("div",{class:"w-full overflow-hidden rounded-lg shadow-xl"},[e("div",{class:"object-cover object-center w-full bg-gray-400/40 h-36"}),e("div",{class:"p-4"},[e("div",{class:"flex items-center justify-between mb-2"},[e("div",{class:"flex-shrink-0 w-10 h-10 bg-gray-400 rounded-full"}),e("div",{class:"flex-1 py-2 mx-2 space-y-4"},[e("div",{class:"w-full h-3 leading-relaxed bg-gray-400 rounded animate-pulse"}),e("div",{class:"w-5/6 h-3 leading-relaxed bg-gray-400 rounded animate-pulse"})])]),e("p",{class:"w-full h-3 mb-3 leading-relaxed bg-gray-400 rounded animate-pulse"}),e("p",{class:"w-2/3 h-3 mb-3 leading-relaxed bg-gray-400 rounded animate-pulse"}),e("p",{class:"w-1/2 h-3 mb-3 leading-relaxed bg-gray-400 rounded animate-pulse"})])],-1)])])),64))])):g("",!0),c(m(P),{onDistance:r=>1,onInfinite:y})]),_:1}))}};export{W as default};
