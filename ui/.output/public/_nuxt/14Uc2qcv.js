import{c as s,o as t,a as e,b as n,u as g,I as v,h as Y,t as x,a9 as M,r as m,z as T,T as q,F as $,k as C,w as S,e as j,d as B,l as R,g as E,K as Z,q as D,p as J,a6 as V,a3 as z,_ as ee,i as te,n as U,W as se,al as re}from"./DvtEeXFW.js";import{_ as ae}from"./Dtrz6Q_S.js";import{F as ie,_ as ne}from"./DLLquJaV.js";import{_ as F}from"./0NabHjdI.js";import{S as W}from"./BQxta0Da.js";import{_ as oe,a as le}from"./DBWnar35.js";import"./D4UTVVq6.js";import"./CaSR6SuD.js";import"./CgaZNeN2.js";import"./BvQ5DSdH.js";import"./DYScVuy8.js";const de={class:"vikinger-card bg-gradient-to-br from-vikinger-cyan to-vikinger-purple text-white relative overflow-hidden"},ce={class:"relative z-10"},ue={class:"flex items-center justify-between mb-4"},ge={class:"flex items-end gap-4"},ve={class:"flex-1"},pe={class:"text-4xl font-bold mb-1"},fe={class:"flex items-center gap-1 text-xs"},me={__name:"StatsBoxWidget",props:{postsCreated:{type:Number,default:294},growth:{type:Number,default:.4}},setup(L){return(_,a)=>(t(),s("div",de,[a[4]||(a[4]=e("div",{class:"absolute top-4 right-4 w-16 h-16 bg-white/10 rounded-full"},null,-1)),a[5]||(a[5]=e("div",{class:"absolute bottom-0 right-0 w-24 h-24 bg-white/10 rounded-full translate-x-8 translate-y-8"},null,-1)),e("div",ce,[e("div",ue,[a[0]||(a[0]=e("h3",{class:"text-sm font-bold"},"Stats Box",-1)),n(g(v),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5"})]),e("div",ge,[e("div",ve,[e("div",pe,x(L.postsCreated),1),e("div",fe,[n(g(v),{icon:"fluent:arrow-trending-up-24-filled",class:"w-4 h-4"}),e("span",null,x(L.growth)+"%",1)]),a[1]||(a[1]=e("div",{class:"text-sm font-semibold mt-2"},"Posts Created",-1)),a[2]||(a[2]=e("div",{class:"text-xs opacity-80"},"in the last month",-1))]),a[3]||(a[3]=Y('<div class="flex items-end gap-1 h-16 pb-2"><div class="w-2 bg-white/40 rounded-t" style="height:40%;"></div><div class="w-2 bg-white/50 rounded-t" style="height:60%;"></div><div class="w-2 bg-white/60 rounded-t" style="height:45%;"></div><div class="w-2 bg-white/70 rounded-t" style="height:75%;"></div><div class="w-2 bg-white/90 rounded-t" style="height:90%;"></div><div class="w-2 bg-white rounded-t" style="height:100%;"></div></div>',1))])])]))}},xe={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-4 shadow-sm"},he={class:"flex items-center justify-between mb-4"},ke=["disabled"],ye={key:0,class:"space-y-3"},_e={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},be={class:"text-sm"},we={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400"},$e={key:3,class:"space-y-3"},Ce=["src","alt"],je={class:"flex-1 min-w-0"},Se={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},Pe=["onClick"],Ne={__name:"PeopleMayKnowWidget",setup(L){const _=M(),a=m([]),p=m(!0),d=m(null),h=async()=>{p.value=!0,d.value=null;try{const u=await _.get("/api/friends/suggestions");u?.users&&(a.value=u.users)}catch(u){console.error("Error fetching suggestions:",u),d.value="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ"}finally{p.value=!1}},c=async u=>{try{await _.post(`/api/friends/${u}`),a.value=a.value.filter(l=>l.id!==u)}catch(l){console.error("Error sending friend request:",l)}};return T(()=>{h()}),(u,l)=>{const r=F;return t(),s("div",xe,[e("div",he,[l[0]||(l[0]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏≤‡∏à‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å",-1)),e("button",{onClick:h,class:"text-vikinger-purple hover:text-vikinger-purple/80 transition-colors",disabled:p.value},[n(g(v),{icon:"fluent:arrow-sync-24-regular",class:q(["w-4 h-4",{"animate-spin":p.value}])},null,8,["class"])],8,ke)]),p.value?(t(),s("div",ye,[(t(),s($,null,C(3,i=>e("div",{key:i,class:"flex items-center gap-3 animate-pulse"},[...l[1]||(l[1]=[e("div",{class:"w-10 h-10 bg-gray-200 dark:bg-vikinger-dark-100 rounded-full"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-3 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-3/4"}),e("div",{class:"h-2 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-1/2"})],-1)])])),64))])):d.value?(t(),s("div",_e,[n(g(v),{icon:"fluent:error-circle-24-regular",class:"w-8 h-8 mx-auto mb-2 text-red-400"}),e("p",be,x(d.value),1)])):a.value.length===0?(t(),s("div",we,[n(g(v),{icon:"fluent:people-24-regular",class:"w-8 h-8 mx-auto mb-2 opacity-50"}),l[2]||(l[2]=e("p",{class:"text-sm"},"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ",-1))])):(t(),s("div",$e,[(t(!0),s($,null,C(a.value,i=>(t(),s("div",{key:i.id,class:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-vikinger-dark-100 transition-colors"},[n(r,{to:`/profile/${i.reference_code}`},{default:S(()=>[e("img",{src:i.avatar||"/storage/images/default-avatar.png",alt:i.name,class:"w-10 h-10 rounded-full object-cover ring-2 ring-vikinger-purple/20"},null,8,Ce)]),_:2},1032,["to"]),e("div",je,[n(r,{to:`/profile/${i.reference_code}`,class:"block font-medium text-gray-900 dark:text-white truncate hover:text-vikinger-purple transition-colors"},{default:S(()=>[j(x(i.name),1)]),_:2},1032,["to"]),e("p",Se,x(i.email),1)]),e("button",{onClick:P=>c(i.id),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-vikinger-purple to-vikinger-cyan rounded-full hover:opacity-90 transition-opacity"},[n(g(v),{icon:"fluent:person-add-24-regular",class:"w-4 h-4"}),l[3]||(l[3]=e("span",{class:"hidden sm:inline"},"‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",-1))],8,Pe)]))),128))]))])}}},Be={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-4 shadow-sm"},Le={class:"flex items-center justify-between mb-4"},Ae={key:0,class:"px-2 py-0.5 text-xs font-medium text-white bg-vikinger-purple rounded-full"},Me={key:0,class:"space-y-3"},Te={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},We={class:"text-sm"},Ee={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Fe={key:3,class:"space-y-3"},qe={class:"flex items-center gap-3 mb-3"},Re=["src","alt"],Oe={class:"flex-1 min-w-0"},Ue={class:"font-medium text-gray-900 dark:text-white truncate"},De={class:"text-xs text-gray-500 dark:text-gray-400"},Je={class:"flex gap-2"},Ie=["onClick"],Ve=["onClick"],ze={__name:"PendingFriendsWidget",setup(L){const _=M(),a=m([]),p=m(!0),d=m(null),h=async()=>{p.value=!0,d.value=null;try{const l=await _.get("/api/friends/pending");l?.requests&&(a.value=l.requests)}catch(l){console.error("Error fetching pending requests:",l),d.value="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ"}finally{p.value=!1}},c=async l=>{try{await _.patch(`/api/friends/${l}/accept`),a.value=a.value.filter(r=>r.sender?.id!==l)}catch(r){console.error("Error accepting friend request:",r)}},u=async l=>{try{await _.post(`/api/friends/${l}/deny`),a.value=a.value.filter(r=>r.sender?.id!==l)}catch(r){console.error("Error denying friend request:",r)}};return T(()=>{h()}),(l,r)=>(t(),s("div",Be,[e("div",Le,[r[0]||(r[0]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",-1)),a.value.length>0?(t(),s("span",Ae,x(a.value.length),1)):B("",!0)]),p.value?(t(),s("div",Me,[(t(),s($,null,C(2,i=>e("div",{key:i,class:"flex items-center gap-3 animate-pulse"},[...r[1]||(r[1]=[e("div",{class:"w-10 h-10 bg-gray-200 dark:bg-vikinger-dark-100 rounded-full"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-3 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-3/4"})],-1)])])),64))])):d.value?(t(),s("div",Te,[n(g(v),{icon:"fluent:error-circle-24-regular",class:"w-8 h-8 mx-auto mb-2 text-red-400"}),e("p",We,x(d.value),1)])):a.value.length===0?(t(),s("div",Ee,[n(g(v),{icon:"fluent:people-checkmark-24-regular",class:"w-8 h-8 mx-auto mb-2 opacity-50"}),r[2]||(r[2]=e("p",{class:"text-sm"},"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà",-1))])):(t(),s("div",Fe,[(t(!0),s($,null,C(a.value,i=>(t(),s("div",{key:i.id,class:"p-3 rounded-lg bg-gray-50 dark:bg-vikinger-dark-100"},[e("div",qe,[e("img",{src:i.sender?.avatar||"/storage/images/default-avatar.png",alt:i.sender?.name,class:"w-10 h-10 rounded-full object-cover ring-2 ring-vikinger-purple/20"},null,8,Re),e("div",Oe,[e("p",Ue,x(i.sender?.name),1),e("p",De,x(i.diff_humans_created_at||"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"),1)])]),e("div",Je,[e("button",{onClick:P=>c(i.sender?.id),class:"flex-1 py-2 text-sm font-medium text-white bg-gradient-to-r from-vikinger-purple to-vikinger-cyan rounded-lg hover:opacity-90 transition-opacity"}," ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö ",8,Ie),e("button",{onClick:P=>u(i.sender?.id),class:"flex-1 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 bg-gray-200 dark:bg-vikinger-dark-200 rounded-lg hover:bg-gray-300 dark:hover:bg-vikinger-dark-50 transition-colors"}," ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò ",8,Ve)])]))),128))]))]))}},Ge={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-4 shadow-sm"},Ke={class:"flex items-center justify-between mb-4"},He={key:0,class:"space-y-3"},Qe={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Xe={class:"text-sm"},Ye={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Ze={key:3,class:"space-y-3"},et={class:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center relative"},tt={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full flex items-center justify-center",title:"‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"},st={class:"flex-1 min-w-0"},rt={class:"flex items-center gap-1.5"},at={class:"font-medium text-gray-900 dark:text-white text-sm truncate"},it={key:0,class:"px-1.5 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 text-[10px] font-medium rounded"},nt={class:"text-xs text-gray-500 dark:text-gray-400"},ot=["onClick","disabled"],lt={key:1},dt={key:2},ct={key:3},ut={__name:"DonatesWidget",setup(L){const _=M(),a=R(),p=m([]),d=m(!0),h=m(null),c=m(null),u=async()=>{d.value=!0,h.value=null;try{const r=await _.get("/api/donates/widget");r?.donates&&(p.value=r.donates)}catch(r){console.error("Error fetching donates:",r),h.value="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ"}finally{d.value=!1}},l=async r=>{if(!a.isAuthenticated){W.fire({icon:"warning",title:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",text:"‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÑ‡∏î‡πâ",confirmButtonText:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",confirmButtonColor:"#3085d6",showCancelButton:!0,cancelButtonText:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}).then(i=>{i.isConfirmed&&Z("/auth")});return}c.value=r;try{const i=await _.get(`/api/donates/${r}/get-donate`);i?.success?(a.addPoints(240),u(),W.fire({title:"‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",text:"‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö 240 ‡πÅ‡∏ï‡πâ‡∏°",icon:"success",showConfirmButton:!1,timer:1500})):i?.pending_approval?W.fire({icon:"info",title:"‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥",text:i?.message||"‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",confirmButtonText:"‡∏ï‡∏Å‡∏•‡∏á",confirmButtonColor:"#3b82f6"}):i?.daily_limit_reached?W.fire({icon:"warning",title:"‡∏ñ‡∏∂‡∏á‡∏•‡∏¥‡∏°‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô",text:i?.message||"‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πâ‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏ö 10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ",confirmButtonText:"‡∏ï‡∏Å‡∏•‡∏á",confirmButtonColor:"#f59e0b"}):W.fire({icon:"error",title:"‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",text:i?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÑ‡∏î‡πâ",confirmButtonText:"‡∏ï‡∏Å‡∏•‡∏á"})}catch(i){console.error("Error getting donate:",i),W.fire({icon:"error",title:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",text:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÑ‡∏î‡πâ",confirmButtonText:"‡∏ï‡∏Å‡∏•‡∏á"})}finally{c.value=null}};return T(()=>{u()}),(r,i)=>{const P=F;return t(),s("div",Ge,[e("div",Ke,[i[1]||(i[1]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°",-1)),n(P,{to:"/earn/donates",class:"text-xs text-vikinger-purple hover:text-vikinger-purple/80 transition-colors"},{default:S(()=>[...i[0]||(i[0]=[j(" ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ",-1)])]),_:1})]),d.value?(t(),s("div",He,[(t(),s($,null,C(3,o=>e("div",{key:o,class:"flex items-center gap-3 animate-pulse"},[...i[2]||(i[2]=[e("div",{class:"w-10 h-10 bg-gray-200 dark:bg-vikinger-dark-100 rounded-lg"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-3 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-3/4"}),e("div",{class:"h-2 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-1/2"})],-1)])])),64))])):h.value?(t(),s("div",Qe,[n(g(v),{icon:"fluent:error-circle-24-regular",class:"w-8 h-8 mx-auto mb-2 text-red-400"}),e("p",Xe,x(h.value),1)])):p.value.length===0?(t(),s("div",Ye,[n(g(v),{icon:"mdi:hand-coin-outline",class:"w-8 h-8 mx-auto mb-2 opacity-50"}),i[3]||(i[3]=e("p",{class:"text-sm"},"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ",-1))])):(t(),s("div",Ze,[(t(!0),s($,null,C(p.value,o=>(t(),s("div",{key:o.id,class:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-vikinger-dark-100 transition-colors"},[e("div",et,[n(g(v),{icon:"mdi:hand-coin",class:"w-5 h-5 text-white"}),o.status===0?(t(),s("div",tt,[n(g(v),{icon:"mdi:clock-outline",class:"w-2.5 h-2.5 text-white"})])):B("",!0)]),e("div",st,[e("div",rt,[e("p",at,x(o.donor_name||"‡∏ú‡∏π‡πâ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô"),1),o.status===0?(t(),s("span",it," ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ")):B("",!0)]),e("p",nt," ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ "+x(typeof o.remaining_points=="string"?o.remaining_points:o.remaining_points?.toLocaleString()||0)+" ‡πÅ‡∏ï‡πâ‡∏° ",1)]),e("button",{onClick:k=>l(o.id),disabled:c.value===o.id||o.remaining_points<270||o.status===0,class:q(["px-3 py-1.5 text-xs font-medium rounded-full transition-opacity flex items-center gap-1",o.status===0?"bg-gray-400 dark:bg-gray-600 text-white cursor-not-allowed":"text-white bg-gradient-to-r from-yellow-500 to-orange-500 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed"])},[c.value===o.id?(t(),E(g(v),{key:0,icon:"mdi:loading",class:"w-3 h-3 animate-spin"})):B("",!0),c.value===o.id?(t(),s("span",lt,"‡∏Å‡∏≥‡∏•‡∏±‡∏á...")):o.status===0?(t(),s("span",dt,"‡∏£‡∏≠")):(t(),s("span",ct,"‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πâ‡∏°"))],10,ot)]))),128))]))])}}},gt={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4"},vt={class:"flex items-center justify-between mb-4"},pt={key:0,class:"space-y-3"},ft={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},mt={class:"text-sm"},xt={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400"},ht={key:3,class:"space-y-3"},kt=["onClick"],yt=["src","alt"],_t={key:1,class:"w-full h-24 bg-gradient-to-br from-vikinger-purple to-vikinger-cyan flex items-center justify-center"},bt={class:"p-2"},wt={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},$t={class:"flex items-center justify-between mt-1"},Ct={class:"text-xs text-gray-500 dark:text-gray-400"},jt={class:"text-xs font-medium text-green-600 dark:text-green-400"},St={__name:"AdvertisesWidget",setup(L){const _=M(),a=m([]),p=m(!0),d=m(null),h=async()=>{p.value=!0,d.value=null;try{const c=await _.get("/api/advertises/widget");c?.advertises&&(a.value=c.advertises)}catch(c){console.error("Error fetching advertises:",c),d.value="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ"}finally{p.value=!1}};return T(()=>{h()}),(c,u)=>{const l=F;return t(),s("div",gt,[e("div",vt,[u[1]||(u[1]=e("h3",{class:"font-bold text-lg dark:text-white"},"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥",-1)),n(l,{to:"/earn/advertise",class:"text-sm text-blue-500 hover:underline"},{default:S(()=>[...u[0]||(u[0]=[j(" ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ",-1)])]),_:1})]),p.value?(t(),s("div",pt,[(t(),s($,null,C(2,r=>e("div",{key:r,class:"animate-pulse"},[...u[2]||(u[2]=[e("div",{class:"h-24 bg-gray-200 dark:bg-vikinger-dark-100 rounded-lg mb-2"},null,-1),e("div",{class:"h-3 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-3/4"},null,-1)])])),64))])):d.value?(t(),s("div",ft,[n(g(v),{icon:"fluent:error-circle-24-regular",class:"w-8 h-8 mx-auto mb-2 text-red-400"}),e("p",mt,x(d.value),1)])):a.value.length===0?(t(),s("div",xt,[n(g(v),{icon:"eos-icons:product-subscriptions-outlined",class:"w-8 h-8 mx-auto mb-2 opacity-50"}),u[3]||(u[3]=e("p",{class:"text-sm"},"‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ",-1))])):(t(),s("div",ht,[(t(!0),s($,null,C(a.value,r=>(t(),s("div",{key:r.id,class:"rounded-lg overflow-hidden bg-gray-50 dark:bg-vikinger-dark-100 hover:shadow-md transition-shadow cursor-pointer",onClick:i=>c.viewAdvertise(r.id)},[r.media_image?(t(),s("img",{key:0,src:r.media_image,alt:r.supporter,class:"w-full h-24 object-cover"},null,8,yt)):(t(),s("div",_t,[n(g(v),{icon:"fluent:megaphone-24-regular",class:"w-8 h-8 text-white/60"})])),e("div",bt,[e("p",wt,x(r.supporter||"‡∏ú‡∏π‡πâ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô"),1),e("div",$t,[e("span",Ct," ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ "+x(r.remaining_views?.toLocaleString()||0)+" ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ",1),e("span",jt," +"+x((r.duration*.04).toFixed(2))+" ‡∏ö‡∏≤‡∏ó ",1)])])],8,kt))),128))]))])}}},Pt={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-4 shadow-sm mb-6"},Nt={key:0,class:"space-y-3"},Bt={key:1,class:"space-y-4"},Lt={class:"relative shrink-0 w-12 h-12 mt-1"},At=["src","alt"],Mt={class:"flex-1 min-w-0"},Tt={class:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2 leading-tight group-hover:text-vikinger-purple transition-colors mb-1"},Wt={class:"flex items-center justify-between"},Et={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},Ft={class:"flex items-center justify-center text-gray-400 group-hover:text-vikinger-purple transition-colors mt-2"},qt={key:2,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm"},Rt=D({__name:"PopularCoursesWidget",setup(L){const _=M(),a=m([]),p=m(!0),d=J(),h=async()=>{p.value=!0;try{const c=await _.get("/api/courses/popular");c.success&&(a.value=c.courses)}catch(c){console.error("Failed to fetch popular courses",c)}finally{p.value=!1}};return T(()=>{h()}),(c,u)=>{const l=F;return t(),s("div",Pt,[u[2]||(u[2]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-4"},"‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°",-1)),p.value?(t(),s("div",Nt,[(t(),s($,null,C(3,r=>e("div",{key:r,class:"flex gap-3 animate-pulse"},[...u[0]||(u[0]=[e("div",{class:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg shrink-0"},null,-1),e("div",{class:"flex-1 space-y-2 py-1"},[e("div",{class:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e("div",{class:"h-2 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})],-1)])])),64))])):a.value.length>0?(t(),s("div",Bt,[(t(!0),s($,null,C(a.value,r=>(t(),E(l,{key:r.id,to:`/courses/${r.id}`,class:"flex items-start gap-3 group hover:bg-gray-50 dark:hover:bg-vikinger-dark-100 p-2 -mx-2 rounded-lg transition-colors"},{default:S(()=>[e("div",Lt,[e("img",{src:r.cover?r.cover:`${g(d).public.apiBase}/storage/images/courses/covers/default_cover.jpg`,alt:r.name,class:"w-full h-full object-cover rounded-lg shadow-sm"},null,8,At)]),e("div",Mt,[e("h4",Tt,x(r.name),1),e("div",Wt,[e("span",Et,x(r.user?r.user.name:r.instructor?r.instructor.name:"Unknown"),1)])]),e("div",Ft,[n(g(v),{icon:"fluent:bookmark-24-regular",class:"w-5 h-5"})])]),_:2},1032,["to"]))),128))])):(t(),s("div",qt,[n(g(v),{icon:"fluent:book-off-20-regular",class:"w-8 h-8 mx-auto mb-2 opacity-50"}),u[1]||(u[1]=e("p",null,"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°",-1))]))])}}}),Ot={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl shadow-sm overflow-hidden mb-6"},Ut={class:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between"},Dt={class:"flex items-center gap-2"},Jt={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-vikinger-purple to-vikinger-cyan flex items-center justify-center"},It={class:"divide-y divide-gray-100 dark:divide-gray-700"},Vt={class:"relative w-12 h-12 flex-shrink-0"},zt={class:"absolute inset-[2px] rounded-full overflow-hidden bg-gray-100"},Gt=["src","alt"],Kt={class:"flex-1 min-w-0"},Ht={class:"text-sm font-semibold text-gray-800 dark:text-white line-clamp-1 group-hover:text-vikinger-purple transition-colors"},Qt={class:"flex items-center gap-2 mt-1"},Xt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 truncate"},Yt={key:2,class:"p-6 text-center"},Zt={key:0,class:"p-3 border-t border-gray-100 dark:border-gray-700"},es=D({__name:"MemberedAcademiesWidget",setup(L){const _=M(),{user:a}=V(R()),p=J(),d=m([]),h=m(!0),c=m(1),u=m(!1),l=async(o=!1)=>{if(a.value)try{const k=await _.get(`/api/academies/users/${a.value.id}/membered-academies`,{params:{page:c.value,per_page:5}});if(k.success){const A=k.academies?.data||k.academies||[];o?d.value=[...d.value,...JSON.parse(JSON.stringify(A))]:d.value=JSON.parse(JSON.stringify(A.slice(0,5))),k.academies?.current_page&&k.academies?.last_page&&(u.value=k.academies.current_page<k.academies.last_page)}}catch(k){console.error("Failed to fetch membered academies:",k)}finally{h.value=!1}},r=()=>{c.value++,l(!0)},i=o=>o.logo?(o.logo.startsWith("http"),o.logo):`${p.public.apiBase}/storage/images/academies/logos/default_logo.png`,P=o=>({1:{label:"‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",color:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"},0:{label:"‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥",color:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400"},pending:{label:"‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥",color:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400"},approved:{label:"‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",color:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"}})[o]||{label:"‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",color:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"};return T(()=>{a.value&&l()}),z(a,o=>{o&&d.value.length===0&&l()}),(o,k)=>{const A=F;return t(),s("div",Ot,[e("div",Ut,[e("div",Dt,[e("div",Jt,[n(g(v),{icon:"fluent:building-24-regular",class:"w-4 h-4 text-white"})]),k[0]||(k[0]=e("h3",{class:"font-bold text-gray-800 dark:text-white"},"‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î",-1))]),n(A,{to:"/academies",class:"text-xs text-vikinger-purple hover:text-vikinger-cyan transition-colors"},{default:S(()=>[...k[1]||(k[1]=[j(" ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ",-1)])]),_:1})]),e("div",It,[h.value&&d.value.length===0?(t(),s($,{key:0},C(3,N=>e("div",{key:N,class:"p-4 flex gap-3 animate-pulse"},[...k[2]||(k[2]=[e("div",{class:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e("div",{class:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})],-1)])])),64)):d.value.length>0?(t(!0),s($,{key:1},C(d.value,N=>(t(),E(A,{key:N.id,to:`/academies/${encodeURIComponent(N.name)}`,class:"p-4 flex items-center gap-4 hover:bg-gray-50 dark:hover:bg-vikinger-dark-100 transition-colors group"},{default:S(()=>[e("div",Vt,[k[3]||(k[3]=e("div",{class:"absolute inset-0 rounded-full border-2 border-vikinger-purple"},null,-1)),e("div",zt,[e("img",{src:i(N),alt:N.name,class:"w-full h-full object-cover"},null,8,Gt)])]),e("div",Kt,[e("h4",Ht,x(N.name),1),e("div",Qt,[e("span",{class:q(["px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider rounded-full",P(N.memberStatus).color])},x(P(N.memberStatus).label),3),N.address?(t(),s("span",Xt,x(N.address),1)):B("",!0)])]),n(g(v),{icon:"fluent:chevron-right-24-regular",class:"w-4 h-4 text-gray-400 group-hover:text-vikinger-purple transition-colors flex-shrink-0"})]),_:2},1032,["to"]))),128)):(t(),s("div",Yt,[n(g(v),{icon:"fluent:building-multiple-24-regular",class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),k[5]||(k[5]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-3"},"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏î",-1)),n(A,{to:"/academies",class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-vikinger-purple to-vikinger-cyan rounded-full hover:opacity-90 transition-opacity"},{default:S(()=>[n(g(v),{icon:"fluent:search-24-regular",class:"w-4 h-4"}),k[4]||(k[4]=j(" ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ",-1))]),_:1})]))]),u.value&&d.value.length>0?(t(),s("div",Zt,[e("button",{onClick:r,class:"w-full py-2 text-sm text-vikinger-purple hover:bg-vikinger-purple/10 rounded-lg transition-colors"}," ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ")])):B("",!0)])}}}),ts={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl shadow-sm overflow-hidden mb-6"},ss={class:"p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between"},rs={class:"flex items-center gap-2"},as={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-400 to-pink-500 flex items-center justify-center"},is={class:"divide-y divide-gray-100 dark:divide-gray-700"},ns={class:"relative w-12 h-12 flex-shrink-0 mt-1"},os=["src","alt"],ls={class:"flex-1 min-w-0"},ds={class:"text-sm font-semibold text-gray-800 dark:text-white line-clamp-2 leading-tight group-hover:text-vikinger-purple transition-colors mb-1"},cs={class:"flex items-center gap-2 flex-wrap"},us={key:1,class:"text-xs text-gray-500 dark:text-gray-400 truncate"},gs={class:"flex items-center gap-3 mt-2 text-xs text-gray-400 dark:text-gray-500"},vs={key:0,class:"flex items-center gap-1"},ps={key:1,class:"flex items-center gap-1"},fs={key:2,class:"p-6 text-center"},ms={key:0,class:"p-3 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-vikinger-dark-100"},xs=D({__name:"AllAcademiesWidget",setup(L){const _=M(),a=J(),{user:p}=V(R()),d=m([]),h=m(!0),c=async()=>{if(p.value)try{const r=await _.get("/api/academies/all-academies",{params:{per_page:5}});if(r.success){const i=r.academies?.data||r.academies||[];d.value=JSON.parse(JSON.stringify(i.slice(0,5)))}}catch{}finally{h.value=!1}},u=r=>r.logo?(r.logo.startsWith("http"),r.logo):`${a.public.apiBase}/storage/images/academies/logos/default_logo.png`,l=r=>({public:{label:"‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•",icon:"fluent:building-government-24-regular",color:"text-blue-500"},private:{label:"‡πÄ‡∏≠‡∏Å‡∏ä‡∏ô",icon:"fluent:building-bank-24-regular",color:"text-purple-500"},foundation:{label:"‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥",icon:"fluent:heart-24-regular",color:"text-pink-500"},international:{label:"‡∏ô‡∏≤‡∏ô‡∏≤‡∏ä‡∏≤‡∏ï‡∏¥",icon:"fluent:globe-24-regular",color:"text-green-500"}})[r||""]||{label:"‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",icon:"fluent:building-24-regular",color:"text-gray-500"};return T(()=>{p.value&&c()}),z(p,r=>{r&&d.value.length===0&&c()}),(r,i)=>{const P=F;return t(),s("div",ts,[e("div",ss,[e("div",rs,[e("div",as,[n(g(v),{icon:"fluent:building-multiple-24-regular",class:"w-4 h-4 text-white"})]),i[0]||(i[0]=e("h3",{class:"font-bold text-gray-800 dark:text-white"},"‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",-1))]),n(P,{to:"/academies",class:"text-xs text-vikinger-purple hover:text-vikinger-cyan transition-colors"},{default:S(()=>[...i[1]||(i[1]=[j(" ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ",-1)])]),_:1})]),e("div",is,[h.value?(t(),s($,{key:0},C(3,o=>e("div",{key:o,class:"p-4 flex gap-3 animate-pulse"},[...i[2]||(i[2]=[e("div",{class:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg"},null,-1),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e("div",{class:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})],-1)])])),64)):d.value.length>0?(t(!0),s($,{key:1},C(d.value,o=>(t(),E(P,{key:o.id,to:`/academies/${encodeURIComponent(o.name)}`,class:"p-4 flex items-start gap-4 hover:bg-gray-50 dark:hover:bg-vikinger-dark-100 transition-colors group"},{default:S(()=>[e("div",ns,[e("img",{src:u(o),alt:o.name,class:"w-full h-full object-cover rounded-lg shadow-sm"},null,8,os)]),e("div",ls,[e("h4",ds,x(o.name),1),e("div",cs,[o.type?(t(),s("span",{key:0,class:q(["inline-flex items-center gap-1 text-xs",l(o.type).color])},[n(g(v),{icon:l(o.type).icon,class:"w-3 h-3"},null,8,["icon"]),j(" "+x(l(o.type).label),1)],2)):B("",!0),o.address?(t(),s("span",us,[n(g(v),{icon:"fluent:location-24-regular",class:"w-3 h-3 inline"}),j(" "+x(o.address),1)])):B("",!0)]),e("div",gs,[o.total_students?(t(),s("span",vs,[n(g(v),{icon:"fluent:people-24-regular",class:"w-3 h-3"}),j(" "+x(o.total_students)+" ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ",1)])):B("",!0),o.total_teachers?(t(),s("span",ps,[n(g(v),{icon:"fluent:person-24-regular",class:"w-3 h-3"}),j(" "+x(o.total_teachers)+" ‡∏Ñ‡∏£‡∏π ",1)])):B("",!0)])]),n(g(v),{icon:"fluent:chevron-right-24-regular",class:"w-4 h-4 text-gray-400 group-hover:text-vikinger-purple transition-colors flex-shrink-0 mt-2"})]),_:2},1032,["to"]))),128)):(t(),s("div",fs,[n(g(v),{icon:"fluent:building-multiple-24-regular",class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),i[3]||(i[3]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö",-1))]))]),d.value.length>0?(t(),s("div",ms,[n(P,{to:"/academies",class:"w-full flex items-center justify-center gap-2 py-2 text-sm font-medium text-vikinger-purple hover:text-vikinger-cyan transition-colors"},{default:S(()=>[n(g(v),{icon:"fluent:grid-24-regular",class:"w-4 h-4"}),i[4]||(i[4]=j(" ‡∏î‡∏π‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ",-1))]),_:1})])):B("",!0)])}}}),hs={class:"space-y-6"},ks={key:0,class:"bg-red-50 dark:bg-red-900/20 rounded-xl p-6 text-center"},ys={class:"text-red-600 dark:text-red-400 mb-4"},_s={key:1,class:"space-y-4"},bs={key:2,class:"space-y-4"},ws={class:"flex justify-center"},$s={key:0,class:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-vikinger-dark-200 text-vikinger-purple rounded-full shadow-sm"},Cs={key:1,class:"h-4 w-full"},js={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400"},Ss={key:2,class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-8 text-center"},Ps={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-4 shadow-sm"},Ns={class:"flex gap-2 overflow-x-auto"},Bs={class:"relative"},Ls=["src","alt"],As=["src","alt"],Ms={class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-4 shadow-sm"},Ts={class:"flex gap-3"},Ws={__name:"Newsfeed",setup(L){te({title:"Newsfeed - Plearnd"});const _=M();R();const a=m([]),p=m(!0),d=m(!1),h=m(null),c=m({currentPage:1,lastPage:1,total:0,perPage:15}),u=U(()=>c.value.currentPage<c.value.lastPage),l=m(null);let r=null;const i=U(()=>({posts:294,postsGrowth:.4,likes:12642,loves:8913,dislikes:945,happy:7034})),P=U(()=>59),o=m({completed:11,total:30}),k=m({unlocked:22,total:46}),A=m([{id:1,user:"Sarah Diamond",avatar:"https://i.pravatar.cc/150?img=1",preview:"https://picsum.photos/200/300?random=1"},{id:2,user:"James Murdock",avatar:"https://i.pravatar.cc/150?img=2",preview:"https://picsum.photos/200/300?random=2"}]),N=m([{id:1,name:"Gold Star",icon:"‚≠ê",color:"from-yellow-400 to-yellow-600"},{id:2,name:"Shield",icon:"üõ°Ô∏è",color:"from-blue-400 to-blue-600"}]),O=async(b=1,f=!1)=>{b===1?p.value=!0:d.value=!0,h.value=null;try{const y=await _.get(`/api/newsfeed/activities?page=${b}&per_page=${c.value.perPage}`);if(y&&y.activities){const w=Array.isArray(y.activities)?y.activities:y.activities.data||[];f?a.value=[...a.value,...w]:a.value=w,y.activities.current_page!==void 0?c.value={currentPage:y.activities.current_page||b,lastPage:y.activities.last_page||1,total:y.activities.total||0,perPage:y.activities.per_page||15}:(c.value.currentPage=b,w.length<c.value.perPage?c.value.lastPage=b:c.value.lastPage=b+1)}}catch(y){console.error("Error fetching activities:",y),console.error("Error details:",{message:y?.message,status:y?.statusCode||y?.response?.status,data:y?.data}),y?.statusCode===401||y?.message?.includes("401")||y?.message?.includes("authentication")?h.value="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á":h.value="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"}finally{p.value=!1,d.value=!1}},G=async()=>{u.value&&!d.value&&!p.value&&await O(c.value.currentPage+1,!0)},I=async()=>{c.value.currentPage=1,await O(1,!1)},K=b=>{b&&b.id&&a.value.unshift(b)},H=b=>{a.value=a.value.filter(f=>f.id!==b),c.value.total>0&&c.value.total--},Q=b=>{const f=a.value.findIndex(y=>y.target_resource&&y.target_resource.id===b.id?!0:y.id===b.id);f!==-1&&(a.value[f].target_resource?a.value[f]={...a.value[f],target_resource:{...a.value[f].target_resource,...b}}:a.value[f]={...a.value[f],...b})},X=()=>{r&&r.disconnect(),r=new IntersectionObserver(b=>{b[0].isIntersecting&&u.value&&!d.value&&G()},{root:null,rootMargin:"100px",threshold:.1}),l.value&&r.observe(l.value)};return T(async()=>{await O(1,!1),X()}),se(()=>{r&&r.disconnect()}),(b,f)=>{const y=re;return t(),E(y,{name:"main"},{leftWidgets:S(()=>[n(oe,{class:"mb-6"}),n(le,{class:"mb-6"}),n(Rt,{class:"mb-6"}),n(ne,{completion:P.value,quests:o.value,badges:k.value},null,8,["completion","quests","badges"]),n(me,{stats:i.value},null,8,["stats"])]),rightWidgets:S(()=>[n(es),n(xs),n(Ne),n(ze),n(ut),n(St),e("div",Ps,[f[7]||(f[7]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-4"},"Recent Stories",-1)),e("div",Ns,[(t(!0),s($,null,C(A.value,w=>(t(),s("div",{key:w.id,class:"flex-shrink-0 w-16 cursor-pointer group"},[e("div",Bs,[e("img",{src:w.preview,alt:w.user,class:"w-16 h-24 object-cover rounded-lg ring-2 ring-vikinger-purple"},null,8,Ls),e("img",{src:w.avatar,alt:w.user,class:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-8 h-8 rounded-full border-2 border-white dark:border-vikinger-dark-200"},null,8,As)])]))),128))])]),e("div",Ms,[f[8]||(f[8]=e("h3",{class:"font-semibold text-gray-900 dark:text-white mb-4"},"Featured Badges",-1)),e("div",Ts,[(t(!0),s($,null,C(N.value,w=>(t(),s("div",{key:w.id,class:q(["w-12 h-12 rounded-lg flex items-center justify-center text-2xl bg-gradient-to-br shadow-lg",w.color])},x(w.icon),3))),128))])])]),default:S(()=>[e("div",hs,[n(ae,{onPostCreated:K}),h.value&&!p.value?(t(),s("div",ks,[n(g(v),{icon:"fluent:error-circle-24-regular",class:"w-12 h-12 mx-auto mb-3 text-red-500"}),e("p",ys,x(h.value),1),e("button",{onClick:I,class:"px-6 py-2 bg-vikinger-purple text-white rounded-full hover:bg-vikinger-purple/90 transition-colors"},[n(g(v),{icon:"fluent:arrow-sync-24-regular",class:"w-4 h-4 inline mr-2"}),f[0]||(f[0]=j(" ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ",-1))])])):p.value?(t(),s("div",_s,[(t(),s($,null,C(3,w=>e("div",{key:w,class:"bg-white dark:bg-vikinger-dark-200 rounded-xl p-6 animate-pulse"},[...f[1]||(f[1]=[e("div",{class:"flex items-center gap-4 mb-4"},[e("div",{class:"w-12 h-12 bg-gray-200 dark:bg-vikinger-dark-100 rounded-full"}),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-4 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-1/4"}),e("div",{class:"h-3 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-1/6"})])],-1),e("div",{class:"space-y-2"},[e("div",{class:"h-4 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-full"}),e("div",{class:"h-4 bg-gray-200 dark:bg-vikinger-dark-100 rounded w-3/4"})],-1)])])),64))])):(t(),s("div",bs,[e("div",ws,[e("button",{onClick:I,class:"flex items-center gap-2 px-4 py-2 text-sm text-vikinger-purple hover:bg-vikinger-purple/10 rounded-full transition-colors"},[n(g(v),{icon:"fluent:arrow-sync-24-regular",class:"w-4 h-4"}),f[2]||(f[2]=j(" ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏ü‡∏µ‡∏î ",-1))])]),(t(!0),s($,null,C(a.value,w=>(t(),E(ie,{key:w.id,post:w,onDeleteSuccess:H,onPostUpdated:Q},null,8,["post"]))),128)),u.value?(t(),s("div",{key:0,ref_key:"loadMoreTrigger",ref:l,class:"flex justify-center py-6"},[d.value?(t(),s("div",$s,[n(g(v),{icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"}),f[3]||(f[3]=j(" ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î... ",-1))])):(t(),s("div",Cs))],512)):a.value.length>0?(t(),s("div",js,[n(g(v),{icon:"fluent:checkmark-circle-24-regular",class:"w-8 h-8 mx-auto mb-2 text-green-500"}),f[4]||(f[4]=e("p",null,"‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏î‡∏π‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!",-1))])):B("",!0),a.value.length===0&&!h.value?(t(),s("div",Ss,[n(g(v),{icon:"fluent:document-text-24-regular",class:"w-16 h-16 mx-auto mb-4 text-gray-400"}),f[5]||(f[5]=e("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2"}," ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏û‡∏™‡∏ï‡πå ",-1)),f[6]||(f[6]=e("p",{class:"text-gray-500 dark:text-gray-400"}," ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏¥‡πà‡∏á‡∏î‡∏µ‡πÜ ‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ! ",-1))])):B("",!0)]))])]),_:1})}}},Gs=ee(Ws,[["__scopeId","data-v-73c5e4e8"]]);export{Gs as default};
