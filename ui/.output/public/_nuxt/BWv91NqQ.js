import{q as u,r as p,ao as l,C as d,ap as y,V as h,n as m,y as c,K as a,f as A,E as i}from"./CHs-R6Sv.js";function f(t,e){const s=t.type,r=s==="html"?"htmlAttrs":s==="body"?"bodyAttrs":s;if(typeof r!="string"||!(r in e))return;const n=t.props||{};if(t.children){const o="children";n.children=Array.isArray(t.children)?t.children[0][o]:t[o]}Array.isArray(e[r])?e[r].push(n):r==="title"?e.title=n.children:e[r]=n}function g(t){const e={title:void 0,htmlAttrs:void 0,bodyAttrs:void 0,base:void 0,meta:[],link:[],style:[],script:[],noscript:[]};for(const s of t)if(typeof s.type=="symbol"&&Array.isArray(s.children))for(const r of s.children)f(r,e);else f(s,e);return e}const b=u({name:"Head",setup(t,{slots:e}){const s=p({}),r=l(s);return d(()=>{r.dispose()}),()=>(y(()=>{e.default&&r.patch(g(e.default()))}),null)}}),x=b,$=u({name:"InertiaLinkShim",inheritAttrs:!1,props:{href:{type:String,default:""},as:{type:String,default:void 0},method:{type:String,default:void 0},data:{type:Object,default:void 0},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:s}){const r=A("NuxtLink");return t.as==="button"?()=>i("button",{type:s.type??"button",...s},e.default?.()):()=>i(r,{to:t.href,...s},e.default?.())}});function E(){return c().$inertiaPage||{props:{}}}function v(t){return typeof t!="string"?"/":t.startsWith("/")?t:`/${t}`}const T={async visit(t){await a(t)},async get(t){await a(t)},async post(t,e){try{const r=c().$fetch||globalThis.$fetch;typeof r=="function"&&await r(t,{method:"POST",body:e})}catch{}await a("/")},async put(t,e){return this.post(t,e)},async patch(t,e){return this.post(t,e)},async delete(t,e){return this.post(t,e)}};function H(t={}){const e=h({...t,processing:!1,errors:{},hasErrors:m(()=>Object.keys(e.errors||{}).length>0),recentlySuccessful:!1,reset:(...s)=>{if(!s.length){Object.keys(t).forEach(r=>e[r]=t[r]);return}s.forEach(r=>e[r]=t[r])},clearErrors:()=>{e.errors={}},setError:(s,r)=>{e.errors={...e.errors||{},[s]:r}},async post(s,r={}){e.processing=!0;try{const o=c().$fetch||globalThis.$fetch;typeof o=="function"&&await o(v(s),{method:"POST",body:e}),e.recentlySuccessful=!0,r?.onSuccess?.()}catch(n){r?.onError?.(n)}finally{e.processing=!1}}});return e}export{x as H,$ as L,E as a,T as r,H as u};
