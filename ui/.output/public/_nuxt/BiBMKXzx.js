import{_ as S,r as v,n as k,c as r,b as f,a as t,u as m,t as i,$ as C,aa as D,e as $,F as p,k as z,o as d,h as M,I as j,T as L,d as B}from"./cTealXVQ.js";import{_ as N}from"./CTH_zSYT.js";import{H as T}from"./DUwVLjCh.js";import{j as H}from"./unovbEJl.js";import{S as I}from"./BQxta0Da.js";import U from"./DXEQVQnt.js";const A={class:"min-h-screen"},E={class:"max-w-7xl mx-auto"},O={class:"bg-white rounded-2xl shadow-xl p-6 mb-6"},R={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},V={class:"space-y-2"},q={class:"flex gap-4"},F={class:"flex items-center gap-2"},P={class:"px-3 py-2 bg-blue-100 text-blue-800 rounded-lg font-bold"},G={class:"flex items-center gap-2 text-gray-600"},K={class:"font-medium"},Y={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full md:w-auto"},J={class:"relative w-full sm:w-80"},Q={class:"flex items-center w-full sm:w-auto"},W={key:0,class:"flex flex-col items-center justify-center bg-white rounded-2xl shadow-xl p-12"},X={key:1,class:"grid grid-cols-1 gap-4"},Z={class:"flex justify-center items-center font-sarabun"},tt=["id"],et={class:"flex p-[2%] gap-[2%] h-[80%]"},st={class:"w-[30%] h-[80%] rounded-xl overflow-hidden flex-shrink-0 mt-4"},it={key:0,class:"w-full h-full relative"},ot=["src"],at={key:1,class:"w-full h-full flex items-center justify-center bg-gray-300 cursor-pointer"},lt={class:"flex-1 relative"},nt={class:""},rt={class:"flex items-center"},dt={class:"flex items-center -mt-3"},xt={class:"text-[36px] font-base text-gray-700 leading-tight"},ct={key:0},gt={class:""},ft={class:"flex items-center"},mt={class:"text-[44px] font-bold text-gray-800 leading-tight"},ut={class:""},vt={class:"flex"},pt={class:"text-[44px] font-bold text-gray-800 leading-tight"},ht={class:""},yt={class:"flex"},_t={class:"text-[44px] font-bold text-gray-800 leading-tight"},bt={class:"flex -mt-3"},wt={class:"text-[36px] font-base text-gray-700 leading-tight"},St={class:""},kt={class:"flex"},Ct={class:"text-[44px] font-bold text-gray-800 leading-tight"},Dt={class:"flex -mt-3"},$t={class:"text-[36px] font-base text-gray-700 leading-tight"},zt={class:"-mt-1"},Mt={class:"flex"},jt={class:"text-[44px] font-bold text-gray-800 leading-tight"},Lt={class:"flex -mt-3"},Bt={class:"text-[36px] font-base text-gray-700 leading-tight"},Nt={class:"absolute bottom-10 right-10 w-[192px]"},Tt={class:"flex justify-center items-center w-full mt-2"},Ht={class:"w-full text-end"},It=["onClick"],Ut={__name:"StudentCardByRoom",props:{students:{type:Array,default:()=>[]},room:String,level:String},setup(l){const x=l,h=v([]),c=v(""),y=k(()=>c.value?x.students?x.students.filter(o=>{const e=c.value.toLowerCase();return o.first_name_thai&&o.first_name_thai.toLowerCase().includes(e)||o.student_number&&o.student_number.toString().includes(c.value)}):[]:x.students),_=o=>{const e=x.students[o];return e.first_name_english?e.title_name=="เด็กหญิง"||e.title_name=="นางสาว"?"Ms.":e.title_name=="เด็กชาย"||e.title_name=="นาย"?"Mr.":"":""},b=o=>{if(!o)return"";const e=String(o);return e.length!==13?e:e.replace(/\D/g,"").replace(/(\d)(\d{4})(\d{5})(\d{2})(\d{1})/,"$1-$2-$3-$4-$5")},w=async(o,e)=>{const s=document.getElementById("card-"+o);try{const g=(await U(s,{backgroundColor:null,scale:6})).toDataURL("image/png"),n=document.createElement("a");n.href=g,n.download=`student_card_${x.level}_${x.room}_${e}.png`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(a){console.error("Error downloading card:",a),I.fire({icon:"error",title:"เกิดข้อผิดพลาด",text:"ไม่สามารถดาวน์โหลดบัตรนักเรียนได้"})}},u=o=>{const e=x.students[o];if(!e?.first_name_thai)return{prefix:"",txtSize:"text-[46px]"};const s=(e.first_name_thai.length||0)+(e.last_name_thai?.length||0),a=e.title_name==="เด็กหญิง",g=e.title_name==="เด็กชาย",n=e.title_name==="นางสาว";return s<15?{prefix:e.title_name,txtSize:"text-[46px]"}:s>20?a?{prefix:"ด.ญ.",txtSize:"text-[42px]"}:g?{prefix:"ด.ช.",txtSize:"text-[42px]"}:n?{prefix:"น.ส.",txtSize:"text-[42px]"}:{prefix:"",txtSize:"text-[42px]"}:a?{prefix:"ด.ญ.",txtSize:"text-[46px]"}:g?{prefix:"ด.ช.",txtSize:"text-[46px]"}:n?{prefix:"น.ส.",txtSize:"text-[46px]"}:{prefix:"",txtSize:"text-[44px]"}};return(o,e)=>(d(),r(p,null,[f(m(T),{title:`ข้อมูลนักเรียน - ชั้น ม.${l.level}/${l.room}`},null,8,["title"]),t("div",A,[t("div",E,[t("div",O,[t("div",R,[t("div",V,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-800"},"ข้อมูลนักเรียน",-1)),t("div",q,[t("div",F,[t("span",P," ชั้น ม."+i(l.level)+"/"+i(l.room),1)]),t("div",G,[e[2]||(e[2]=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),t("span",K,i(l.students?.length||0)+" คน",1)])])]),t("div",Y,[t("div",J,[C(t("input",{id:"student-search-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),placeholder:"ค้นหาชื่อหรือรหัสนักเรียน...",class:"w-full px-4 py-2 pr-10 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"},null,512),[[D,c.value]]),e[4]||(e[4]=t("svg",{class:"w-5 h-5 text-gray-400 absolute right-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),t("div",Q,[t("button",{onClick:e[1]||(e[1]=s=>o.$inertia.visit("/student-card/admin")),class:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200"},[...e[5]||(e[5]=[t("svg",{class:"w-5 h-5 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),$(" กลับ ",-1)])])])])])]),!l.students||l.students.length===0?(d(),r("div",W,[...e[6]||(e[6]=[t("svg",{class:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1),t("p",{class:"mt-4 text-gray-500 text-lg"},"ไม่พบข้อมูลนักเรียน",-1)])])):(d(),r("div",X,[(d(!0),r(p,null,z(y.value,(s,a)=>(d(),r("div",{key:s.id},[t("div",Z,[t("div",{ref_for:!0,ref:`card-${h.value[a]}`,id:`card-${a}`,class:"student-card-container w-full aspect-[1.95/1.20] relative overflow-hidden rounded-2xl shadow-lg border border-gray-300"},[e[29]||(e[29]=M('<div class="h-[20%] -ml-8 flex items-center relative" style="background:linear-gradient(135deg, transparent 45%, #4a90e2 0%);" data-v-c7705de8><div class="w-[22%] aspect-square border-1 border-white flex items-center justify-center" data-v-c7705de8><img src="'+N+'" alt="School Logo" class="w-[56%] h-[56%] mt-10 object-cover rounded-full" data-v-c7705de8></div><div class="-ml-10 -mt-2" data-v-c7705de8><div class="text-6xl font-semibold md:font-bold text-gray-800" data-v-c7705de8> โรงเรียนจริยธรรมศึกษามูลนิธิ </div><div class="text-[34px] mt-2 font-semibold text-gray-800" data-v-c7705de8> CHARIYATHAMSUKSA FOUNDATION SCHOOL </div><div class="text-3xl -mt-1.5 text-gray-800" data-v-c7705de8> 148 ม.8 ต.สะกอม อ.จะนะ จ.สงขลา 90130 โทร.081-5412281 </div></div><div class="absolute -top-8 right-4 mt-[148px] ml-12 text-white bg-blue-700 px-4 pb-2 text-end rounded-md" data-v-c7705de8><div class="text-3xl -mt-1.5 font-semibold" data-v-c7705de8>บัตรประจำตัวนักเรียน</div><div class="text-2xl" data-v-c7705de8>STUDENT CARD</div></div></div>',1)),t("div",et,[t("div",st,[s.profile_image?(d(),r("div",it,[t("img",{src:`/storage/images/students/${s.class_level}/${s.class_section}/${s.profile_image}`,alt:"Student Photo",class:"w-full h-full object-fill rounded-xl"},null,8,ot)])):(d(),r("div",at,[f(m(j),{icon:"tabler:photo-plus",class:"w-10 h-10 text-gray-600/60"})]))]),t("div",lt,[t("div",nt,[t("div",rt,[e[7]||(e[7]=t("div",{class:"w-[284px] text-[38px] font-bold text-gray-600 leading-tight mt-2"},"ชื่อ",-1)),e[8]||(e[8]=t("div",{class:"text-[42px] font-bold text-gray-800 leading-tight mr-3 mt-1"},":",-1)),t("div",{class:L([u(a).txtSize,"font-bold text-gray-800 leading-tight -mt-1"])},i(u(a).prefix)+i(s.first_name_thai)+" "+i(s.last_name_thai),3)]),t("div",dt,[e[9]||(e[9]=t("div",{class:"w-[284px] text-[32px] font-base text-gray-700 leading-tight"},"Name",-1)),e[10]||(e[10]=t("div",{class:"text-[42px] font-base text-gray-700 leading-tight text-transparent mr-4"},":",-1)),t("div",xt,[s.first_name_english?(d(),r("span",ct,i(_(a))+i(s.first_name_english),1)):B("",!0)])])]),t("div",gt,[t("div",ft,[e[11]||(e[11]=t("div",{class:"w-[284px] text-[38px] font-bold text-gray-600 leading-tight"},"รหัสประจำตัว",-1)),e[12]||(e[12]=t("div",{class:"text-[42px] font-bold text-gray-700 leading-tight mr-3"},":",-1)),t("div",mt,i(s.student_number),1)]),e[13]||(e[13]=t("div",{class:"flex items-center -mt-4"},[t("div",{class:"w-[284px] text-[32px] font-base text-gray-700 leading-tight"},"Student ID"),t("div",{class:"text-[42px] font-base text-gray-700 leading-tight text-transparent mr-4"},":")],-1))]),t("div",ut,[t("div",vt,[e[14]||(e[14]=t("div",{class:"w-[284px] text-[38px] font-bold text-gray-600 leading-tight"},"เลขบัตรประชาชน",-1)),e[15]||(e[15]=t("div",{class:"text-[42px] font-bold text-gray-700 leading-tight mr-3"},":",-1)),t("div",pt,i(b(s.national_id)),1)]),e[16]||(e[16]=t("div",{class:"flex -mt-4"},[t("div",{class:"w-[284px] text-[32px] font-base text-gray-700 leading-tight"},"ID Card Number"),t("div",{class:"text-[42px] font-base text-gray-700 leading-tight text-transparent mr-4"},":")],-1))]),t("div",ht,[t("div",yt,[e[17]||(e[17]=t("div",{class:"w-[284px] text-[38px] font-bold text-gray-600 leading-tight"},"ระดับ",-1)),e[18]||(e[18]=t("div",{class:"text-[42px] font-bold text-gray-700 leading-tight mr-3"},":",-1)),t("div",_t,i(s.class_level<4?"มัธยมศึกษาตอนต้น":"มัธยมศึกษาตอนปลาย"),1)]),t("div",bt,[e[19]||(e[19]=t("div",{class:"w-[284px] text-[32px] font-base text-gray-700 leading-tight"},"Level",-1)),e[20]||(e[20]=t("div",{class:"text-[42px] font-base text-gray-700 leading-tight text-transparent mr-4"},":",-1)),t("div",wt,i(s.class_level<4?"Lower Secondary":"Upper Secondary"),1)])]),t("div",St,[t("div",kt,[e[21]||(e[21]=t("div",{class:"w-[284px] text-[38px] font-bold text-gray-600 leading-tight"},"วัน/เดือน/ปี เกิด",-1)),e[22]||(e[22]=t("div",{class:"text-[42px] font-bold text-gray-700 leading-tight mr-3"},":",-1)),t("div",Ct,i(new Date(s.birth_date).toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})),1)]),t("div",Dt,[e[23]||(e[23]=t("div",{class:"w-[284px] text-[32px] font-base text-gray-700 leading-tight"},"Date of Birth",-1)),e[24]||(e[24]=t("div",{class:"text-[42px] font-base text-gray-700 leading-tight text-transparent mr-4"},":",-1)),t("div",$t,i(new Date(s.birth_date).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})),1)])]),t("div",zt,[t("div",Mt,[e[25]||(e[25]=t("div",{class:"w-[284px] text-[38px] font-bold text-gray-600 leading-tight"},"วันหมดอายุบัตร",-1)),e[26]||(e[26]=t("div",{class:"text-[42px] font-bold text-gray-700 leading-tight mr-3"},":",-1)),t("div",jt,i(new Date(s.card_expiry_date).toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})),1)]),t("div",Lt,[e[27]||(e[27]=t("div",{class:"w-[284px] text-[32px] font-base text-gray-700 leading-tight"},"Expiry Date",-1)),e[28]||(e[28]=t("div",{class:"text-[42px] font-base text-gray-700 leading-tight text-transparent mr-4"},":",-1)),t("div",Bt,i(new Date(s.card_expiry_date).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})),1)])])])]),t("div",Nt,[f(m(H),{value:`${s.student_number}`,cornersSquareOptions:{type:"extra-rounded",color:"#000"},dotsOptions:{type:"dots",color:"#000"},cornersDotOptions:{type:"square",color:"#000"}},null,8,["value"])]),e[30]||(e[30]=t("div",{class:"absolute bottom-0 left-0 w-full h-8 flex items-center justify-center rounded-b-2xl",style:{background:"linear-gradient(135deg, #4a90e2 72%, transparent 0%)"}},[t("span",{class:"text-white text-[1vw] text-sm font-medium tracking-wider"})],-1))],8,tt)]),t("div",Tt,[t("div",Ht,[t("button",{onClick:g=>w(a,s.student_number),class:"px-4 py-2 bg-blue-600 text-white rounded-lg"}," ดาวน์โหลดบัตรนักเรียน ",8,It)])])]))),128))]))])])],64))}},Ft=S(Ut,[["__scopeId","data-v-c7705de8"]]);export{Ft as default};
