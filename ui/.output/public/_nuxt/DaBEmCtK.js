import{_ as ie}from"./BP2gnDQ3.js";import{q as te,o as r,c as n,a7 as Q,a as e,T as q,b as o,d as u,n as G,f as Ke,_ as ce,a8 as Qe,r as w,a9 as ee,y as se,a3 as Se,w as N,u as t,F as U,k as Z,g as B,t as a,a4 as oe,a1 as de,I as l,e as m,$ as Fe,aa as Je,aF as et,K as ne,W as tt,j as pe,a0 as st,ay as rt,l as ot,ae as lt,h as nt}from"./Brb_7992.js";import{_ as Y}from"./B56lO0ps.js";import{_ as it,F as at}from"./Z-f9zonx.js";import{_ as dt}from"./I9g1nx1X.js";import{u as ve}from"./CZYWTWzM.js";import{a as Pe,d as ct,g as ut,i as gt,e as ft,f as pt,b as vt}from"./CKGmmoJI.js";import"./BxjnrTC5.js";import"./dw-ZgbPA.js";import"./CaSR6SuD.js";import"./BQxta0Da.js";import"./D1e3wYap.js";const xt=["src","alt"],yt={key:1,class:"avatar-fallback"},bt=te({__name:"CircleAvatar",props:{src:{},alt:{default:"Avatar"},fallbackIcon:{default:"mdi:account"},size:{default:"md"},showBorder:{type:Boolean,default:!0},borderColor:{default:"#23d2e2"},borderWidth:{default:3},showOnlineStatus:{type:Boolean,default:!1},isOnline:{type:Boolean,default:!1}},emits:["error"],setup(f,{emit:D}){const E=f,y=D,k={xs:32,sm:48,md:80,lg:120,xl:160,"2xl":200,"3xl":260},M=G(()=>typeof E.size=="number"?E.size:k[E.size]||k.md),S=G(()=>typeof E.size=="string"?`size-${E.size}`:""),H=G(()=>({width:`${M.value}px`,height:`${M.value}px`})),O=G(()=>({width:`${M.value}px`,height:`${M.value}px`,borderColor:E.showBorder?E.borderColor:"transparent",borderWidth:E.showBorder?`${E.borderWidth}px`:"0"}));function p(i){y("error",i)}return(i,C)=>{const h=Ke("Icon");return r(),n("div",{class:"circle-avatar-wrapper",style:Q(H.value)},[e("div",{class:q(["circle-avatar",[S.value,{"has-border":f.showBorder}]]),style:Q(O.value)},[f.src?(r(),n("img",{key:0,src:f.src,alt:f.alt,class:"avatar-image",onError:p},null,40,xt)):(r(),n("div",yt,[o(h,{name:f.fallbackIcon,class:"fallback-icon"},null,8,["name"])]))],6),f.showOnlineStatus?(r(),n("div",{key:0,class:q(["online-status",{online:f.isOnline}])},null,2)):u("",!0)],4)}}}),be=ce(bt,[["__scopeId","data-v-a5fac8db"]]),ht=Qe("chat",()=>{const f=w([]),D=w([]);function E(k){D.value=k}function y(k){f.value.push(k)}return{messages:f,friends:D,setFriends:E,addMessage:y}}),he=()=>{const f=ee(),D=ht(),E=w([]),y=w([]),k=w([]),M=w(!1),S=w(!1),H=w(!1),O=w(null),p=w(1),i=w(1),C=G(()=>p.value<i.value),h=async(v,x=1)=>{M.value=!0,O.value=null;try{const R=v?`/api/users/${v}/friends?page=${x}`:`/api/friends?page=${x}`,T=await f.get(R);if(T.success){const X=T.data||T.friends||[];return x===1?E.value=X:E.value=[...E.value,...X],T.meta&&(p.value=T.meta.current_page,i.value=T.meta.last_page),D.setFriends(E.value),X}return[]}catch(R){return O.value=R.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¹€à¸žà¸·à¹ˆà¸­à¸™à¹„à¸”à¹‰",console.error("Error fetching friends:",R),[]}finally{M.value=!1}};return{friends:E,friendRequests:y,suggestions:k,isLoading:M,isLoadingRequests:S,isLoadingSuggestions:H,error:O,hasMore:C,fetchFriends:h,fetchPendingRequests:async()=>{S.value=!0,O.value=null;try{const v=await f.get("/api/friends/pending");return v.success?(y.value=v.requests||v.data||[],y.value):[]}catch(v){return O.value=v.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸„à¸³à¸‚à¸­à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¹„à¸”à¹‰",console.error("Error fetching friend requests:",v),[]}finally{S.value=!1}},fetchSuggestions:async()=>{H.value=!0,O.value=null;try{const v=await f.get("/api/friends/suggestions");return v.success?(k.value=v.users||v.data||[],k.value):[]}catch(v){return O.value=v.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¸„à¸³à¹à¸™à¸°à¸™à¸³à¹€à¸žà¸·à¹ˆà¸­à¸™à¹„à¸”à¹‰",console.error("Error fetching suggestions:",v),[]}finally{H.value=!1}},sendFriendRequest:async v=>{try{return(await f.post(`/api/friends/${v}`,{})).success?(k.value=k.value.filter(R=>R.id!==v),!0):!1}catch(x){return O.value=x.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¹„à¸”à¹‰",console.error("Error sending friend request:",x),!1}},acceptFriendRequest:async v=>{try{if((await f.patch(`/api/friends/${v}/accept`,{})).success){const R=y.value.find(T=>T.sender.id===v);return y.value=y.value.filter(T=>T.sender.id!==v),R&&E.value.unshift(R.sender),!0}return!1}catch(x){return O.value=x.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¸­à¸¡à¸£à¸±à¸šà¸„à¸³à¸‚à¸­à¹„à¸”à¹‰",console.error("Error accepting friend request:",x),!1}},denyFriendRequest:async v=>{try{return(await f.post(`/api/friends/${v}/deny`,{})).success?(y.value=y.value.filter(R=>R.sender.id!==v),!0):!1}catch(x){return O.value=x.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸›à¸à¸´à¹€à¸ªà¸˜à¸„à¸³à¸‚à¸­à¹„à¸”à¹‰",console.error("Error denying friend request:",x),!1}},cancelFriendRequest:async v=>{try{return!!(await f.delete(`/api/friends/${v}`)).success}catch(x){return O.value=x.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¸à¹€à¸¥à¸´à¸à¸„à¸³à¸‚à¸­à¹„à¸”à¹‰",console.error("Error canceling friend request:",x),!1}},unfriend:async v=>{try{return(await f.post(`/api/friends/${v}/unfriend`,{})).success?(E.value=E.value.filter(R=>R.id!==v),!0):!1}catch(x){return O.value=x.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¹€à¸žà¸·à¹ˆà¸­à¸™à¹„à¸”à¹‰",console.error("Error unfriending:",x),!1}},searchFriends:async v=>{if(!v.trim())return E.value;try{const x=await f.get(`/api/friends/search?q=${encodeURIComponent(v)}`);return x.success?x.data||x.friends||[]:[]}catch(x){return console.error("Error searching friends:",x),E.value.filter(R=>R.name.toLowerCase().includes(v.toLowerCase())||R.username?.toLowerCase().includes(v.toLowerCase()))}},getMutualFriends:async v=>{try{const x=await f.get(`/api/users/${v}/mutual-friends`);return x.success?{count:x.count||x.data?.count||0,friends:x.friends||x.data?.friends||[]}:{count:0,friends:[]}}catch(x){return console.error("Error fetching mutual friends:",x),{count:0,friends:[]}}},loadMore:async v=>{!C.value||M.value||await h(v,p.value+1)},clearState:()=>{E.value=[],y.value=[],k.value=[],p.value=1,i.value=1,O.value=null}}},mt={class:"space-y-6"},wt={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4"},_t={class:"text-xl font-bold text-white flex items-center gap-2"},kt={class:"text-vikinger-cyan font-normal ml-1"},$t={class:"text-sm text-gray-400 mt-1"},Ct={class:"text-green-400"},jt={class:"relative w-full md:w-80"},Pt={class:"flex gap-2 border-b border-gray-700 pb-3"},St=["onClick"],Ft={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Dt={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Lt={class:"p-4"},Mt={class:"flex items-start gap-4"},Tt=["onClick"],Et={class:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-gradient-to-r from-vikinger-purple to-vikinger-cyan flex items-center justify-center text-xs font-bold text-white shadow-lg"},Bt={class:"flex-1 min-w-0"},It=["onClick"],Ot={class:"text-sm text-gray-400 truncate"},zt={key:0,class:"text-xs text-gray-500 mt-1"},At={class:"flex items-center gap-1 mt-2"},Rt={class:"relative"},qt={class:"dropdown dropdown-end"},Vt={tabindex:"0",class:"btn btn-ghost btn-sm btn-circle"},Nt={tabindex:"0",class:"dropdown-content z-20 menu p-2 shadow-lg bg-gray-900 border border-gray-700 rounded-xl w-48"},Ut=["onClick"],Gt=["onClick"],Wt={key:0},Ht=["onClick"],Yt={class:"flex border-t border-gray-700"},Zt=["onClick"],Xt=["onClick"],Kt={class:"text-gray-400"},Qt={key:0,class:"text-sm text-gray-500 mt-2"},Jt={key:3,class:"text-center"},es=["disabled"],ts={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},ss={class:"relative bg-gray-800 rounded-xl shadow-2xl w-full max-w-md border border-gray-700"},rs={class:"p-6 text-center"},os={class:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center"},ls={class:"text-gray-400 mb-6"},ns={class:"text-white font-medium"},is={class:"flex gap-3 justify-center"},as=te({__name:"FriendsList",props:{userId:{},isOwnProfile:{type:Boolean}},emits:["friend-action"],setup(f,{emit:D}){const E=f,y=D,{friends:k,isLoading:M,hasMore:S,fetchFriends:H,unfriend:O,loadMore:p,searchFriends:i}=he(),C=ve(),h=w(""),L=w([]),_=w(!1),A=w("all"),b=w(!1),$=w(null),d=G(()=>{if(h.value)return L.value;let R=[...k.value];return A.value==="online"?R=R.filter(T=>T.is_online):A.value==="recent"&&(R=R.slice(0,12)),R}),g=G(()=>k.value.filter(R=>R.is_online).length),c=async()=>{if(!h.value.trim()){L.value=[];return}_.value=!0;try{L.value=await i(h.value)}finally{_.value=!1}},F=useDebounceFn(c,300),z=R=>{$.value=R,b.value=!0},W=async()=>{if(!$.value)return;await O($.value.id)?(C.success(`à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¸à¸±à¸š ${$.value.name} à¹à¸¥à¹‰à¸§`),y("friend-action",{action:"unfriend",userId:$.value.id})):C.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¹„à¸”à¹‰"),b.value=!1,$.value=null},v=R=>{ne(`/profile/${R.reference_code||R.id}`)},x=R=>{ne(`/messages/${R.id}`)};return se(async()=>{await H(E.userId)}),Se(h,()=>{F()}),(R,T)=>{const X=ie;return r(),n("div",mt,[o(Y,{class:"bg-gray-800 border-gray-700 p-5"},{default:N(()=>[e("div",wt,[e("div",null,[e("h3",_t,[o(t(l),{icon:"fluent:people-24-filled",class:"w-6 h-6 text-vikinger-cyan"}),T[4]||(T[4]=m(" à¹€à¸žà¸·à¹ˆà¸­à¸™ ",-1)),e("span",kt,"("+a(t(k).length)+")",1)]),e("p",$t,[e("span",Ct,a(t(g)),1),T[5]||(T[5]=m(" à¸„à¸™à¸à¸³à¸¥à¸±à¸‡à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ ",-1))])]),e("div",jt,[o(t(l),{icon:"fluent:search-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),Fe(e("input",{"onUpdate:modelValue":T[0]||(T[0]=V=>et(h)?h.value=V:null),type:"text",placeholder:"à¸„à¹‰à¸™à¸«à¸²à¹€à¸žà¸·à¹ˆà¸­à¸™...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-vikinger-purple focus:border-transparent"},null,512),[[Je,t(h)]]),t(_)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin"})):u("",!0)])]),e("div",Pt,[(r(),n(U,null,Z([{key:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",icon:"fluent:people-24-regular"},{key:"online",label:"à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ",icon:"fluent:presence-available-24-filled"},{key:"recent",label:"à¹€à¸žà¸´à¹ˆà¸‡à¹€à¸žà¸´à¹ˆà¸¡",icon:"fluent:clock-24-regular"}],V=>e("button",{key:V.key,onClick:K=>A.value=V.key,class:q(["flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",t(A)===V.key?"bg-vikinger-purple/20 text-vikinger-purple border border-vikinger-purple/30":"text-gray-400 hover:text-white hover:bg-gray-700"])},[o(t(l),{icon:V.icon,class:"w-4 h-4"},null,8,["icon"]),m(" "+a(V.label),1)],10,St)),64))])]),_:1}),t(M)?(r(),n("div",Ft,[(r(),n(U,null,Z(6,V=>e("div",{key:V,class:"animate-pulse"},[o(Y,{class:"bg-gray-800 border-gray-700 p-4"},{default:N(()=>[...T[6]||(T[6]=[e("div",{class:"flex items-center gap-4"},[e("div",{class:"w-16 h-16 rounded-full bg-gray-700"}),e("div",{class:"flex-1 space-y-2"},[e("div",{class:"h-4 bg-gray-700 rounded w-3/4"}),e("div",{class:"h-3 bg-gray-700 rounded w-1/2"})])],-1)])]),_:1})])),64))])):t(d).length>0?(r(),n("div",Dt,[(r(!0),n(U,null,Z(t(d),V=>(r(),B(Y,{key:V.id,class:"bg-gray-800 border-gray-700 overflow-hidden hover:border-vikinger-purple/50 transition-all group"},{default:N(()=>[e("div",Lt,[e("div",Mt,[e("div",{class:"relative cursor-pointer",onClick:K=>v(V)},[o(be,{src:V.avatar||"/images/default-avatar.png",alt:V.name,size:"lg","border-width":2,"border-color":V.is_online?"#22c55e":"#6b7280","show-online-status":!0,"is-online":V.is_online},null,8,["src","alt","border-color","is-online"]),e("div",Et,a(V.level||1),1)],8,Tt),e("div",Bt,[e("h4",{class:"font-semibold text-white truncate hover:text-vikinger-cyan cursor-pointer transition-colors",onClick:K=>v(V)},a(V.name||V.full_name),9,It),e("p",Ot,"@"+a(V.username),1),V.mutual_friends_count?(r(),n("p",zt,[o(t(l),{icon:"fluent:people-16-regular",class:"w-3 h-3 inline mr-1"}),m(" "+a(V.mutual_friends_count)+" à¹€à¸žà¸·à¹ˆà¸­à¸™à¸£à¹ˆà¸§à¸¡ ",1)])):u("",!0),e("div",At,[e("span",{class:q(["w-2 h-2 rounded-full",V.is_online?"bg-green-500":"bg-gray-500"])},null,2),e("span",{class:q(["text-xs",V.is_online?"text-green-400":"text-gray-500"])},a(V.is_online?"à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ":"à¸­à¸­à¸Ÿà¹„à¸¥à¸™à¹Œ"),3)])]),e("div",Rt,[e("div",qt,[e("label",Vt,[o(t(l),{icon:"fluent:more-vertical-24-regular",class:"w-5 h-5 text-gray-400"})]),e("ul",Nt,[e("li",null,[e("a",{onClick:K=>v(V),class:"flex items-center gap-2 text-gray-300 hover:text-white hover:bg-gray-700"},[o(t(l),{icon:"fluent:person-24-regular",class:"w-4 h-4"}),T[7]||(T[7]=m(" à¸”à¸¹à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ ",-1))],8,Ut)]),e("li",null,[e("a",{onClick:K=>x(V),class:"flex items-center gap-2 text-gray-300 hover:text-white hover:bg-gray-700"},[o(t(l),{icon:"fluent:chat-24-regular",class:"w-4 h-4"}),T[8]||(T[8]=m(" à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ ",-1))],8,Gt)]),f.isOwnProfile?(r(),n("li",Wt,[e("a",{onClick:K=>z(V),class:"flex items-center gap-2 text-red-400 hover:text-red-300 hover:bg-red-900/30"},[o(t(l),{icon:"fluent:person-delete-24-regular",class:"w-4 h-4"}),T[9]||(T[9]=m(" à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™ ",-1))],8,Ht)])):u("",!0)])])])])]),e("div",Yt,[e("button",{onClick:K=>x(V),class:"flex-1 py-3 flex items-center justify-center gap-2 text-gray-400 hover:text-vikinger-cyan hover:bg-gray-700/50 transition-colors"},[o(t(l),{icon:"fluent:chat-24-regular",class:"w-4 h-4"}),T[10]||(T[10]=e("span",{class:"text-sm"},"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡",-1))],8,Zt),e("button",{onClick:K=>v(V),class:"flex-1 py-3 flex items-center justify-center gap-2 text-gray-400 hover:text-vikinger-purple hover:bg-gray-700/50 transition-colors border-l border-gray-700"},[o(t(l),{icon:"fluent:arrow-right-24-regular",class:"w-4 h-4"}),T[11]||(T[11]=e("span",{class:"text-sm"},"à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ",-1))],8,Xt)])]),_:2},1024))),128))])):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:t(h)?"fluent:search-24-regular":"fluent:people-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"},null,8,["icon"]),e("p",Kt,a(t(h)?"à¹„à¸¡à¹ˆà¸žà¸šà¹€à¸žà¸·à¹ˆà¸­à¸™à¸—à¸µà¹ˆà¸„à¹‰à¸™à¸«à¸²":"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¹€à¸žà¸·à¹ˆà¸­à¸™"),1),!t(h)&&f.isOwnProfile?(r(),n("p",Qt," à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸™à¹€à¸žà¸·à¹ˆà¸­à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¸„à¸™à¸­à¸·à¹ˆà¸™à¹†! ")):u("",!0),!t(h)&&f.isOwnProfile?(r(),B(X,{key:1,to:"/members",class:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors"},{default:N(()=>[o(t(l),{icon:"fluent:person-add-24-regular",class:"w-5 h-5"}),T[12]||(T[12]=m(" à¸„à¹‰à¸™à¸«à¸²à¹€à¸žà¸·à¹ˆà¸­à¸™ ",-1))]),_:1})):u("",!0)]),_:1})),t(S)&&!t(h)?(r(),n("div",Jt,[e("button",{onClick:T[1]||(T[1]=V=>t(p)(E.userId)),disabled:t(M),class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 flex items-center gap-2 mx-auto"},[t(M)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):u("",!0),e("span",null,a(t(M)?"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”...":"à¹‚à¸«à¸¥à¸”à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"),1)],8,es)])):u("",!0),(r(),B(oe,{to:"body"},[o(de,{name:"modal"},{default:N(()=>[t(b)?(r(),n("div",ts,[e("div",{class:"absolute inset-0 bg-black/70",onClick:T[2]||(T[2]=V=>b.value=!1)}),e("div",ss,[e("div",rs,[e("div",os,[o(t(l),{icon:"fluent:person-delete-24-filled",class:"w-8 h-8 text-red-500"})]),T[15]||(T[15]=e("h3",{class:"text-xl font-bold text-white mb-2"},"à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™?",-1)),e("p",ls,[T[13]||(T[13]=m(" à¸„à¸¸à¸“à¹à¸™à¹ˆà¹ƒà¸ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¸à¸±à¸š ",-1)),e("span",ns,a(t($)?.name),1),T[14]||(T[14]=m("? ",-1))]),e("div",is,[e("button",{onClick:T[3]||(T[3]=V=>b.value=!1),class:"px-6 py-2.5 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors"}," à¸¢à¸à¹€à¸¥à¸´à¸ "),e("button",{onClick:W,class:"px-6 py-2.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™ ")])])])])):u("",!0)]),_:1})]))])}}}),ds=ce(as,[["__scopeId","data-v-459cae71"]]),cs={class:"space-y-6"},us={class:"flex items-center justify-between"},gs={class:"text-xl font-bold text-white flex items-center gap-2"},fs={class:"text-vikinger-cyan font-normal ml-1"},ps=["disabled"],vs={key:0,class:"mt-4"},xs={class:"h-2 bg-gray-700 rounded-full overflow-hidden"},ys={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},bs={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},hs=["onClick"],ms=["src","alt"],ws={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4"},_s={class:"flex items-center gap-1 text-white"},ks={class:"font-medium"},$s={class:"flex items-center gap-1 text-white"},Cs={class:"font-medium"},js={key:0,class:"text-sm text-gray-500 mt-2"},Ps={key:3,class:"text-center"},Ss=["disabled"],Fs={key:0,class:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center"},Ds={class:"max-w-5xl max-h-[85vh] mx-4"},Ls=["src","alt"],Ms={class:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent"},Ts={class:"max-w-5xl mx-auto flex items-center justify-between"},Es={key:0,class:"text-white mb-2"},Bs={class:"text-gray-400 text-sm"},Is={class:"flex items-center gap-4"},Os=te({__name:"PhotosGallery",props:{userId:{},isOwnProfile:{type:Boolean}},setup(f){const D=f,E=ee(),y=ve(),k=w([]),M=w(!1),S=w(1),H=w(1),O=G(()=>S.value<H.value),p=w(null),i=w(!1),C=w(!1),h=w(0),L=w(null),_=async(W=1)=>{M.value=!0;try{const v=D.userId?`/api/users/${D.userId}/photos?page=${W}`:`/api/profile/photos?page=${W}`,x=await E.get(v);if(x.success){const R=x.data||x.photos||[];W===1?k.value=R:k.value=[...k.value,...R],x.meta&&(S.value=x.meta.current_page,H.value=x.meta.last_page)}}catch(v){console.error("Error fetching photos:",v)}finally{M.value=!1}},A=async W=>{const x=W.target.files;if(!x||x.length===0)return;C.value=!0,h.value=0;const R=new FormData;Array.from(x).forEach((T,X)=>{R.append(`photos[${X}]`,T)});try{const T=await E.post("/api/profile/photos",R,{onUploadProgress:X=>{h.value=Math.round(X.loaded*100/X.total)}});T.success&&T.photos&&(k.value=[...T.photos,...k.value],y.success("à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸ à¸²à¸žà¸ªà¸³à¹€à¸£à¹‡à¸ˆ"))}catch(T){y.error(T.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸ à¸²à¸žà¹„à¸”à¹‰")}finally{C.value=!1,h.value=0,L.value&&(L.value.value="")}},b=async W=>{try{(await E.delete(`/api/profile/photos/${W}`)).success&&(k.value=k.value.filter(x=>x.id!==W),y.success("à¸¥à¸šà¸£à¸¹à¸›à¸ à¸²à¸žà¸ªà¸³à¹€à¸£à¹‡à¸ˆ"),p.value?.id===W&&g())}catch(v){y.error(v.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸£à¸¹à¸›à¸ à¸²à¸žà¹„à¸”à¹‰")}},$=async W=>{try{const v=W.is_liked?`/api/photos/${W.id}/unlike`:`/api/photos/${W.id}/like`;(await E.post(v)).success&&(W.is_liked=!W.is_liked,W.likes_count+=W.is_liked?1:-1)}catch(v){console.error("Error toggling like:",v)}},d=W=>{p.value=W,i.value=!0,document.body.style.overflow="hidden"},g=()=>{i.value=!1,p.value=null,document.body.style.overflow=""},c=W=>{if(!p.value)return;const v=k.value.findIndex(R=>R.id===p.value?.id);let x=W==="prev"?v-1:v+1;x<0&&(x=k.value.length-1),x>=k.value.length&&(x=0),p.value=k.value[x]},F=W=>{if(i.value)switch(W.key){case"Escape":g();break;case"ArrowLeft":c("prev");break;case"ArrowRight":c("next");break}},z=async()=>{!O.value||M.value||await _(S.value+1)};return se(()=>{_(),window.addEventListener("keydown",F)}),tt(()=>{window.removeEventListener("keydown",F)}),(W,v)=>(r(),n("div",cs,[o(Y,{class:"bg-gray-800 border-gray-700 p-5"},{default:N(()=>[e("div",us,[e("div",null,[e("h3",gs,[o(t(l),{icon:"fluent:image-24-filled",class:"w-6 h-6 text-vikinger-cyan"}),v[5]||(v[5]=m(" à¸£à¸¹à¸›à¸ à¸²à¸ž ",-1)),e("span",fs,"("+a(t(k).length)+")",1)]),v[6]||(v[6]=e("p",{class:"text-sm text-gray-400 mt-1"},"à¸„à¸¥à¸±à¸‡à¸£à¸¹à¸›à¸ à¸²à¸žà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",-1))]),f.isOwnProfile?(r(),n("button",{key:0,onClick:v[0]||(v[0]=x=>t(L)?.click()),disabled:t(C),class:"px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors flex items-center gap-2 disabled:opacity-50"},[o(t(l),{icon:t(C)?"fluent:spinner-ios-20-regular":"fluent:arrow-upload-24-regular",class:q(["w-5 h-5",t(C)&&"animate-spin"])},null,8,["icon","class"]),m(" "+a(t(C)?`à¸à¸³à¸¥à¸±à¸‡à¸­à¸±à¸žà¹‚à¸«à¸¥à¸” ${t(h)}%`:"à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›"),1)],8,ps)):u("",!0),e("input",{ref_key:"fileInput",ref:L,type:"file",accept:"image/*",multiple:"",class:"hidden",onChange:A},null,544)]),t(C)?(r(),n("div",vs,[e("div",xs,[e("div",{class:"h-full bg-gradient-to-r from-vikinger-purple to-vikinger-cyan transition-all duration-300",style:Q({width:t(h)+"%"})},null,4)])])):u("",!0)]),_:1}),t(M)&&t(k).length===0?(r(),n("div",ys,[(r(),n(U,null,Z(8,x=>e("div",{key:x,class:"aspect-square bg-gray-800 rounded-lg animate-pulse"})),64))])):t(k).length>0?(r(),n("div",bs,[(r(!0),n(U,null,Z(t(k),x=>(r(),n("div",{key:x.id,class:"aspect-square bg-gray-800 rounded-lg overflow-hidden relative group cursor-pointer",onClick:R=>d(x)},[e("img",{src:x.thumbnail_url||x.url,alt:x.caption||"Photo",class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"},null,8,ms),e("div",ws,[e("div",_s,[o(t(l),{icon:"fluent:heart-24-filled",class:"w-5 h-5"}),e("span",ks,a(x.likes_count),1)]),e("div",$s,[o(t(l),{icon:"fluent:chat-24-filled",class:"w-5 h-5"}),e("span",Cs,a(x.comments_count),1)])])],8,hs))),128))])):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:image-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),v[7]||(v[7]=e("p",{class:"text-gray-400"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸¹à¸›à¸ à¸²à¸ž",-1)),f.isOwnProfile?(r(),n("p",js," à¹€à¸£à¸´à¹ˆà¸¡à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸ à¸²à¸žà¹€à¸žà¸·à¹ˆà¸­à¹à¸Šà¸£à¹Œà¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸”à¸µà¹†! ")):u("",!0)]),_:1})),t(O)?(r(),n("div",Ps,[e("button",{onClick:z,disabled:t(M),class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 flex items-center gap-2 mx-auto"},[t(M)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):u("",!0),e("span",null,a(t(M)?"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”...":"à¹‚à¸«à¸¥à¸”à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡"),1)],8,Ss)])):u("",!0),(r(),B(oe,{to:"body"},[o(de,{name:"lightbox"},{default:N(()=>[t(i)&&t(p)?(r(),n("div",Fs,[e("button",{onClick:g,class:"absolute top-4 right-4 z-10 p-3 bg-gray-800/50 rounded-full text-white hover:bg-gray-700 transition-colors"},[o(t(l),{icon:"fluent:dismiss-24-regular",class:"w-6 h-6"})]),t(k).length>1?(r(),n("button",{key:0,onClick:v[1]||(v[1]=x=>c("prev")),class:"absolute left-4 z-10 p-3 bg-gray-800/50 rounded-full text-white hover:bg-gray-700 transition-colors"},[o(t(l),{icon:"fluent:chevron-left-24-regular",class:"w-6 h-6"})])):u("",!0),t(k).length>1?(r(),n("button",{key:1,onClick:v[2]||(v[2]=x=>c("next")),class:"absolute right-4 z-10 p-3 bg-gray-800/50 rounded-full text-white hover:bg-gray-700 transition-colors"},[o(t(l),{icon:"fluent:chevron-right-24-regular",class:"w-6 h-6"})])):u("",!0),e("div",Ds,[e("img",{src:t(p).url,alt:t(p).caption||"Photo",class:"max-w-full max-h-[85vh] object-contain rounded-lg"},null,8,Ls)]),e("div",Ms,[e("div",Ts,[e("div",null,[t(p).caption?(r(),n("p",Es,a(t(p).caption),1)):u("",!0),e("p",Bs,a(new Date(t(p).created_at).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})),1)]),e("div",Is,[e("button",{onClick:v[3]||(v[3]=pe(x=>$(t(p)),["stop"])),class:q(["flex items-center gap-2 px-4 py-2 rounded-lg transition-colors",t(p).is_liked?"bg-pink-500/20 text-pink-400":"bg-gray-800 text-white hover:bg-gray-700"])},[o(t(l),{icon:t(p).is_liked?"fluent:heart-24-filled":"fluent:heart-24-regular",class:"w-5 h-5"},null,8,["icon"]),m(" "+a(t(p).likes_count),1)],2),f.isOwnProfile?(r(),n("button",{key:0,onClick:v[4]||(v[4]=pe(x=>b(t(p).id),["stop"])),class:"flex items-center gap-2 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors"},[o(t(l),{icon:"fluent:delete-24-regular",class:"w-5 h-5"}),v[8]||(v[8]=m(" à¸¥à¸š ",-1))])):u("",!0)])])])])):u("",!0)]),_:1})]))]))}}),zs=ce(Os,[["__scopeId","data-v-3a95aed5"]]),As={class:"space-y-6"},Rs={class:"bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 p-6"},qs={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},Vs={class:"text-2xl font-bold text-white flex items-center gap-3"},Ns={class:"flex items-center gap-6"},Us={class:"text-center"},Gs={class:"text-3xl font-black text-white"},Ws={class:"text-center"},Hs={class:"text-3xl font-black text-white"},Ys={class:"p-4 flex gap-2 overflow-x-auto scrollbar-hide"},Zs=["onClick"],Xs={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},Ks={key:1},Qs={key:0},Js={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},er={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-8"},tr=["onClick"],sr={class:"absolute inset-0 flex items-center justify-center"},rr={class:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent"},or={class:"text-white text-sm font-medium text-center truncate"},lr={class:"text-center text-xs text-amber-400 flex items-center justify-center gap-1"},nr={key:1},ir={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},ar={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},dr=["onClick"],cr={class:"absolute inset-0 flex items-center justify-center opacity-30"},ur={class:"absolute inset-0 flex items-center justify-center"},gr={class:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center"},fr={key:0,class:"absolute bottom-0 left-0 right-0 p-3"},pr={class:"h-1.5 bg-gray-700 rounded-full overflow-hidden"},vr={class:"text-xs text-gray-500 text-center mt-1"},xr={class:"absolute top-3 left-0 right-0 text-gray-500 text-xs text-center truncate px-2"},yr={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},br={class:"relative z-10"},hr={key:0,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},mr={class:"w-20 h-20 rounded-full bg-gray-800 flex items-center justify-center"},wr={class:"p-6"},_r={class:"text-2xl font-bold text-white text-center mb-2"},kr={class:"text-gray-400 text-center mb-6"},$r={class:"grid grid-cols-2 gap-4 mb-6"},Cr={class:"bg-gray-800 rounded-xl p-4 text-center"},jr={class:"text-xl font-bold text-white"},Pr={class:"bg-gray-800 rounded-xl p-4 text-center"},Sr={class:"text-xl font-bold text-white"},Fr={key:0,class:"text-xs text-gray-500"},Dr={key:1,class:"text-xs text-gray-500"},Lr={key:0,class:"mb-6"},Mr={class:"flex justify-between text-sm mb-2"},Tr={class:"text-vikinger-cyan font-medium"},Er={class:"h-3 bg-gray-800 rounded-full overflow-hidden"},Br=te({__name:"BadgesDisplay",props:{userId:{},isOwnProfile:{type:Boolean}},setup(f){const D=f,E=ee(),y=w([]),k=w(!1),M=w("all"),S=w(null),H=w(!1),O=G(()=>{const c={all:y.value.filter(F=>F.is_earned).length,achievement:0,social:0,activity:0,special:0,milestone:0};return y.value.forEach(F=>{F.is_earned&&c[F.category]++}),[{key:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",icon:"fluent:grid-24-regular",count:c.all},{key:"achievement",label:"à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ",icon:"fluent:trophy-24-regular",count:c.achievement},{key:"social",label:"à¸ªà¸±à¸‡à¸„à¸¡",icon:"fluent:people-24-regular",count:c.social},{key:"activity",label:"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡",icon:"fluent:calendar-24-regular",count:c.activity},{key:"milestone",label:"à¸«à¸¥à¸±à¸à¹„à¸¡à¸¥à¹Œ",icon:"fluent:flag-24-regular",count:c.milestone},{key:"special",label:"à¸žà¸´à¹€à¸¨à¸©",icon:"fluent:star-24-regular",count:c.special}]}),p=G(()=>M.value==="all"?y.value:y.value.filter(c=>c.category===M.value)),i=G(()=>p.value.filter(c=>c.is_earned)),C=G(()=>p.value.filter(c=>!c.is_earned)),h=G(()=>y.value.filter(c=>c.is_earned).reduce((c,F)=>c+F.points,0)),L={common:{bg:"bg-gray-600",border:"border-gray-500",text:"text-gray-400",glow:"shadow-gray-500/20"},uncommon:{bg:"bg-green-600",border:"border-green-500",text:"text-green-400",glow:"shadow-green-500/30"},rare:{bg:"bg-blue-600",border:"border-blue-500",text:"text-blue-400",glow:"shadow-blue-500/30"},epic:{bg:"bg-purple-600",border:"border-purple-500",text:"text-purple-400",glow:"shadow-purple-500/40"},legendary:{bg:"bg-amber-600",border:"border-amber-500",text:"text-amber-400",glow:"shadow-amber-500/50"}},_={common:"à¸˜à¸£à¸£à¸¡à¸”à¸²",uncommon:"à¹„à¸¡à¹ˆà¸˜à¸£à¸£à¸¡à¸”à¸²",rare:"à¸«à¸²à¸¢à¸²à¸",epic:"à¸¡à¸«à¸²à¸à¸²à¸žà¸¢à¹Œ",legendary:"à¸•à¸³à¸™à¸²à¸™"},A=async()=>{k.value=!0;try{const c=D.userId?`/api/users/${D.userId}/badges`:"/api/profile/badges",F=await E.get(c);F.success?y.value=F.data||F.badges||[]:y.value=b()}catch(c){console.error("Error fetching badges:",c),y.value=b()}finally{k.value=!1}},b=()=>[{id:1,name:"First Steps",description:"à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸žà¸ªà¸•à¹Œà¹à¸£à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸šà¸™ Plearnd",icon:"fluent:document-checkmark-24-filled",icon_color:"#10b981",background_color:"#064e3b",category:"achievement",rarity:"common",points:10,is_earned:!0,earned_at:"2024-01-15T10:00:00Z"},{id:2,name:"Social Butterfly",description:"à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸™ 10 à¸„à¸™",icon:"fluent:people-24-filled",icon_color:"#3b82f6",background_color:"#1e3a5f",category:"social",rarity:"uncommon",points:25,is_earned:!0,earned_at:"2024-02-01T15:30:00Z"},{id:3,name:"Point Collector",description:"à¸ªà¸°à¸ªà¸¡à¹à¸•à¹‰à¸¡ 100 à¹à¸•à¹‰à¸¡",icon:"fluent:star-24-filled",icon_color:"#f59e0b",background_color:"#451a03",category:"milestone",rarity:"uncommon",points:30,is_earned:!0,earned_at:"2024-02-15T12:00:00Z"},{id:4,name:"Level Master",description:"à¸–à¸¶à¸‡ Level 10",icon:"fluent:trophy-24-filled",icon_color:"#8b5cf6",background_color:"#2e1065",category:"achievement",rarity:"rare",points:50,is_earned:!1,progress:6,max_progress:10},{id:5,name:"Legendary Explorer",description:"à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Plearnd à¸„à¸£à¸š 1 à¸›à¸µ",icon:"fluent:compass-northwest-24-filled",icon_color:"#f59e0b",background_color:"#78350f",category:"special",rarity:"legendary",points:200,is_earned:!1,progress:120,max_progress:365},{id:6,name:"Active Learner",description:"à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸šà¸—à¹€à¸£à¸µà¸¢à¸™ 5 à¸šà¸—",icon:"fluent:book-24-filled",icon_color:"#06b6d4",background_color:"#164e63",category:"activity",rarity:"common",points:15,is_earned:!0,earned_at:"2024-03-01T09:00:00Z"},{id:7,name:"Community Champion",description:"à¹„à¸”à¹‰à¸£à¸±à¸š 100 likes à¸ˆà¸²à¸à¹‚à¸žà¸ªà¸•à¹Œ",icon:"fluent:heart-24-filled",icon_color:"#ec4899",background_color:"#831843",category:"social",rarity:"epic",points:100,is_earned:!1,progress:45,max_progress:100},{id:8,name:"Early Bird",description:"à¹€à¸›à¹‡à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸à¸¢à¸¸à¸„à¹à¸£à¸à¸‚à¸­à¸‡ Plearnd",icon:"fluent:flash-24-filled",icon_color:"#f59e0b",background_color:"#451a03",category:"special",rarity:"legendary",points:150,is_earned:!0,earned_at:"2023-06-01T00:00:00Z"}],$=c=>{S.value=c,H.value=!0},d=()=>{H.value=!1,S.value=null},g=c=>new Date(c).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"});return se(()=>{A()}),(c,F)=>(r(),n("div",As,[o(Y,{class:"bg-gray-800 border-gray-700 overflow-hidden"},{default:N(()=>[e("div",Rs,[e("div",qs,[e("div",null,[e("h3",Vs,[o(t(l),{icon:"fluent:ribbon-star-24-filled",class:"w-8 h-8"}),F[0]||(F[0]=m(" à¸•à¸£à¸²à¸ªà¸±à¸à¸¥à¸±à¸à¸©à¸“à¹Œ & à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ ",-1))]),F[1]||(F[1]=e("p",{class:"text-white/80 mt-1"},"à¸£à¸§à¸šà¸£à¸§à¸¡à¸•à¸£à¸²à¸ªà¸±à¸à¸¥à¸±à¸à¸©à¸“à¹Œà¹€à¸žà¸·à¹ˆà¸­à¸›à¸¥à¸”à¸¥à¹‡à¸­à¸à¸£à¸²à¸‡à¸§à¸±à¸¥à¸žà¸´à¹€à¸¨à¸©!",-1))]),e("div",Ns,[e("div",Us,[e("p",Gs,a(t(i).length),1),F[2]||(F[2]=e("p",{class:"text-white/70 text-sm"},"à¹„à¸”à¹‰à¸£à¸±à¸šà¹à¸¥à¹‰à¸§",-1))]),F[4]||(F[4]=e("div",{class:"w-px h-12 bg-white/20"},null,-1)),e("div",Ws,[e("p",Hs,a(t(h)),1),F[3]||(F[3]=e("p",{class:"text-white/70 text-sm"},"à¹à¸•à¹‰à¸¡à¸£à¸§à¸¡",-1))])])])]),e("div",Ys,[(r(!0),n(U,null,Z(t(O),z=>(r(),n("button",{key:z.key,onClick:W=>M.value=z.key,class:q(["flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap",t(M)===z.key?"bg-vikinger-purple text-white":"text-gray-400 hover:text-white hover:bg-gray-700"])},[o(t(l),{icon:z.icon,class:"w-4 h-4"},null,8,["icon"]),m(" "+a(z.label)+" ",1),z.count>0?(r(),n("span",{key:0,class:q(["px-1.5 py-0.5 text-xs rounded-full",t(M)===z.key?"bg-white/20 text-white":"bg-gray-700 text-gray-300"])},a(z.count),3)):u("",!0)],10,Zs))),128))])]),_:1}),t(k)?(r(),n("div",Xs,[(r(),n(U,null,Z(10,z=>e("div",{key:z,class:"animate-pulse"},[...F[5]||(F[5]=[e("div",{class:"aspect-square bg-gray-800 rounded-xl"},null,-1)])])),64))])):t(p).length>0?(r(),n("div",Ks,[t(i).length>0?(r(),n("div",Qs,[e("h4",Js,[o(t(l),{icon:"fluent:checkmark-circle-24-filled",class:"w-5 h-5 text-green-500"}),m(" à¹„à¸”à¹‰à¸£à¸±à¸šà¹à¸¥à¹‰à¸§ ("+a(t(i).length)+") ",1)]),e("div",er,[(r(!0),n(U,null,Z(t(i),z=>(r(),n("div",{key:z.id,onClick:W=>$(z),class:q(["relative aspect-square rounded-xl cursor-pointer transition-all duration-300 hover:scale-105 overflow-hidden","border-2 shadow-lg",L[z.rarity].border,L[z.rarity].glow]),style:Q({backgroundColor:z.background_color})},[e("div",{class:q(["absolute top-2 right-2 px-2 py-0.5 rounded-full text-xs font-medium",L[z.rarity].bg,"text-white"])},a(_[z.rarity]),3),e("div",sr,[o(t(l),{icon:z.icon,class:"w-16 h-16",style:Q({color:z.icon_color})},null,8,["icon","style"])]),e("div",rr,[e("p",or,a(z.name),1),e("p",lr,[o(t(l),{icon:"fluent:star-12-filled",class:"w-3 h-3"}),m(" +"+a(z.points),1)])]),F[6]||(F[6]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity"},null,-1))],14,tr))),128))])])):u("",!0),t(C).length>0?(r(),n("div",nr,[e("h4",ir,[o(t(l),{icon:"fluent:lock-closed-24-filled",class:"w-5 h-5 text-gray-500"}),m(" à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š ("+a(t(C).length)+") ",1)]),e("div",ar,[(r(!0),n(U,null,Z(t(C),z=>(r(),n("div",{key:z.id,onClick:W=>$(z),class:"relative aspect-square bg-gray-800/50 rounded-xl cursor-pointer transition-all duration-300 hover:bg-gray-800 border-2 border-gray-700 border-dashed overflow-hidden"},[e("div",cr,[o(t(l),{icon:z.icon,class:"w-16 h-16 text-gray-500"},null,8,["icon"])]),e("div",ur,[e("div",gr,[o(t(l),{icon:"fluent:lock-closed-24-filled",class:"w-6 h-6 text-gray-500"})])]),z.progress!==void 0&&z.max_progress?(r(),n("div",fr,[e("div",pr,[e("div",{class:"h-full bg-vikinger-purple rounded-full",style:Q({width:z.progress/z.max_progress*100+"%"})},null,4)]),e("p",vr,a(z.progress)+"/"+a(z.max_progress),1)])):u("",!0),e("p",xr,a(z.name),1)],8,dr))),128))])])):u("",!0)])):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:ribbon-star-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),F[7]||(F[7]=e("p",{class:"text-gray-400"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸•à¸£à¸²à¸ªà¸±à¸à¸¥à¸±à¸à¸©à¸“à¹Œà¹ƒà¸™à¸«à¸¡à¸§à¸”à¸™à¸µà¹‰",-1))]),_:1})),(r(),B(oe,{to:"body"},[o(de,{name:"modal"},{default:N(()=>[t(H)&&t(S)?(r(),n("div",yr,[e("div",{class:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:d}),e("div",{class:q(["relative bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border-2",L[t(S).rarity].border])},[e("div",{class:"relative h-48 flex items-center justify-center",style:Q({backgroundColor:t(S).background_color})},[F[8]||(F[8]=e("div",{class:"absolute inset-0 overflow-hidden"},[e("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 rounded-full border border-white/10"}),e("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full border border-white/10"}),e("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-32 h-32 rounded-full border border-white/10"})],-1)),e("div",br,[o(t(l),{icon:t(S).icon,class:"w-24 h-24",style:Q({color:t(S).icon_color})},null,8,["icon","style"]),t(S).is_earned?(r(),n("div",{key:0,class:"absolute inset-0 blur-xl opacity-50",style:Q({backgroundColor:t(S).icon_color})},null,4)):u("",!0)]),t(S).is_earned?u("",!0):(r(),n("div",hr,[e("div",mr,[o(t(l),{icon:"fluent:lock-closed-24-filled",class:"w-10 h-10 text-gray-500"})])])),e("button",{onClick:d,class:"absolute top-4 right-4 p-2 bg-black/30 rounded-full text-white hover:bg-black/50 transition-colors"},[o(t(l),{icon:"fluent:dismiss-24-regular",class:"w-5 h-5"})]),e("div",{class:q(["absolute top-4 left-4 px-3 py-1 rounded-full text-sm font-medium",L[t(S).rarity].bg,"text-white"])},a(_[t(S).rarity]),3)],4),e("div",wr,[e("h3",_r,a(t(S).name),1),e("p",kr,a(t(S).description),1),e("div",$r,[e("div",Cr,[o(t(l),{icon:"fluent:star-24-filled",class:"w-6 h-6 text-amber-400 mx-auto mb-1"}),e("p",jr,"+"+a(t(S).points),1),F[9]||(F[9]=e("p",{class:"text-xs text-gray-500"},"à¹à¸•à¹‰à¸¡",-1))]),e("div",Pr,[o(t(l),{icon:t(S).is_earned?"fluent:checkmark-circle-24-filled":"fluent:hourglass-24-regular",class:q(["w-6 h-6 mx-auto mb-1",t(S).is_earned?"text-green-500":"text-gray-500"])},null,8,["icon","class"]),e("p",Sr,a(t(S).is_earned?"à¹„à¸”à¹‰à¸£à¸±à¸šà¹à¸¥à¹‰à¸§":"à¸à¸³à¸¥à¸±à¸‡à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£"),1),t(S).earned_at?(r(),n("p",Fr,a(g(t(S).earned_at)),1)):t(S).progress!==void 0?(r(),n("p",Dr,a(t(S).progress)+"/"+a(t(S).max_progress),1)):u("",!0)])]),!t(S).is_earned&&t(S).progress!==void 0?(r(),n("div",Lr,[e("div",Mr,[F[10]||(F[10]=e("span",{class:"text-gray-400"},"à¸„à¸§à¸²à¸¡à¸„à¸·à¸šà¸«à¸™à¹‰à¸²",-1)),e("span",Tr,a(Math.round(t(S).progress/t(S).max_progress*100))+"% ",1)]),e("div",Er,[e("div",{class:"h-full bg-gradient-to-r from-vikinger-purple to-vikinger-cyan rounded-full transition-all duration-500",style:Q({width:t(S).progress/t(S).max_progress*100+"%"})},null,4)])])):u("",!0),e("button",{onClick:d,class:"w-full py-3 bg-vikinger-purple text-white rounded-xl font-medium hover:bg-vikinger-purple/80 transition-colors"},a(t(S).is_earned?"à¸¢à¸­à¸”à¹€à¸¢à¸µà¹ˆà¸¢à¸¡! ðŸŽ‰":"à¸ªà¸¹à¹‰à¸•à¹ˆà¸­à¹„à¸›! ðŸ’ª"),1)])],2)])):u("",!0)]),_:1})]))]))}}),Ir=ce(Br,[["__scopeId","data-v-8b6431c7"]]),Or=()=>({toInput:vt,toThai:pt,toTimeAgo:Pe,format:ft,validate:gt,getToday:ut,getTodayThai:ct,formatRelative:Pe}),zr={class:"vikinger-card vikinger-card-hover overflow-hidden !p-0"},Ar={class:"relative bg-gradient-to-r from-vikinger-purple to-vikinger-cyan px-3 py-2.5"},Rr={class:"relative text-sm font-bold text-white flex items-center gap-2"},qr={class:"w-6 h-6 rounded-md bg-white/20 flex items-center justify-center"},Vr={key:0,class:"ml-auto px-2 py-0.5 text-[10px] bg-white/20 text-white rounded-full font-bold"},Nr={class:"flex border-b border-gray-200 dark:border-gray-700/50"},Ur={key:0,class:"px-1.5 py-0.5 text-[10px] bg-red-500 text-white rounded-full font-bold"},Gr={key:1,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-vikinger-purple to-vikinger-cyan"},Wr={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-vikinger-purple to-vikinger-cyan"},Hr={class:"max-h-72 overflow-y-auto"},Yr={key:0,class:"p-3 space-y-2"},Zr={key:1,class:"divide-y divide-gray-100 dark:divide-gray-700/50"},Xr={class:"flex items-center gap-2.5"},Kr=["onClick"],Qr={class:"flex-1 min-w-0"},Jr=["onClick"],eo={class:"text-[10px] text-gray-400 dark:text-gray-500"},to={class:"flex gap-1.5 mt-2"},so=["onClick","disabled"],ro=["onClick","disabled"],oo={key:2,class:"p-6 text-center"},lo={class:"w-12 h-12 mx-auto mb-2 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},no={key:0,class:"p-3 space-y-2"},io={key:1,class:"divide-y divide-gray-100 dark:divide-gray-700/50"},ao={class:"flex items-center gap-2.5"},co=["onClick"],uo={class:"flex-1 min-w-0"},go=["onClick"],fo={key:0,class:"text-[10px] text-vikinger-purple dark:text-vikinger-cyan"},po=["onClick","disabled"],vo={key:2,class:"p-6 text-center"},xo={class:"w-12 h-12 mx-auto mb-2 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center"},yo={class:"p-2.5 border-t border-gray-100 dark:border-gray-700/50 bg-gray-50 dark:bg-gray-800/50"},bo=te({__name:"FriendRequestsWidget",setup(f){const{friendRequests:D,suggestions:E,isLoadingRequests:y,isLoadingSuggestions:k,fetchPendingRequests:M,fetchSuggestions:S,acceptFriendRequest:H,denyFriendRequest:O,sendFriendRequest:p}=he(),i=ve(),C=w("requests"),h=w(new Set),L=async $=>{h.value.add($);try{await H($)?i.success("à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸™à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!"):i.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¹„à¸”à¹‰")}finally{h.value.delete($)}},_=async $=>{h.value.add($);try{await O($)&&i.success("à¸›à¸à¸´à¹€à¸ªà¸˜à¸„à¸³à¸‚à¸­à¹à¸¥à¹‰à¸§")}finally{h.value.delete($)}},A=async $=>{h.value.add($);try{await p($)?i.success("à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¹à¸¥à¹‰à¸§!"):i.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¹„à¸”à¹‰")}finally{h.value.delete($)}},b=$=>{ne(`/profile/${$}`)};return se(async()=>{await Promise.all([M(),S()])}),($,d)=>{const g=ie;return r(),n("div",zr,[e("div",Ar,[d[3]||(d[3]=e("div",{class:"absolute inset-0 bg-[url('/images/patterns/circuit.svg')] bg-repeat opacity-10"},null,-1)),e("h3",Rr,[e("div",qr,[o(t(l),{icon:"fluent:people-add-24-filled",class:"w-3.5 h-3.5"})]),d[2]||(d[2]=m(" à¸„à¸³à¸‚à¸­à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™ ",-1)),t(D).length>0?(r(),n("span",Vr,a(t(D).length)+" à¹ƒà¸«à¸¡à¹ˆ ",1)):u("",!0)])]),e("div",Nr,[e("button",{onClick:d[0]||(d[0]=c=>C.value="requests"),class:q(["flex-1 py-2 text-xs font-bold transition-all relative flex items-center justify-center gap-1.5",t(C)==="requests"?"text-vikinger-purple dark:text-vikinger-cyan bg-vikinger-purple/5 dark:bg-vikinger-cyan/10":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},[d[4]||(d[4]=m(" à¸„à¸³à¸‚à¸­à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š ",-1)),t(D).length>0?(r(),n("span",Ur,a(t(D).length),1)):u("",!0),t(C)==="requests"?(r(),n("div",Gr)):u("",!0)],2),e("button",{onClick:d[1]||(d[1]=c=>C.value="suggestions"),class:q(["flex-1 py-2 text-xs font-bold transition-all relative",t(C)==="suggestions"?"text-vikinger-purple dark:text-vikinger-cyan bg-vikinger-purple/5 dark:bg-vikinger-cyan/10":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},[d[5]||(d[5]=m(" à¹à¸™à¸°à¸™à¸³ ",-1)),t(C)==="suggestions"?(r(),n("div",Wr)):u("",!0)],2)]),e("div",Hr,[t(C)==="requests"?(r(),n(U,{key:0},[t(y)?(r(),n("div",Yr,[(r(),n(U,null,Z(3,c=>e("div",{key:c,class:"flex items-center gap-2 animate-pulse"},[...d[6]||(d[6]=[e("div",{class:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700"},null,-1),e("div",{class:"flex-1 space-y-1"},[e("div",{class:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e("div",{class:"h-2 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})],-1)])])),64))])):t(D).length>0?(r(),n("div",Zr,[(r(!0),n(U,null,Z(t(D),c=>(r(),n("div",{key:c.id,class:"p-2.5 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[e("div",Xr,[e("div",{class:"cursor-pointer flex-shrink-0",onClick:F=>b(c.sender.reference_code||c.sender.id)},[o(be,{src:c.sender.avatar||"/images/default-avatar.png",alt:c.sender.name,size:"sm"},null,8,["src","alt"])],8,Kr),e("div",Qr,[e("h4",{class:"font-bold text-xs text-gray-900 dark:text-white truncate hover:text-vikinger-purple dark:hover:text-vikinger-cyan cursor-pointer",onClick:F=>b(c.sender.reference_code||c.sender.id)},a(c.sender.name||c.sender.full_name),9,Jr),e("p",eo,a(("useDateFormatter"in $?$.useDateFormatter:t(Or))().formatRelative(c.created_at)),1)])]),e("div",to,[e("button",{onClick:F=>L(c.sender.id),disabled:t(h).has(c.sender.id),class:"flex-1 py-1.5 bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white rounded-lg text-[10px] font-bold disabled:opacity-50 flex items-center justify-center gap-1 hover:opacity-90 transition-all"},[t(h).has(c.sender.id)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-3 h-3 animate-spin"})):(r(),B(t(l),{key:1,icon:"fluent:checkmark-24-regular",class:"w-3 h-3"})),d[7]||(d[7]=m(" à¸¢à¸­à¸¡à¸£à¸±à¸š ",-1))],8,so),e("button",{onClick:F=>_(c.sender.id),disabled:t(h).has(c.sender.id),class:"flex-1 py-1.5 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-lg text-[10px] font-bold disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all"}," à¸›à¸à¸´à¹€à¸ªà¸˜ ",8,ro)])]))),128))])):(r(),n("div",oo,[e("div",lo,[o(t(l),{icon:"fluent:people-24-regular",class:"w-6 h-6 text-gray-400 dark:text-gray-500"})]),d[8]||(d[8]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸³à¸‚à¸­à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™",-1))]))],64)):u("",!0),t(C)==="suggestions"?(r(),n(U,{key:1},[t(k)?(r(),n("div",no,[(r(),n(U,null,Z(3,c=>e("div",{key:c,class:"flex items-center gap-2 animate-pulse"},[...d[9]||(d[9]=[e("div",{class:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700"},null,-1),e("div",{class:"flex-1 space-y-1"},[e("div",{class:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e("div",{class:"h-2 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})],-1)])])),64))])):t(E).length>0?(r(),n("div",io,[(r(!0),n(U,null,Z(t(E),c=>(r(),n("div",{key:c.id,class:"p-2.5 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"},[e("div",ao,[e("div",{class:"cursor-pointer flex-shrink-0",onClick:F=>b(c.reference_code||c.id)},[o(be,{src:c.avatar||"/images/default-avatar.png",alt:c.name,size:"sm"},null,8,["src","alt"])],8,co),e("div",uo,[e("h4",{class:"font-bold text-xs text-gray-900 dark:text-white truncate hover:text-vikinger-purple dark:hover:text-vikinger-cyan cursor-pointer",onClick:F=>b(c.reference_code||c.id)},a(c.name||c.full_name),9,go),c.mutual_friends_count?(r(),n("p",fo,a(c.mutual_friends_count)+" à¹€à¸žà¸·à¹ˆà¸­à¸™à¸£à¹ˆà¸§à¸¡ ",1)):u("",!0)]),e("button",{onClick:F=>A(c.id),disabled:t(h).has(c.id),class:"p-1.5 bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white rounded-lg hover:opacity-90 hover:scale-105 transition-all disabled:opacity-50"},[t(h).has(c.id)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-4 h-4 animate-spin"})):(r(),B(t(l),{key:1,icon:"fluent:person-add-24-regular",class:"w-4 h-4"}))],8,po)])]))),128))])):(r(),n("div",vo,[e("div",xo,[o(t(l),{icon:"fluent:search-24-regular",class:"w-6 h-6 text-gray-400 dark:text-gray-500"})]),d[10]||(d[10]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸³à¹à¸™à¸°à¸™à¸³",-1))]))],64)):u("",!0)]),e("div",yo,[o(g,{to:"/members",class:"flex items-center justify-center gap-1.5 py-1.5 px-3 bg-gradient-to-r from-vikinger-purple/10 to-vikinger-cyan/10 hover:from-vikinger-purple/20 hover:to-vikinger-cyan/20 text-vikinger-purple dark:text-vikinger-cyan rounded-lg text-xs font-bold transition-all"},{default:N(()=>[o(t(l),{icon:"fluent:search-24-regular",class:"w-3.5 h-3.5"}),d[11]||(d[11]=m(" à¸„à¹‰à¸™à¸«à¸²à¹€à¸žà¸·à¹ˆà¸­à¸™à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡ ",-1)),o(t(l),{icon:"fluent:arrow-right-24-regular",class:"w-3.5 h-3.5"})]),_:1})])])}}}),ho={class:"space-y-6"},mo={class:"bg-gradient-to-r from-vikinger-purple/20 to-vikinger-cyan/20 p-6 border-b border-gray-700"},wo={class:"text-xl font-bold text-white flex items-center gap-2"},_o={class:"p-6 space-y-6"},ko={key:0},$o={class:"text-white leading-relaxed"},Co={key:1,class:"text-center py-4 bg-gray-700/30 rounded-xl"},jo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Po={key:0,class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl"},So={class:"w-10 h-10 rounded-lg bg-pink-500/20 flex items-center justify-center"},Fo={class:"text-white font-medium"},Do={key:1,class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl"},Lo={class:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center"},Mo={class:"text-white font-medium"},To={key:2,class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl"},Eo={class:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"},Bo={class:"text-white font-medium"},Io={key:3,class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl"},Oo={class:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center"},zo={class:"text-white font-medium"},Ao={key:4,class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl"},Ro={class:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center"},qo=["href"],Vo={key:5,class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl"},No={class:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center"},Uo={class:"text-white font-medium"},Go={key:2},Wo={class:"flex flex-wrap gap-2"},Ho={class:"p-6 border-b border-gray-700"},Yo={class:"text-lg font-bold text-white flex items-center gap-2"},Zo={class:"p-6 grid grid-cols-2 sm:grid-cols-3 gap-4"},Xo=["href"],Ko={class:"text-gray-300 text-sm font-medium group-hover:text-white"},Qo={class:"p-6 border-b border-gray-700"},Jo={class:"text-lg font-bold text-white flex items-center gap-2"},el={class:"p-6"},tl={class:"grid grid-cols-2 sm:grid-cols-4 gap-4"},sl={class:"text-center p-4 bg-gradient-to-br from-violet-500/20 to-purple-500/20 rounded-xl"},rl={class:"text-2xl font-bold text-white"},ol={class:"text-center p-4 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl"},ll={class:"text-2xl font-bold text-white"},nl={class:"text-center p-4 bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-xl"},il={class:"text-2xl font-bold text-white"},al={class:"text-center p-4 bg-gradient-to-br from-emerald-500/20 to-green-500/20 rounded-xl"},dl={class:"text-2xl font-bold text-white"},cl=te({__name:"ProfileAboutSection",props:{profile:{},isOwnProfile:{type:Boolean}},setup(f){const D=f,E={facebook:{icon:"ri:facebook-fill",color:"#1877f2",label:"Facebook"},twitter:{icon:"ri:twitter-x-fill",color:"#000000",label:"Twitter / X"},instagram:{icon:"ri:instagram-fill",color:"#e4405f",label:"Instagram"},linkedin:{icon:"ri:linkedin-fill",color:"#0077b5",label:"LinkedIn"},youtube:{icon:"ri:youtube-fill",color:"#ff0000",label:"YouTube"},tiktok:{icon:"ri:tiktok-fill",color:"#000000",label:"TikTok"}},y=G(()=>{if(!D.profile.birthdate)return null;const O=new Date(D.profile.birthdate),p=new Date;let i=p.getFullYear()-O.getFullYear();const C=p.getMonth()-O.getMonth();return(C<0||C===0&&p.getDate()<O.getDate())&&i--,i}),k=G(()=>D.profile.join_date?new Date(D.profile.join_date).toLocaleDateString("th-TH",{year:"numeric",month:"long"}):null),M=G(()=>({male:"à¸Šà¸²à¸¢",female:"à¸«à¸à¸´à¸‡",other:"à¸­à¸·à¹ˆà¸™à¹†",prefer_not_to_say:"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸"})[D.profile.gender||""]||D.profile.gender),S=G(()=>D.profile.social_media_links?Object.values(D.profile.social_media_links).some(O=>O):!1),H=G(()=>D.profile.grade?`à¸¡.${D.profile.grade}`:null);return(O,p)=>{const i=ie;return r(),n("div",ho,[o(Y,{class:"bg-gray-800 border-gray-700 overflow-hidden"},{default:N(()=>[e("div",mo,[e("h3",wo,[o(t(l),{icon:"fluent:person-info-24-filled",class:"w-6 h-6 text-vikinger-cyan"}),m(" à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š "+a(f.profile.username||f.profile.full_name),1)])]),e("div",_o,[f.profile.bio?(r(),n("div",ko,[p[0]||(p[0]=e("h4",{class:"text-sm font-medium text-gray-400 uppercase tracking-wider mb-3"},"à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¢à¹ˆà¸­",-1)),e("p",$o,a(f.profile.bio),1)])):f.isOwnProfile?(r(),n("div",Co,[o(t(l),{icon:"fluent:edit-24-regular",class:"w-8 h-8 text-gray-500 mx-auto mb-2"}),p[2]||(p[2]=e("p",{class:"text-gray-400 text-sm"},"à¹€à¸žà¸´à¹ˆà¸¡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¢à¹ˆà¸­à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸„à¸™à¸­à¸·à¹ˆà¸™à¸£à¸¹à¹‰à¸ˆà¸±à¸à¸„à¸¸à¸“à¸¡à¸²à¸à¸‚à¸¶à¹‰à¸™",-1)),o(i,{to:"/profile/edit",class:"text-vikinger-cyan text-sm hover:underline mt-1 inline-block"},{default:N(()=>[...p[1]||(p[1]=[m(" à¹à¸à¹‰à¹„à¸‚à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ ",-1)])]),_:1})])):u("",!0),e("div",jo,[f.profile.gender?(r(),n("div",Po,[e("div",So,[o(t(l),{icon:f.profile.gender==="male"||f.profile.gender==="female"?"fluent:person-24-filled":"fluent:people-24-filled",class:"w-5 h-5 text-pink-400"},null,8,["icon"])]),e("div",null,[p[3]||(p[3]=e("p",{class:"text-xs text-gray-400"},"à¹€à¸žà¸¨",-1)),e("p",Fo,a(t(M)),1)])])):u("",!0),f.profile.birthdate?(r(),n("div",Do,[e("div",Lo,[o(t(l),{icon:"fluent:calendar-24-filled",class:"w-5 h-5 text-orange-400"})]),e("div",null,[p[4]||(p[4]=e("p",{class:"text-xs text-gray-400"},"à¸­à¸²à¸¢à¸¸",-1)),e("p",Mo,a(t(y))+" à¸›à¸µ",1)])])):u("",!0),f.profile.grade?(r(),n("div",To,[e("div",Eo,[o(t(l),{icon:"fluent:book-24-filled",class:"w-5 h-5 text-blue-400"})]),e("div",null,[p[5]||(p[5]=e("p",{class:"text-xs text-gray-400"},"à¸£à¸°à¸”à¸±à¸šà¸Šà¸±à¹‰à¸™",-1)),e("p",Bo,a(t(H)),1)])])):u("",!0),f.profile.location?(r(),n("div",Io,[e("div",Oo,[o(t(l),{icon:"fluent:location-24-filled",class:"w-5 h-5 text-green-400"})]),e("div",null,[p[6]||(p[6]=e("p",{class:"text-xs text-gray-400"},"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ",-1)),e("p",zo,a(f.profile.location),1)])])):u("",!0),f.profile.website?(r(),n("div",Ao,[e("div",Ro,[o(t(l),{icon:"fluent:globe-24-filled",class:"w-5 h-5 text-cyan-400"})]),e("div",null,[p[7]||(p[7]=e("p",{class:"text-xs text-gray-400"},"à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œ",-1)),e("a",{href:f.profile.website,target:"_blank",rel:"noopener noreferrer",class:"text-vikinger-cyan font-medium hover:underline"},a(f.profile.website.replace(/^https?:\/\//,"")),9,qo)])])):u("",!0),t(k)?(r(),n("div",Vo,[e("div",No,[o(t(l),{icon:"fluent:calendar-add-24-filled",class:"w-5 h-5 text-purple-400"})]),e("div",null,[p[8]||(p[8]=e("p",{class:"text-xs text-gray-400"},"à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¹€à¸¡à¸·à¹ˆà¸­",-1)),e("p",Uo,a(t(k)),1)])])):u("",!0)]),f.profile.interests?(r(),n("div",Go,[p[9]||(p[9]=e("h4",{class:"text-sm font-medium text-gray-400 uppercase tracking-wider mb-3"},"à¸„à¸§à¸²à¸¡à¸ªà¸™à¹ƒà¸ˆ",-1)),e("div",Wo,[(r(!0),n(U,null,Z(f.profile.interests.split(",").map(C=>C.trim()).filter(Boolean),(C,h)=>(r(),n("span",{key:h,class:"px-3 py-1.5 bg-vikinger-purple/20 text-vikinger-purple rounded-full text-sm font-medium"},a(C),1))),128))])])):u("",!0)])]),_:1}),t(S)?(r(),B(Y,{key:0,class:"bg-gray-800 border-gray-700 overflow-hidden"},{default:N(()=>[e("div",Ho,[e("h3",Yo,[o(t(l),{icon:"fluent:share-24-filled",class:"w-5 h-5 text-vikinger-cyan"}),p[10]||(p[10]=m(" à¹‚à¸‹à¹€à¸Šà¸µà¸¢à¸¥à¸¡à¸µà¹€à¸”à¸µà¸¢ ",-1))])]),e("div",Zo,[(r(!0),n(U,null,Z(f.profile.social_media_links,(C,h)=>Fe((r(),n("a",{key:h,href:C,target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-3 p-4 bg-gray-700/30 rounded-xl hover:bg-gray-700/50 transition-colors group"},[e("div",{class:"w-10 h-10 rounded-lg flex items-center justify-center transition-transform group-hover:scale-110",style:Q({backgroundColor:E[h]?.color+"20"})},[o(t(l),{icon:E[h]?.icon||"fluent:link-24-regular",class:"w-5 h-5",style:Q({color:E[h]?.color})},null,8,["icon","style"])],4),e("span",Ko,a(E[h]?.label||h),1)],8,Xo)),[[st,C]])),128))])]),_:1})):u("",!0),o(Y,{class:"bg-gray-800 border-gray-700 overflow-hidden"},{default:N(()=>[e("div",Qo,[e("h3",Jo,[o(t(l),{icon:"fluent:data-trending-24-filled",class:"w-5 h-5 text-vikinger-cyan"}),p[11]||(p[11]=m(" à¸ªà¸–à¸´à¸•à¸´à¸ à¸²à¸žà¸£à¸§à¸¡ ",-1))])]),e("div",el,[e("div",tl,[e("div",sl,[o(t(l),{icon:"fluent:document-24-filled",class:"w-8 h-8 text-violet-400 mx-auto mb-2"}),e("p",rl,a(f.profile.posts_count||0),1),p[12]||(p[12]=e("p",{class:"text-xs text-gray-400"},"à¹‚à¸žà¸ªà¸•à¹Œ",-1))]),e("div",ol,[o(t(l),{icon:"fluent:people-24-filled",class:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e("p",ll,a(f.profile.friends_count||f.profile.friends||0),1),p[13]||(p[13]=e("p",{class:"text-xs text-gray-400"},"à¹€à¸žà¸·à¹ˆà¸­à¸™",-1))]),e("div",nl,[o(t(l),{icon:"fluent:star-24-filled",class:"w-8 h-8 text-amber-400 mx-auto mb-2"}),e("p",il,a((f.profile.points||f.profile.pp||0).toLocaleString()),1),p[14]||(p[14]=e("p",{class:"text-xs text-gray-400"},"à¹à¸•à¹‰à¸¡",-1))]),e("div",al,[o(t(l),{icon:"fluent:eye-24-filled",class:"w-8 h-8 text-emerald-400 mx-auto mb-2"}),e("p",dl,a(f.profile.visits_count||0),1),p[15]||(p[15]=e("p",{class:"text-xs text-gray-400"},"à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸Šà¸¡",-1))])])])]),_:1})])}}}),ul={class:"space-y-6"},gl={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4"},fl={class:"text-xl font-bold text-white flex items-center gap-2"},pl={class:"text-vikinger-cyan font-normal ml-1"},vl={class:"flex gap-2 border-b border-gray-700 pb-3"},xl=["onClick"],yl={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bl={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hl={class:"h-24 bg-gradient-to-r from-vikinger-purple/30 to-vikinger-cyan/30 relative overflow-hidden"},ml=["src","alt"],wl={key:1,class:"absolute top-2 left-2 px-2 py-1 bg-vikinger-purple text-white rounded-full text-xs font-medium"},_l={class:"p-4"},kl={class:"font-semibold text-white truncate group-hover:text-vikinger-cyan transition-colors"},$l={key:0,class:"text-sm text-gray-400 line-clamp-2 mt-1"},Cl={class:"flex items-center gap-4 mt-3 text-sm text-gray-500"},jl={class:"flex items-center gap-1"},Pl={class:"flex items-center gap-1"},Sl={key:0,class:"text-sm text-gray-500 mt-2"},Fl=te({__name:"GroupsList",props:{userId:{},isOwnProfile:{type:Boolean}},setup(f){const D=f,E=ee(),y=w([]),k=w(!1),M=w("all"),S=G(()=>M.value==="all"?y.value:M.value==="owned"?y.value.filter(C=>C.is_admin):y.value.filter(C=>C.is_member&&!C.is_admin)),H=async()=>{k.value=!0;try{const C=D.userId?`/api/users/${D.userId}/groups`:"/api/profile/groups",h=await E.get(C);h.success?y.value=h.data||h.groups||[]:y.value=O()}catch(C){console.error("Error fetching groups:",C),y.value=O()}finally{k.value=!1}},O=()=>[{id:1,name:"à¸™à¸±à¸à¸žà¸±à¸’à¸™à¸² Vue.js Thailand",slug:"vuejs-thailand",description:"à¸Šà¸¸à¸¡à¸Šà¸™à¸™à¸±à¸à¸žà¸±à¸’à¸™à¸² Vue.js à¹ƒà¸™à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢",cover_image:"https://picsum.photos/400/200?random=1",members_count:1250,category:"Technology",privacy:"public",is_member:!0,is_admin:!0},{id:2,name:"à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸­à¹ˆà¸²à¸™à¹à¸¥à¹‰à¸§à¸”à¸µ",slug:"good-books",description:"à¹à¸Šà¸£à¹Œà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸­à¹ˆà¸²à¸™à¹à¸¥à¹‰à¸§à¸£à¸¹à¹‰à¸ªà¸¶à¸à¸”à¸µ",cover_image:"https://picsum.photos/400/200?random=2",members_count:856,category:"Education",privacy:"public",is_member:!0,is_admin:!1},{id:3,name:"Plearnd Developers",slug:"plearnd-dev",description:"à¸à¸¥à¸¸à¹ˆà¸¡à¸ªà¸³à¸«à¸£à¸±à¸šà¸™à¸±à¸à¸žà¸±à¸’à¸™à¸² Plearnd",cover_image:"https://picsum.photos/400/200?random=3",members_count:324,category:"Technology",privacy:"private",is_member:!0,is_admin:!1}],p={public:{icon:"fluent:globe-24-regular",label:"à¸ªà¸²à¸˜à¸²à¸£à¸“à¸°",color:"text-green-400"},private:{icon:"fluent:lock-closed-24-regular",label:"à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§",color:"text-amber-400"},secret:{icon:"fluent:eye-off-24-regular",label:"à¸¥à¸±à¸š",color:"text-red-400"}},i=C=>{ne(`/groups/${C.slug}`)};return se(()=>{H()}),(C,h)=>{const L=ie;return r(),n("div",ul,[o(Y,{class:"bg-gray-800 border-gray-700 p-5"},{default:N(()=>[e("div",gl,[e("div",null,[e("h3",fl,[o(t(l),{icon:"fluent:people-community-24-filled",class:"w-6 h-6 text-vikinger-cyan"}),h[0]||(h[0]=m(" à¸à¸¥à¸¸à¹ˆà¸¡ ",-1)),e("span",pl,"("+a(t(y).length)+")",1)]),h[1]||(h[1]=e("p",{class:"text-sm text-gray-400 mt-1"},"à¸à¸¥à¸¸à¹ˆà¸¡à¸—à¸µà¹ˆà¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡",-1))]),f.isOwnProfile?(r(),B(L,{key:0,to:"/groups/create",class:"px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors flex items-center gap-2"},{default:N(()=>[o(t(l),{icon:"fluent:add-24-regular",class:"w-5 h-5"}),h[2]||(h[2]=m(" à¸ªà¸£à¹‰à¸²à¸‡à¸à¸¥à¸¸à¹ˆà¸¡à¹ƒà¸«à¸¡à¹ˆ ",-1))]),_:1})):u("",!0)]),e("div",vl,[(r(),n(U,null,Z([{key:"all",label:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"},{key:"owned",label:"à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™à¹à¸­à¸”à¸¡à¸´à¸™"},{key:"joined",label:"à¸—à¸µà¹ˆà¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡"}],_=>e("button",{key:_.key,onClick:A=>M.value=_.key,class:q(["px-4 py-2 rounded-lg text-sm font-medium transition-all",t(M)===_.key?"bg-vikinger-purple/20 text-vikinger-purple border border-vikinger-purple/30":"text-gray-400 hover:text-white hover:bg-gray-700"])},a(_.label),11,xl)),64))])]),_:1}),t(k)?(r(),n("div",yl,[(r(),n(U,null,Z(4,_=>e("div",{key:_,class:"animate-pulse"},[o(Y,{class:"bg-gray-800 border-gray-700 overflow-hidden"},{default:N(()=>[...h[3]||(h[3]=[e("div",{class:"h-24 bg-gray-700"},null,-1),e("div",{class:"p-4 space-y-3"},[e("div",{class:"h-5 bg-gray-700 rounded w-3/4"}),e("div",{class:"h-3 bg-gray-700 rounded w-1/2"})],-1)])]),_:1})])),64))])):t(S).length>0?(r(),n("div",bl,[(r(!0),n(U,null,Z(t(S),_=>(r(),B(Y,{key:_.id,class:"bg-gray-800 border-gray-700 overflow-hidden hover:border-vikinger-purple/50 transition-all cursor-pointer group",onClick:A=>i(_)},{default:N(()=>[e("div",hl,[_.cover_image?(r(),n("img",{key:0,src:_.cover_image,alt:_.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,ml)):u("",!0),e("div",{class:q(["absolute top-2 right-2 px-2 py-1 bg-black/50 rounded-full flex items-center gap-1 text-xs",p[_.privacy].color])},[o(t(l),{icon:p[_.privacy].icon,class:"w-3 h-3"},null,8,["icon"]),m(" "+a(p[_.privacy].label),1)],2),_.is_admin?(r(),n("div",wl," à¹à¸­à¸”à¸¡à¸´à¸™ ")):u("",!0)]),e("div",_l,[e("h4",kl,a(_.name),1),_.description?(r(),n("p",$l,a(_.description),1)):u("",!0),e("div",Cl,[e("span",jl,[o(t(l),{icon:"fluent:people-24-regular",class:"w-4 h-4"}),m(" "+a(_.members_count.toLocaleString())+" à¸ªà¸¡à¸²à¸Šà¸´à¸ ",1)]),e("span",Pl,[o(t(l),{icon:"fluent:tag-24-regular",class:"w-4 h-4"}),m(" "+a(_.category),1)])])])]),_:2},1032,["onClick"]))),128))])):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:people-community-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),h[5]||(h[5]=e("p",{class:"text-gray-400"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸à¸¥à¸¸à¹ˆà¸¡à¹ƒà¸”à¹†",-1)),f.isOwnProfile?(r(),n("p",Sl," à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸žà¸šà¸›à¸°à¸œà¸¹à¹‰à¸„à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸™à¹ƒà¸ˆà¹€à¸«à¸¡à¸·à¸­à¸™à¸à¸±à¸™! ")):u("",!0),f.isOwnProfile?(r(),B(L,{key:1,to:"/groups",class:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors"},{default:N(()=>[o(t(l),{icon:"fluent:search-24-regular",class:"w-5 h-5"}),h[4]||(h[4]=m(" à¸„à¹‰à¸™à¸«à¸²à¸à¸¥à¸¸à¹ˆà¸¡ ",-1))]),_:1})):u("",!0)]),_:1}))])}}}),Dl={class:"space-y-6"},Ll={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4"},Ml={class:"text-xl font-bold text-white flex items-center gap-2"},Tl={class:"text-vikinger-cyan font-normal ml-1"},El={class:"flex gap-2 border-b border-gray-700 pb-3"},Bl=["onClick"],Il={key:0,class:"space-y-4"},Ol={key:1,class:"space-y-4"},zl={class:"flex flex-col sm:flex-row gap-4 p-4"},Al={class:"w-full sm:w-40 h-32 sm:h-28 bg-gradient-to-br from-vikinger-purple/30 to-vikinger-cyan/30 rounded-lg overflow-hidden shrink-0 relative"},Rl=["src","alt"],ql={class:"absolute top-2 left-2 bg-black/80 rounded-lg p-2 text-center min-w-[50px]"},Vl={class:"text-xs text-vikinger-cyan uppercase"},Nl={class:"text-xl font-bold text-white"},Ul={key:1,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},Gl={class:"flex-1 min-w-0"},Wl={class:"flex items-start justify-between gap-2"},Hl={class:"font-semibold text-white truncate group-hover:text-vikinger-cyan transition-colors"},Yl={key:0,class:"text-sm text-gray-400 line-clamp-2 mt-1"},Zl={class:"flex flex-wrap items-center gap-x-4 gap-y-2 mt-3 text-sm text-gray-500"},Xl={class:"flex items-center gap-1"},Kl={class:"flex items-center gap-1"},Ql={class:"flex items-center gap-1"},Jl={key:0,class:"flex items-center gap-1"},en={class:"mt-3"},tn={class:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded-full"},sn={class:"text-gray-400"},rn={key:0,class:"text-sm text-gray-500 mt-2"},on=te({__name:"EventsList",props:{userId:{},isOwnProfile:{type:Boolean}},setup(f){const D=f,E=ee(),y=w([]),k=w(!1),M=w("upcoming"),S=G(()=>{const L=new Date;return M.value==="upcoming"?y.value.filter(_=>new Date(_.start_date)>=L):M.value==="past"?y.value.filter(_=>new Date(_.start_date)<L):y.value.filter(_=>_.status==="hosting")}),H=async()=>{k.value=!0;try{const L=D.userId?`/api/users/${D.userId}/events`:"/api/profile/events",_=await E.get(L);_.success?y.value=_.data||_.events||[]:y.value=O()}catch(L){console.error("Error fetching events:",L),y.value=O()}finally{k.value=!1}},O=()=>{const L=new Date,_=new Date(L.getTime()+10080*60*1e3),A=new Date(L.getTime()+336*60*60*1e3),b=new Date(L.getTime()-10080*60*1e3);return[{id:1,title:"Nuxt.js Workshop Thailand 2024",slug:"nuxtjs-workshop-2024",description:"à¹€à¸§à¸´à¸£à¹Œà¸„à¸Šà¹‡à¸­à¸›à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œà¸”à¹‰à¸§à¸¢ Nuxt.js 3",cover_image:"https://picsum.photos/400/200?random=10",start_date:_.toISOString(),location:"Online via Zoom",is_online:!0,attendees_count:128,status:"going",category:"Technology",price:0},{id:2,title:"Tech Meetup Bangkok",slug:"tech-meetup-bangkok",description:"à¸žà¸šà¸›à¸°à¸™à¸±à¸à¸žà¸±à¸’à¸™à¸²à¸ˆà¸²à¸à¸—à¸±à¹ˆà¸§à¸›à¸£à¸°à¹€à¸—à¸¨",cover_image:"https://picsum.photos/400/200?random=11",start_date:A.toISOString(),location:"True Digital Park, à¸à¸£à¸¸à¸‡à¹€à¸—à¸žà¸¯",is_online:!1,attendees_count:256,status:"interested",category:"Networking"},{id:3,title:"Web Development Basics",slug:"web-dev-basics",description:"à¸„à¸­à¸£à¹Œà¸ªà¸žà¸·à¹‰à¸™à¸à¸²à¸™à¸à¸²à¸£à¸žà¸±à¸’à¸™à¸²à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œ",cover_image:"https://picsum.photos/400/200?random=12",start_date:b.toISOString(),location:"Online",is_online:!0,attendees_count:89,status:"hosting",category:"Education"}]},p=L=>{const _=new Date(L),A={weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"};return _.toLocaleDateString("th-TH",A)},i={going:{label:"à¸ˆà¸°à¹„à¸›",color:"bg-green-500/20 text-green-400 border-green-500/30"},interested:{label:"à¸ªà¸™à¹ƒà¸ˆ",color:"bg-amber-500/20 text-amber-400 border-amber-500/30"},not_going:{label:"à¹„à¸¡à¹ˆà¹„à¸›",color:"bg-gray-500/20 text-gray-400 border-gray-500/30"},hosting:{label:"à¹€à¸›à¹‡à¸™à¸œà¸¹à¹‰à¸ˆà¸±à¸”",color:"bg-vikinger-purple/20 text-vikinger-purple border-vikinger-purple/30"}},C=L=>new Date(L)<new Date,h=L=>{ne(`/events/${L.slug}`)};return se(()=>{H()}),(L,_)=>{const A=ie;return r(),n("div",Dl,[o(Y,{class:"bg-gray-800 border-gray-700 p-5"},{default:N(()=>[e("div",Ll,[e("div",null,[e("h3",Ml,[o(t(l),{icon:"fluent:calendar-24-filled",class:"w-6 h-6 text-vikinger-cyan"}),_[0]||(_[0]=m(" à¸à¸´à¸ˆà¸à¸£à¸£à¸¡ ",-1)),e("span",Tl,"("+a(t(y).length)+")",1)]),_[1]||(_[1]=e("p",{class:"text-sm text-gray-400 mt-1"},"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸—à¸µà¹ˆà¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¹à¸¥à¸°à¸ªà¸™à¹ƒà¸ˆ",-1))]),f.isOwnProfile?(r(),B(A,{key:0,to:"/events/create",class:"px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors flex items-center gap-2"},{default:N(()=>[o(t(l),{icon:"fluent:add-24-regular",class:"w-5 h-5"}),_[2]||(_[2]=m(" à¸ªà¸£à¹‰à¸²à¸‡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡ ",-1))]),_:1})):u("",!0)]),e("div",El,[(r(),n(U,null,Z([{key:"upcoming",label:"à¸à¸³à¸¥à¸±à¸‡à¸ˆà¸°à¸¡à¸²",icon:"fluent:arrow-trending-24-regular"},{key:"past",label:"à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸™à¸¡à¸²",icon:"fluent:history-24-regular"},{key:"hosting",label:"à¸—à¸µà¹ˆà¸ˆà¸±à¸”",icon:"fluent:star-24-regular"}],b=>e("button",{key:b.key,onClick:$=>M.value=b.key,class:q(["px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2",t(M)===b.key?"bg-vikinger-purple/20 text-vikinger-purple border border-vikinger-purple/30":"text-gray-400 hover:text-white hover:bg-gray-700"])},[o(t(l),{icon:b.icon,class:"w-4 h-4"},null,8,["icon"]),m(" "+a(b.label),1)],10,Bl)),64))])]),_:1}),t(k)?(r(),n("div",Il,[(r(),n(U,null,Z(3,b=>e("div",{key:b,class:"animate-pulse"},[o(Y,{class:"bg-gray-800 border-gray-700"},{default:N(()=>[..._[3]||(_[3]=[e("div",{class:"flex gap-4 p-4"},[e("div",{class:"w-32 h-24 bg-gray-700 rounded-lg shrink-0"}),e("div",{class:"flex-1 space-y-3"},[e("div",{class:"h-5 bg-gray-700 rounded w-3/4"}),e("div",{class:"h-3 bg-gray-700 rounded w-1/2"}),e("div",{class:"h-3 bg-gray-700 rounded w-1/3"})])],-1)])]),_:1})])),64))])):t(S).length>0?(r(),n("div",Ol,[(r(!0),n(U,null,Z(t(S),b=>(r(),B(Y,{key:b.id,class:"bg-gray-800 border-gray-700 overflow-hidden hover:border-vikinger-purple/50 transition-all cursor-pointer group",onClick:$=>h(b)},{default:N(()=>[e("div",zl,[e("div",Al,[b.cover_image?(r(),n("img",{key:0,src:b.cover_image,alt:b.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Rl)):u("",!0),e("div",ql,[e("div",Vl,a(new Date(b.start_date).toLocaleDateString("th-TH",{month:"short"})),1),e("div",Nl,a(new Date(b.start_date).getDate()),1)]),C(b.start_date)?(r(),n("div",Ul,[..._[4]||(_[4]=[e("span",{class:"text-gray-300 text-sm font-medium"},"à¸ˆà¸šà¹à¸¥à¹‰à¸§",-1)])])):u("",!0)]),e("div",Gl,[e("div",Wl,[e("h4",Hl,a(b.title),1),e("span",{class:q(["px-2 py-1 text-xs rounded-full border shrink-0",i[b.status].color])},a(i[b.status].label),3)]),b.description?(r(),n("p",Yl,a(b.description),1)):u("",!0),e("div",Zl,[e("span",Xl,[o(t(l),{icon:"fluent:clock-24-regular",class:"w-4 h-4"}),m(" "+a(p(b.start_date)),1)]),e("span",Kl,[o(t(l),{icon:b.is_online?"fluent:video-24-regular":"fluent:location-24-regular",class:"w-4 h-4"},null,8,["icon"]),e("span",{class:q(b.is_online?"text-vikinger-cyan":"")},a(b.location||(b.is_online?"Online":"à¹„à¸¡à¹ˆà¸£à¸°à¸šà¸¸")),3)]),e("span",Ql,[o(t(l),{icon:"fluent:people-24-regular",class:"w-4 h-4"}),m(" "+a(b.attendees_count)+" à¸„à¸™à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡ ",1)]),b.price!==void 0?(r(),n("span",Jl,[o(t(l),{icon:"fluent:ticket-24-regular",class:"w-4 h-4"}),e("span",{class:q(b.price===0?"text-green-400":"text-vikinger-cyan")},a(b.price===0?"à¸Ÿà¸£à¸µ":`à¸¿${b.price.toLocaleString()}`),3)])):u("",!0)]),e("div",en,[e("span",tn,a(b.category),1)])])])]),_:2},1032,["onClick"]))),128))])):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:calendar-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e("p",sn,a(t(M)==="upcoming"?"à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸—à¸µà¹ˆà¸à¸³à¸¥à¸±à¸‡à¸ˆà¸°à¸¡à¸²":t(M)==="past"?"à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸™à¸¡à¸²":"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸„à¸¢à¸ˆà¸±à¸”à¸à¸´à¸ˆà¸à¸£à¸£à¸¡"),1),f.isOwnProfile?(r(),n("p",rn," à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¹€à¸žà¸·à¹ˆà¸­à¸žà¸šà¸›à¸°à¸œà¸¹à¹‰à¸„à¸™à¹ƒà¸«à¸¡à¹ˆà¹†! ")):u("",!0),f.isOwnProfile?(r(),B(A,{key:1,to:"/events",class:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors"},{default:N(()=>[o(t(l),{icon:"fluent:search-24-regular",class:"w-5 h-5"}),_[5]||(_[5]=m(" à¸„à¹‰à¸™à¸«à¸²à¸à¸´à¸ˆà¸à¸£à¸£à¸¡ ",-1))]),_:1})):u("",!0)]),_:1}))])}}}),ln={class:"space-y-6"},nn={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4"},an={class:"text-xl font-bold text-white flex items-center gap-2"},dn={class:"text-vikinger-cyan font-normal ml-1"},cn={class:"flex items-center gap-4"},un={class:"flex gap-2"},gn=["onClick"],fn={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pn={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},vn=["onClick"],xn=["src","alt"],yn={class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},bn={class:"w-16 h-16 bg-vikinger-purple/90 rounded-full flex items-center justify-center"},hn={class:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded"},mn={key:0,class:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1"},wn={class:"p-4"},_n={class:"font-semibold text-white line-clamp-2 group-hover:text-vikinger-cyan transition-colors"},kn={class:"flex items-center gap-3 mt-2 text-sm text-gray-500"},$n={class:"flex items-center gap-1"},Cn={key:0,class:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-700"},jn={class:"flex-1 px-3 py-1.5 bg-gray-700 text-gray-300 text-sm rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center gap-1"},Pn=["onClick"],Sn={key:0,class:"text-sm text-gray-500 mt-2"},Fn={class:"aspect-video bg-black rounded-lg overflow-hidden shadow-2xl"},Dn=["src"],Ln={class:"mt-4 p-4 bg-gray-800 rounded-lg"},Mn={class:"text-xl font-bold text-white"},Tn={key:0,class:"text-gray-400 mt-2"},En={class:"flex items-center gap-4 mt-3 text-sm text-gray-500"},Bn={class:"flex items-center gap-1"},In={class:"flex items-center gap-1"},On={class:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-vikinger-purple transition-colors cursor-pointer"},zn={class:"flex justify-end gap-3 mt-6"},An=te({__name:"VideosList",props:{userId:{},isOwnProfile:{type:Boolean}},setup(f){const D=f,E=ee(),y=w([]),k=w(!1),M=w(null),S=w(!1),H=w("recent"),O=G(()=>{const d=[...y.value];switch(H.value){case"recent":return d.sort((g,c)=>new Date(c.created_at).getTime()-new Date(g.created_at).getTime());case"popular":return d.sort((g,c)=>c.views_count-g.views_count);case"oldest":return d.sort((g,c)=>new Date(g.created_at).getTime()-new Date(c.created_at).getTime());default:return d}}),p=async()=>{k.value=!0;try{const d=D.userId?`/api/users/${D.userId}/videos`:"/api/profile/videos",g=await E.get(d);g.success?y.value=g.data||g.videos||[]:y.value=i()}catch(d){console.error("Error fetching videos:",d),y.value=i()}finally{k.value=!1}},i=()=>[{id:1,title:"How to Build a Nuxt 3 App from Scratch",description:"à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ Web Application à¸”à¹‰à¸§à¸¢ Nuxt 3 à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸•à¹‰à¸™à¸ˆà¸™à¸ˆà¸š",thumbnail:"https://picsum.photos/640/360?random=20",video_url:"https://example.com/video1.mp4",duration:1845,views_count:15420,likes_count:892,created_at:new Date(Date.now()-10080*60*1e3).toISOString(),privacy:"public"},{id:2,title:"Vue 3 Composition API Tips & Tricks",description:"à¹€à¸—à¸„à¸™à¸´à¸„à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Composition API à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž",thumbnail:"https://picsum.photos/640/360?random=21",video_url:"https://example.com/video2.mp4",duration:925,views_count:8756,likes_count:456,created_at:new Date(Date.now()-336*60*60*1e3).toISOString(),privacy:"public"},{id:3,title:"à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Tailwind CSS à¸à¸±à¸š Vue",description:"à¸§à¸´à¸˜à¸µà¸à¸²à¸£ Setup à¹à¸¥à¸° Best Practices à¹ƒà¸™à¸à¸²à¸£à¹ƒà¸Šà¹‰ Tailwind CSS",thumbnail:"https://picsum.photos/640/360?random=22",video_url:"https://example.com/video3.mp4",duration:2234,views_count:12340,likes_count:678,created_at:new Date(Date.now()-720*60*60*1e3).toISOString(),privacy:"friends"}],C=d=>{const g=Math.floor(d/3600),c=Math.floor(d%3600/60),F=d%60;return g>0?`${g}:${c.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`:`${c}:${F.toString().padStart(2,"0")}`},h=d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:d.toString(),L=d=>{const g=new Date(d),F=new Date().getTime()-g.getTime(),z=Math.floor(F/(1e3*60*60*24));return z===0?"à¸§à¸±à¸™à¸™à¸µà¹‰":z===1?"à¹€à¸¡à¸·à¹ˆà¸­à¸§à¸²à¸™":z<7?`${z} à¸§à¸±à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§`:z<30?`${Math.floor(z/7)} à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§`:z<365?`${Math.floor(z/30)} à¹€à¸”à¸·à¸­à¸™à¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§`:`${Math.floor(z/365)} à¸›à¸µà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§`},_={public:{icon:"fluent:globe-24-regular",label:"à¸ªà¸²à¸˜à¸²à¸£à¸“à¸°"},friends:{icon:"fluent:people-24-regular",label:"à¹€à¸žà¸·à¹ˆà¸­à¸™"},private:{icon:"fluent:lock-closed-24-regular",label:"à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§"}},A=d=>{M.value=d},b=()=>{M.value=null},$=async d=>{if(confirm(`à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸¥à¸šà¸§à¸´à¸”à¸µà¹‚à¸­ "${d.title}" à¹ƒà¸Šà¹ˆà¹„à¸«à¸¡?`))try{await E.delete(`/api/profile/videos/${d.id}`),y.value=y.value.filter(g=>g.id!==d.id)}catch(g){console.error("Error deleting video:",g),alert("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸§à¸´à¸”à¸µà¹‚à¸­à¹„à¸”à¹‰")}};return se(()=>{p()}),(d,g)=>(r(),n("div",ln,[o(Y,{class:"bg-gray-800 border-gray-700 p-5"},{default:N(()=>[e("div",nn,[e("div",null,[e("h3",an,[o(t(l),{icon:"fluent:video-24-filled",class:"w-6 h-6 text-vikinger-cyan"}),g[6]||(g[6]=m(" à¸§à¸´à¸”à¸µà¹‚à¸­ ",-1)),e("span",dn,"("+a(t(y).length)+")",1)]),g[7]||(g[7]=e("p",{class:"text-sm text-gray-400 mt-1"},"à¸§à¸´à¸”à¸µà¹‚à¸­à¸—à¸µà¹ˆà¸­à¸±à¸›à¹‚à¸«à¸¥à¸”",-1))]),f.isOwnProfile?(r(),n("button",{key:0,onClick:g[0]||(g[0]=c=>S.value=!0),class:"px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors flex items-center gap-2"},[o(t(l),{icon:"fluent:arrow-upload-24-regular",class:"w-5 h-5"}),g[8]||(g[8]=m(" à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸§à¸´à¸”à¸µà¹‚à¸­ ",-1))])):u("",!0)]),e("div",cn,[g[9]||(g[9]=e("span",{class:"text-sm text-gray-400"},"à¹€à¸£à¸µà¸¢à¸‡à¸•à¸²à¸¡:",-1)),e("div",un,[(r(),n(U,null,Z([{key:"recent",label:"à¸¥à¹ˆà¸²à¸ªà¸¸à¸”"},{key:"popular",label:"à¸¢à¸­à¸”à¸™à¸´à¸¢à¸¡"},{key:"oldest",label:"à¹€à¸à¹ˆà¸²à¸ªà¸¸à¸”"}],c=>e("button",{key:c.key,onClick:F=>H.value=c.key,class:q(["px-3 py-1.5 rounded-full text-sm transition-all",t(H)===c.key?"bg-vikinger-purple text-white":"bg-gray-700 text-gray-400 hover:text-white"])},a(c.label),11,gn)),64))])])]),_:1}),t(k)?(r(),n("div",fn,[(r(),n(U,null,Z(6,c=>e("div",{key:c,class:"animate-pulse"},[o(Y,{class:"bg-gray-800 border-gray-700 overflow-hidden"},{default:N(()=>[...g[10]||(g[10]=[e("div",{class:"aspect-video bg-gray-700"},null,-1),e("div",{class:"p-4 space-y-3"},[e("div",{class:"h-4 bg-gray-700 rounded w-3/4"}),e("div",{class:"h-3 bg-gray-700 rounded w-1/2"})],-1)])]),_:1})])),64))])):t(O).length>0?(r(),n("div",pn,[(r(!0),n(U,null,Z(t(O),c=>(r(),B(Y,{key:c.id,class:"bg-gray-800 border-gray-700 overflow-hidden group"},{default:N(()=>[e("div",{class:"aspect-video bg-gray-900 relative cursor-pointer",onClick:F=>A(c)},[e("img",{src:c.thumbnail,alt:c.title,class:"w-full h-full object-cover group-hover:opacity-80 transition-opacity"},null,8,xn),e("div",yn,[e("div",bn,[o(t(l),{icon:"fluent:play-24-filled",class:"w-8 h-8 text-white ml-1"})])]),e("div",hn,a(C(c.duration)),1),c.privacy!=="public"?(r(),n("div",mn,[o(t(l),{icon:_[c.privacy].icon,class:"w-3 h-3"},null,8,["icon"]),m(" "+a(_[c.privacy].label),1)])):u("",!0)],8,vn),e("div",wn,[e("h4",_n,a(c.title),1),e("div",kn,[e("span",$n,[o(t(l),{icon:"fluent:eye-24-regular",class:"w-4 h-4"}),m(" "+a(h(c.views_count))+" views ",1)]),g[11]||(g[11]=e("span",null,"â€¢",-1)),e("span",null,a(L(c.created_at)),1)]),f.isOwnProfile?(r(),n("div",Cn,[e("button",jn,[o(t(l),{icon:"fluent:edit-24-regular",class:"w-4 h-4"}),g[12]||(g[12]=m(" à¹à¸à¹‰à¹„à¸‚ ",-1))]),e("button",{onClick:F=>$(c),class:"px-3 py-1.5 bg-red-500/20 text-red-400 text-sm rounded-lg hover:bg-red-500/30 transition-colors flex items-center justify-center gap-1"},[o(t(l),{icon:"fluent:delete-24-regular",class:"w-4 h-4"})],8,Pn)])):u("",!0)])]),_:2},1024))),128))])):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:video-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),g[14]||(g[14]=e("p",{class:"text-gray-400"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸§à¸´à¸”à¸µà¹‚à¸­",-1)),f.isOwnProfile?(r(),n("p",Sn," à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸§à¸´à¸”à¸µà¹‚à¸­à¹€à¸žà¸·à¹ˆà¸­à¹à¸Šà¸£à¹Œà¸à¸±à¸šà¹€à¸žà¸·à¹ˆà¸­à¸™à¸‚à¸­à¸‡à¸„à¸¸à¸“! ")):u("",!0),f.isOwnProfile?(r(),n("button",{key:1,onClick:g[1]||(g[1]=c=>S.value=!0),class:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors"},[o(t(l),{icon:"fluent:arrow-upload-24-regular",class:"w-5 h-5"}),g[13]||(g[13]=m(" à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸§à¸´à¸”à¸µà¹‚à¸­à¹à¸£à¸ ",-1))])):u("",!0)]),_:1})),(r(),B(oe,{to:"body"},[t(M)?(r(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:b},[g[15]||(g[15]=e("div",{class:"absolute inset-0 bg-black/90"},null,-1)),e("div",{class:"relative w-full max-w-5xl z-10",onClick:g[2]||(g[2]=pe(()=>{},["stop"]))},[e("button",{onClick:b,class:"absolute -top-12 right-0 text-white hover:text-vikinger-cyan transition-colors"},[o(t(l),{icon:"fluent:dismiss-24-regular",class:"w-8 h-8"})]),e("div",Fn,[e("video",{src:t(M).video_url,controls:"",autoplay:"",class:"w-full h-full"}," Your browser does not support the video tag. ",8,Dn)]),e("div",Ln,[e("h3",Mn,a(t(M).title),1),t(M).description?(r(),n("p",Tn,a(t(M).description),1)):u("",!0),e("div",En,[e("span",Bn,[o(t(l),{icon:"fluent:eye-24-regular",class:"w-4 h-4"}),m(" "+a(h(t(M).views_count))+" views ",1)]),e("span",In,[o(t(l),{icon:"fluent:thumb-like-24-regular",class:"w-4 h-4"}),m(" "+a(h(t(M).likes_count))+" likes ",1)]),e("span",null,a(L(t(M).created_at)),1)])])])])):u("",!0)])),(r(),B(oe,{to:"body"},[t(S)?(r(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:g[5]||(g[5]=c=>S.value=!1)},[g[20]||(g[20]=e("div",{class:"absolute inset-0 bg-black/80"},null,-1)),e("div",{class:"relative bg-gray-800 rounded-xl p-6 max-w-lg w-full z-10",onClick:g[4]||(g[4]=pe(()=>{},["stop"]))},[g[19]||(g[19]=e("h3",{class:"text-xl font-bold text-white mb-4"},"à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸§à¸´à¸”à¸µà¹‚à¸­",-1)),e("div",On,[o(t(l),{icon:"fluent:cloud-arrow-up-24-regular",class:"w-12 h-12 text-gray-500 mx-auto mb-3"}),g[16]||(g[16]=e("p",{class:"text-gray-400"},"à¸„à¸¥à¸´à¸à¸«à¸£à¸·à¸­à¸¥à¸²à¸à¹„à¸Ÿà¸¥à¹Œà¸¡à¸²à¸§à¸²à¸‡",-1)),g[17]||(g[17]=e("p",{class:"text-sm text-gray-500 mt-1"},"MP4, WebM, MOV (à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 500MB)",-1))]),e("div",zn,[e("button",{onClick:g[3]||(g[3]=c=>S.value=!1),class:"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors"}," à¸¢à¸à¹€à¸¥à¸´à¸ "),g[18]||(g[18]=e("button",{class:"px-4 py-2 bg-vikinger-purple text-white rounded-lg hover:bg-vikinger-purple/80 transition-colors",disabled:""}," à¸­à¸±à¸›à¹‚à¸«à¸¥à¸” ",-1))])])])):u("",!0)]))]))}}),Rn=()=>{const f=ee(),D=w(null),E=w(!1),y=w(null),k=w(!1),M=G(()=>!!D.value),S=G(()=>D.value?.profile_completion??null),H=G(()=>D.value?.profile_completion?.missing_fields??[]);return{profile:D,isLoading:E,error:y,isSaving:k,isProfileLoaded:M,profileCompletion:S,missingFields:H,fetchMyProfile:async()=>{E.value=!0,y.value=null;try{const $=await f.get("/api/profile/me");return $.success?(D.value=$.data,$.data):null}catch($){return y.value=$.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰",console.error("Error fetching profile:",$),null}finally{E.value=!1}},fetchUserProfile:async $=>{E.value=!0,y.value=null;try{const d=await f.get(`/api/users/${$}/show`);return d.success?{profile:d.data,friendshipStatus:d.friendship_status,canViewFullProfile:d.can_view_full_profile,isOwnProfile:d.is_own_profile}:null}catch(d){return y.value=d.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰",console.error("Error fetching user profile:",d),null}finally{E.value=!1}},updateProfile:async $=>{k.value=!0,y.value=null;try{const d=await f.put("/api/profile/update",$);return d.success?(D.value=d.data,d.data):null}catch(d){throw y.value=d.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹€à¸”à¸—à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰",console.error("Error updating profile:",d),d}finally{k.value=!1}},updateAvatar:async $=>{k.value=!0,y.value=null;try{const d=new FormData;d.append("avatar",$);const g=await f.call("/api/profile/avatar",{method:"POST",body:d});return g.success&&D.value?(D.value.avatar=g.avatar,g.avatar):null}catch(d){throw y.value=d.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œà¹„à¸”à¹‰",console.error("Error updating avatar:",d),d}finally{k.value=!1}},updateCover:async $=>{k.value=!0,y.value=null;try{const d=new FormData;d.append("cover",$);const g=await f.call("/api/profile/cover",{method:"POST",body:d});return g.success&&D.value?(D.value.cover_image=g.cover_image,g.cover_image):null}catch(d){throw y.value=d.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸›à¸à¹„à¸”à¹‰",console.error("Error updating cover:",d),d}finally{k.value=!1}},fetchProfileCompletion:async()=>{try{const $=await f.get("/api/profile/completion");return $.success?(D.value&&(D.value.profile_completion=$.data),$.data):null}catch($){return console.error("Error fetching profile completion:",$),null}},updatePrivacy:async $=>{k.value=!0,y.value=null;try{return(await f.put("/api/profile/privacy",{privacy_settings:$})).success&&D.value?(D.value.privacy_settings=$,!0):!1}catch(d){return y.value=d.message||"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸žà¹€à¸”à¸—à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹„à¸”à¹‰",console.error("Error updating privacy:",d),!1}finally{k.value=!1}},fetchStats:async $=>{try{const d=$?`/api/users/${$}/stats`:"/api/profile/stats",g=await f.get(d);return g.success?g.data:null}catch(d){return console.error("Error fetching stats:",d),null}},clearProfile:()=>{D.value=null,y.value=null}}},qn={class:"max-w-6xl mx-auto pb-20 md:pb-0"},Vn={class:"vikinger-card relative overflow-hidden mb-6 !rounded-2xl !p-0 dark:!bg-gray-900 !shadow-2xl"},Nn={class:"relative h-48 md:h-64 overflow-hidden"},Un={class:"absolute inset-0 bg-gradient-to-br from-vikinger-purple via-purple-800 to-vikinger-cyan"},Gn=["src","alt"],Wn={class:"relative px-6 pb-6"},Hn={class:"flex flex-col md:flex-row items-center md:items-end gap-4 -mt-16 md:-mt-20"},Yn={class:"relative flex-shrink-0"},Zn={class:"relative w-28 h-28 md:w-36 md:h-36 rounded-full overflow-hidden ring-4 ring-vikinger-cyan ring-offset-4 ring-offset-gray-900 dark:ring-offset-gray-900 shadow-2xl"},Xn=["src","alt"],Kn={class:"flex-1 flex flex-col md:flex-row items-center md:items-center justify-between gap-4 mt-2 md:mt-0"},Qn={class:"text-center md:text-left"},Jn={class:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white flex items-center justify-center md:justify-start gap-2"},ei={key:0,class:"text-gray-500 dark:text-gray-400 text-sm mt-1 max-w-md"},ti={class:"flex gap-3 flex-shrink-0"},si=["disabled"],ri={class:"hidden sm:inline"},oi={class:"px-5 py-2.5 bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-white rounded-xl hover:bg-gray-300 dark:hover:bg-gray-700 transition-all flex items-center gap-2 font-bold"},li={class:"border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50"},ni={class:"flex items-center justify-center gap-4 md:gap-8 px-6 py-4"},ii={class:"stat-card group flex items-center gap-3 p-2 md:p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all cursor-pointer"},ai={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},di={class:"text-left"},ci={class:"block text-lg md:text-xl font-black text-gray-900 dark:text-white"},ui={class:"stat-card group flex items-center gap-3 p-2 md:p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all cursor-pointer"},gi={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},fi={class:"text-left"},pi={class:"block text-lg md:text-xl font-black text-gray-900 dark:text-white"},vi={class:"stat-card group flex items-center gap-3 p-2 md:p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all cursor-pointer"},xi={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},yi={class:"text-left"},bi={class:"block text-lg md:text-xl font-black text-gray-900 dark:text-white"},hi={class:"hidden md:block vikinger-card relative overflow-hidden !rounded-2xl !p-0 dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900 mb-6"},mi={class:"relative flex items-center"},wi=["disabled"],_i=["onClick"],ki={class:"relative"},$i={key:0,class:"absolute inset-0 -m-2 bg-vikinger-cyan/20 blur-xl rounded-full animate-pulse"},Ci={key:0,class:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-vikinger-cyan rounded-full shadow-lg shadow-vikinger-cyan/50"},ji=["disabled"],Pi={class:"grid grid-cols-1 lg:grid-cols-12 gap-6"},Si={class:"lg:col-span-3 space-y-6"},Fi={class:"vikinger-card vikinger-card-hover overflow-hidden !rounded-2xl !p-0"},Di={class:"relative bg-gradient-to-r from-amber-500 via-orange-500 to-red-500 px-3 py-2.5"},Li={class:"relative text-sm font-bold text-white flex items-center gap-2"},Mi={class:"w-6 h-6 rounded-md bg-white/20 flex items-center justify-center"},Ti={class:"p-3 space-y-2"},Ei={class:"flex items-center gap-3 p-2.5 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl"},Bi={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-md flex-shrink-0"},Ii={class:"flex-1 min-w-0"},Oi={class:"text-xl font-black text-gray-900 dark:text-white"},zi={class:"flex items-center gap-3 p-2.5 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-xl"},Ai={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-green-500 flex items-center justify-center shadow-md flex-shrink-0"},Ri={class:"flex-1 min-w-0"},qi={class:"text-xl font-black text-gray-900 dark:text-white"},Vi={class:"flex gap-2 pt-1"},Ni={class:"flex-1 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-white rounded-xl text-xs font-bold flex items-center justify-center gap-1.5 transition-all"},Ui={class:"flex-1 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-white rounded-xl text-xs font-bold flex items-center justify-center gap-1.5 transition-all"},Gi={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl !p-0 dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},Wi={class:"relative bg-gradient-to-r from-vikinger-purple via-purple-600 to-vikinger-cyan p-4"},Hi={class:"relative flex items-center justify-between"},Yi={class:"text-lg font-black text-white flex items-center gap-2 drop-shadow-lg"},Zi={class:"w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center"},Xi={class:"flex items-center gap-2 px-4 py-1.5 bg-white/20 rounded-full backdrop-blur-sm border border-white/30"},Ki={class:"text-white font-black text-sm"},Qi={class:"relative p-5 space-y-5"},Ji={class:"flex items-center justify-center py-2"},ea={class:"relative"},ta={class:"relative w-36 h-36 transform -rotate-90",viewBox:"0 0 100 100"},sa=["stroke-dasharray"],ra={class:"absolute inset-0 flex items-center justify-center"},oa={class:"text-center"},la={class:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-vikinger-purple to-vikinger-cyan"},na={class:"space-y-3"},ia={class:"flex justify-between text-sm"},aa={class:"text-vikinger-cyan font-bold"},da={class:"relative h-4 bg-gray-800 rounded-full overflow-hidden border border-gray-700"},ca={class:"absolute inset-0 flex items-center justify-center"},ua={class:"text-[10px] font-bold text-white drop-shadow-lg"},ga={class:"relative overflow-hidden p-4 bg-gradient-to-r from-yellow-900/30 via-amber-900/20 to-yellow-900/30 rounded-xl border border-yellow-600/30"},fa={class:"relative flex items-center gap-4"},pa={class:"relative"},va={class:"relative w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-400 via-amber-500 to-orange-500 flex items-center justify-center shadow-lg border border-yellow-300/30"},xa={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},ya={class:"relative"},ba={class:"flex items-center justify-between mb-5"},ha={class:"text-lg font-black text-white flex items-center gap-2"},ma={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-vikinger-purple to-vikinger-cyan flex items-center justify-center"},wa={class:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors"},_a={key:0,class:"mb-6"},ka={class:"text-gray-300 text-sm leading-relaxed"},$a={key:1,class:"mb-6 p-4 bg-gray-800/50 rounded-xl border border-dashed border-gray-600"},Ca={class:"text-gray-500 text-sm text-center italic flex items-center justify-center gap-2"},ja={class:"space-y-3"},Pa={key:0,class:"flex items-center gap-4 p-3 bg-gray-800/50 rounded-xl hover:bg-gray-800 transition-colors"},Sa={class:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"},Fa={class:"flex-1"},Da={class:"text-white font-medium"},La={key:1,class:"flex items-center gap-4 p-3 bg-gray-800/50 rounded-xl hover:bg-gray-800 transition-colors"},Ma={class:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center"},Ta={class:"flex-1"},Ea={class:"text-white font-medium"},Ba={class:"flex items-center gap-4 p-3 bg-gray-800/50 rounded-xl hover:bg-gray-800 transition-colors"},Ia={class:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center text-xl"},Oa={key:2,class:"flex items-center gap-4 p-3 bg-gray-800/50 rounded-xl hover:bg-gray-800 transition-colors"},za={class:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center"},Aa={class:"flex-1"},Ra={class:"text-white font-medium"},qa={key:3,class:"flex items-center gap-4 p-3 bg-gray-800/50 rounded-xl hover:bg-gray-800 transition-colors group"},Va={class:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center"},Na={class:"flex-1"},Ua=["href"],Ga={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},Wa={class:"relative"},Ha={class:"flex items-center justify-between mb-5"},Ya={class:"text-lg font-black text-white flex items-center gap-2"},Za={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-600 flex items-center justify-center"},Xa={class:"ml-1 px-2 py-0.5 bg-vikinger-cyan/20 text-vikinger-cyan text-xs font-bold rounded-full"},Ka={class:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors"},Qa={class:"grid grid-cols-5 gap-2 mb-4"},Ja={class:"absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 border border-gray-700"},ed={class:"w-full py-2.5 px-4 bg-gray-800 hover:bg-gray-700 text-white rounded-xl text-sm font-medium flex items-center justify-center gap-2 transition-all"},td={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},sd={class:"relative"},rd={class:"flex items-center justify-between mb-5"},od={class:"text-lg font-black text-white flex items-center gap-2"},ld={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center"},nd={class:"ml-1 px-2 py-0.5 bg-vikinger-cyan/20 text-vikinger-cyan text-xs font-bold rounded-full"},id={class:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors"},ad={class:"flex items-center -space-x-3 mb-4"},dd={class:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-600 to-gray-700 border-3 border-gray-900 flex items-center justify-center overflow-hidden hover:scale-110 hover:z-10 transition-transform cursor-pointer shadow-lg"},cd={key:0,class:"w-12 h-12 rounded-full bg-gray-800 border-3 border-gray-900 flex items-center justify-center text-xs font-bold text-gray-400 hover:bg-gray-700 cursor-pointer transition-colors"},ud={class:"grid grid-cols-3 gap-2 mb-4"},gd={class:"text-center p-2 bg-gray-800/50 rounded-lg"},fd={class:"text-lg font-bold text-white"},pd={class:"text-center p-2 bg-gray-800/50 rounded-lg"},vd={class:"text-lg font-bold text-white"},xd={class:"text-center p-2 bg-gray-800/50 rounded-lg"},yd={class:"text-lg font-bold text-white"},bd={class:"lg:col-span-6 space-y-6"},hd={key:0,class:"text-center py-4"},md=["disabled"],wd={key:0,class:"text-sm text-gray-500 mt-2"},_d={class:"lg:col-span-3 space-y-6"},kd={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl !p-0 dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},$d={class:"relative bg-gradient-to-r from-blue-600 via-indigo-600 to-cyan-500 p-4"},Cd={class:"relative text-lg font-black text-white flex items-center gap-2 drop-shadow-lg"},jd={class:"w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center"},Pd={class:"relative p-5 space-y-4"},Sd={class:"grid grid-cols-2 gap-3"},Fd={class:"group relative overflow-hidden p-4 bg-gradient-to-br from-violet-900/40 to-purple-900/30 rounded-xl border border-violet-500/30 hover:border-violet-400/50 transition-all cursor-pointer hover:scale-[1.02]"},Dd={class:"relative text-center"},Ld={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},Md={class:"text-2xl font-black text-white"},Td={class:"group relative overflow-hidden p-4 bg-gradient-to-br from-pink-900/40 to-rose-900/30 rounded-xl border border-pink-500/30 hover:border-pink-400/50 transition-all cursor-pointer hover:scale-[1.02]"},Ed={class:"relative text-center"},Bd={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},Id={class:"text-2xl font-black text-white"},Od={class:"group relative overflow-hidden p-4 bg-gradient-to-br from-blue-900/40 to-indigo-900/30 rounded-xl border border-blue-500/30 hover:border-blue-400/50 transition-all cursor-pointer hover:scale-[1.02]"},zd={class:"relative text-center"},Ad={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},Rd={class:"text-2xl font-black text-white"},qd={class:"group relative overflow-hidden p-4 bg-gradient-to-br from-teal-900/40 to-emerald-900/30 rounded-xl border border-teal-500/30 hover:border-teal-400/50 transition-all cursor-pointer hover:scale-[1.02]"},Vd={class:"relative text-center"},Nd={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gradient-to-br from-teal-500 to-emerald-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform"},Ud={class:"text-2xl font-black text-white"},Gd={class:"relative overflow-hidden p-4 bg-gradient-to-r from-orange-900/40 via-red-900/30 to-orange-900/40 rounded-xl border border-orange-500/30"},Wd={class:"relative flex items-center justify-between"},Hd={class:"flex items-center gap-4"},Yd={class:"relative"},Zd={class:"relative w-14 h-14 rounded-xl bg-gradient-to-br from-orange-400 via-red-500 to-orange-600 flex items-center justify-center shadow-lg border border-orange-300/30"},Xd={class:"text-right"},Kd={class:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-400"},Qd={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl !p-0 dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},Jd={class:"relative bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 p-4"},ec={class:"relative text-lg font-black text-white flex items-center gap-2 drop-shadow-lg"},tc={class:"w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center"},sc={class:"relative p-5 space-y-3"},rc={class:"group relative overflow-hidden flex items-center gap-4 p-3 bg-gradient-to-r from-green-900/30 to-emerald-900/20 rounded-xl border border-green-500/30 hover:border-green-400/50 transition-all cursor-pointer"},oc={class:"relative w-12 h-12 rounded-xl bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center shadow-lg"},lc={class:"flex items-center gap-2"},nc={class:"group relative overflow-hidden flex items-center gap-4 p-3 bg-gradient-to-r from-blue-900/30 to-indigo-900/20 rounded-xl border border-blue-500/30 hover:border-blue-400/50 transition-all cursor-pointer"},ic={class:"relative w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center shadow-lg"},ac={class:"flex-1 min-w-0"},dc={class:"mt-1.5 h-1.5 bg-gray-700 rounded-full overflow-hidden"},cc={class:"text-right"},uc={class:"text-xs text-blue-400 font-bold"},gc={class:"flex items-center gap-2"},fc={class:"flex items-center gap-2"},pc={class:"w-full py-3 px-4 bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all mt-2"},vc={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},xc={class:"relative"},yc={class:"flex items-center justify-between mb-5"},bc={class:"text-lg font-black text-white flex items-center gap-2"},hc={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center"},mc={class:"relative aspect-video bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl overflow-hidden border border-gray-700"},wc={class:"absolute inset-0 flex flex-col items-center justify-center"},_c={class:"relative mb-4"},kc={class:"relative w-20 h-20 rounded-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center border border-gray-600"},$c={key:0,class:"absolute bottom-4 left-1/2 -translate-x-1/2 px-6 py-2.5 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl font-bold text-sm hover:from-red-600 hover:to-pink-700 transition-all flex items-center gap-2 shadow-lg"},Cc={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},jc={class:"relative"},Pc={class:"flex items-center justify-between mb-5"},Sc={class:"text-lg font-black text-white flex items-center gap-2"},Fc={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center"},Dc={class:"ml-1 px-2 py-0.5 bg-vikinger-cyan/20 text-vikinger-cyan text-xs font-bold rounded-full"},Lc={class:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors"},Mc={class:"grid grid-cols-4 gap-1.5"},Tc={class:"absolute inset-0 flex items-center justify-center"},Ec={class:"vikinger-card vikinger-card-hover relative overflow-hidden !rounded-2xl dark:!bg-gradient-to-br dark:!from-gray-900 dark:!via-gray-800 dark:!to-gray-900"},Bc={class:"relative"},Ic={class:"flex items-center justify-between mb-5"},Oc={class:"text-lg font-black text-white flex items-center gap-2"},zc={class:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center"},Ac={class:"ml-1 px-2 py-0.5 bg-vikinger-cyan/20 text-vikinger-cyan text-xs font-bold rounded-full"},Rc={class:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors"},qc={class:"text-center py-8 px-4"},Vc={class:"relative w-20 h-20 mx-auto mb-4"},Nc={class:"relative w-full h-full rounded-full bg-gradient-to-br from-gray-800 to-gray-700 flex items-center justify-center border border-gray-600"},Uc={class:"mt-4 px-6 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-medium text-sm hover:from-green-600 hover:to-emerald-700 transition-all flex items-center gap-2 mx-auto"},Gc={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Wc={class:"relative bg-gray-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden border border-gray-700"},Hc={class:"flex items-center justify-between p-4 border-b border-gray-700"},Yc={class:"text-xl font-bold text-white flex items-center gap-2"},Zc={class:"p-6"},Xc={class:"relative aspect-[3/1] bg-gray-700 rounded-lg overflow-hidden mb-6"},Kc=["src"],Qc={key:1,class:"w-full h-full flex items-center justify-center"},Jc={class:"text-center"},eu={key:2,class:"absolute top-2 left-2 px-2 py-1 bg-green-500/80 text-white text-xs rounded-lg"},tu={class:"space-y-4"},su={class:"flex items-center justify-end gap-3 p-4 border-t border-gray-700"},ru=["disabled"],ou={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},lu={class:"relative bg-gray-800 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden border border-gray-700"},nu={class:"flex items-center justify-between p-4 border-b border-gray-700"},iu={class:"text-xl font-bold text-white flex items-center gap-2"},au={class:"p-6"},du={class:"flex justify-center mb-6"},cu={class:"relative"},uu={class:"w-40 h-40 rounded-full overflow-hidden border-4 border-vikinger-cyan bg-gray-700"},gu=["src"],fu={key:1,class:"w-full h-full flex items-center justify-center"},pu={key:0,class:"absolute -top-2 -right-2 px-2 py-1 bg-green-500 text-white text-xs rounded-full"},vu={class:"space-y-4"},xu={class:"flex items-center justify-end gap-3 p-4 border-t border-gray-700"},yu=["disabled"],bu={class:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 safe-area-bottom"},hu={class:"flex items-center justify-around px-2 py-2"},mu=["onClick"],wu=te({__name:"[id]",setup(f){const D=rt(),{fetchUserProfile:E,fetchMyProfile:y}=Rn(),{sendFriendRequest:k,acceptFriendRequest:M,cancelFriendRequest:S,unfriend:H}=he(),O=ot(),p=ve(),i=w(null),C=w(null),h=w(!0),L=w(!1),_=w(!0),A=w("timeline"),b=w([]),$=w(1),d=w(1),g=w(!1),c=G(()=>$.value<d.value),F=w(null),z=w(!1),W=w(!0),v=w(!1),x=w(!1),R=w(null),T=w(null),X=w(null),V=w(null),K=w(!1),le=w(!1),re=G(()=>D.params.id),xe=G(()=>O.user?re.value==="me"||re.value===O.user.reference_code||re.value===String(O.user.id):!1),me=async()=>{_.value=!0;try{if(xe.value){const j=await y();j&&(i.value=j,L.value=!0)}else{const j=await E(re.value);j&&(i.value=j.profile,C.value=j.friendshipStatus,h.value=j.canViewFullProfile,L.value=j.isOwnProfile)}i.value&&await we()}catch(j){console.error("Error loading profile:",j)}finally{_.value=!1}},we=async(j=1)=>{console.log("[loadActivities] Starting...",{page:j,referenceCode:re.value,isViewingOwnProfile:xe.value,profileLoaded:!!i.value});try{const s=ee();let I=re.value;xe.value&&O.user?I=O.user.reference_code||O.user.id:i.value&&(I=i.value.reference_code||i.value.user_id||re.value),console.log("[loadActivities] Fetching activities for:",I,"URL:",`/api/users/${I}/activities?page=${j}`);const P=await s.get(`/api/users/${I}/activities?page=${j}`);console.log("[loadActivities] Response:",P),P.success&&P.activities?(j===1?b.value=P.activities:b.value=[...b.value,...P.activities],P.meta&&($.value=P.meta.current_page,d.value=P.meta.last_page)):P.data?.activities?(j===1?b.value=P.data.activities:b.value=[...b.value,...P.data.activities],P.data.meta&&($.value=P.data.meta.current_page,d.value=P.data.meta.last_page)):j===1&&(b.value=[])}catch(s){console.error("Error loading activities:",s),j===1&&(b.value=[])}},De=async()=>{if(!(g.value||!c.value)){g.value=!0;try{await we($.value+1)}finally{g.value=!1}}},_e=()=>{ne("/profile/edit")},ke=j=>{if(!F.value)return;const s=200,I=j==="left"?F.value.scrollLeft-s:F.value.scrollLeft+s;F.value.scrollTo({left:I,behavior:"smooth"})},$e=()=>{if(!F.value)return;const{scrollLeft:j,scrollWidth:s,clientWidth:I}=F.value;z.value=j>0,W.value=j<s-I-5},Le=()=>{X.value=null,v.value=!0},ue=()=>{v.value=!1,X.value=null},Me=()=>{R.value?.click()},Te=j=>{const I=j.target.files?.[0];if(!I)return;if(!I.type.startsWith("image/")){alert("Please select an image file");return}if(I.size>5*1024*1024){alert("File size must be less than 5MB");return}const P=new FileReader;P.onload=J=>{X.value=J.target?.result},P.readAsDataURL(I)},Ee=async()=>{if(R.value?.files?.[0]){K.value=!0;try{const j=ee(),s=new FormData;s.append("cover",R.value.files[0]);const I=await j.post("/api/profile/cover",s);I.data?.cover_image?i.value.cover_image=I.data.cover_image:I.cover_image&&(i.value.cover_image=I.cover_image),ue()}catch(j){console.error("Error uploading cover:",j),alert("Failed to upload cover photo")}finally{K.value=!1}}},Be=()=>{V.value=null,x.value=!0},ge=()=>{x.value=!1,V.value=null},Ie=()=>{T.value?.click()},Oe=j=>{const I=j.target.files?.[0];if(!I)return;if(!I.type.startsWith("image/")){alert("Please select an image file");return}if(I.size>2*1024*1024){alert("File size must be less than 2MB");return}const P=new FileReader;P.onload=J=>{V.value=J.target?.result},P.readAsDataURL(I)},ze=async()=>{if(T.value?.files?.[0]){le.value=!0;try{const j=ee(),s=new FormData;s.append("avatar",T.value.files[0]);const I=await j.post("/api/profile/avatar",s);I.data?.avatar?(i.value.avatar=I.data.avatar,O.user&&(O.user.avatar=I.data.avatar)):I.avatar&&(i.value.avatar=I.avatar,O.user&&(O.user.avatar=I.avatar)),ge()}catch(j){console.error("Error uploading avatar:",j),alert("Failed to upload avatar")}finally{le.value=!1}}};se(async()=>{await me(),lt(()=>{$e()})}),Se(()=>D.params.id,async()=>{await me()});const fe=G(()=>i.value?i.value.username||`${i.value.first_name||""} ${i.value.last_name||""}`.trim()||"User":""),Ce=G(()=>i.value?.join_date?new Date(i.value.join_date).toLocaleDateString("th-TH",{year:"numeric",month:"long"}):""),Ae=G(()=>i.value?.profile_completion?.percentage??0),Re=G(()=>i.value?.profile_completion?.missing_fields??[]),qe=G(()=>({completed:i.value?.quests_completed??0,total:i.value?.quests_total??30})),Ve=G(()=>({unlocked:i.value?.badges_unlocked??0,total:i.value?.badges_total??46})),je=j=>j>=1e6?(j/1e6).toFixed(1).replace(/\.0$/,"")+"M":j>=1e3?(j/1e3).toFixed(1).replace(/\.0$/,"")+"K":j.toLocaleString(),ye=G(()=>{if(!C.value)return{text:"à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸™",icon:"fluent:person-add-24-regular",class:"bg-vikinger-purple",action:"add"};switch(C.value.status){case"pending_sent":return{text:"à¸¢à¸à¹€à¸¥à¸´à¸à¸„à¸³à¸‚à¸­",icon:"fluent:clock-24-regular",class:"bg-gray-500",action:"cancel"};case"pending_received":return{text:"à¸¢à¸­à¸¡à¸£à¸±à¸šà¸„à¸³à¸‚à¸­",icon:"fluent:checkmark-24-regular",class:"bg-green-500",action:"accept"};case"friends":return{text:"à¹€à¸žà¸·à¹ˆà¸­à¸™à¹à¸¥à¹‰à¸§",icon:"fluent:people-24-filled",class:"bg-vikinger-cyan",action:"unfriend"};default:return{text:"à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸™",icon:"fluent:person-add-24-regular",class:"bg-vikinger-purple",action:"add"}}}),ae=w(!1),Ne=async()=>{if(!i.value||ae.value)return;ae.value=!0;const j=ye.value.action,s=i.value.user_id;try{let I=!1;switch(j){case"add":I=await k(s),I&&(C.value={status:"pending_sent",label:"à¸„à¸³à¸‚à¸­à¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹à¸¥à¹‰à¸§"},p.success("à¸ªà¹ˆà¸‡à¸„à¸³à¸‚à¸­à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¹à¸¥à¹‰à¸§!"));break;case"cancel":I=await S(s),I&&(C.value={status:"none",label:""},p.success("à¸¢à¸à¹€à¸¥à¸´à¸à¸„à¸³à¸‚à¸­à¹à¸¥à¹‰à¸§"));break;case"accept":I=await M(s),I&&(C.value={status:"friends",label:"à¹€à¸žà¸·à¹ˆà¸­à¸™"},p.success("à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸žà¸·à¹ˆà¸­à¸™à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!"));break;case"unfriend":confirm(`à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¸à¸±à¸š ${fe.value} à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?`)&&(I=await H(s),I&&(C.value={status:"none",label:""},p.success("à¹€à¸¥à¸´à¸à¹€à¸›à¹‡à¸™à¹€à¸žà¸·à¹ˆà¸­à¸™à¹à¸¥à¹‰à¸§")));break}!I&&j!=="unfriend"&&p.error("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¹„à¸”à¹‰ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ")}catch(I){console.error("Friend action error:",I),p.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸” à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ")}finally{ae.value=!1}},Ue=j=>{j&&b.value.unshift(j)},Ge=j=>{b.value=b.value.filter(s=>{const I=s.id,P=s.target_resource?.id||s.action_to_id;return I!==j&&P!==j})},We=j=>{const s=b.value.findIndex(I=>{const P=I.id,J=I.target_resource?.id;return P===j.id||J===j.id});s!==-1&&(b.value[s].target_resource?b.value[s].target_resource=j:b.value[s]={...b.value[s],...j})},He=G(()=>{if(!i.value?.location)return"";const j=i.value.location.toLowerCase();return j.includes("thai")||j.includes("à¹„à¸—à¸¢")?"ðŸ‡¹ðŸ‡­":j.includes("usa")||j.includes("america")?"ðŸ‡ºðŸ‡¸":"ðŸŒ"}),Ye=j=>{const s=new Date(j),I=new Date;let P=I.getFullYear()-s.getFullYear();const J=I.getMonth()-s.getMonth();return(J<0||J===0&&I.getDate()<s.getDate())&&P--,P},Ze=[{key:"about",label:"About",icon:"fluent:person-info-24-regular"},{key:"timeline",label:"Timeline",icon:"fluent:timeline-24-regular"},{key:"friends",label:"Friends",icon:"fluent:people-24-regular"},{key:"photos",label:"Photos",icon:"fluent:image-24-regular"},{key:"videos",label:"Videos",icon:"fluent:video-24-regular"},{key:"badges",label:"Badges",icon:"fluent:trophy-24-regular"},{key:"groups",label:"Groups",icon:"fluent:people-community-24-regular"},{key:"events",label:"Events",icon:"fluent:calendar-24-regular"},{key:"blog",label:"Blog",icon:"fluent:document-text-24-regular"},{key:"forum",label:"Forum",icon:"fluent:chat-multiple-24-regular"},{key:"marketplace",label:"Marketplace",icon:"fluent:building-shop-24-regular"},{key:"cart",label:"Cart",icon:"fluent:cart-24-regular"}],Xe=[{key:"timeline",label:"Timeline",icon:"fluent:timeline-24-filled"},{key:"about",label:"About",icon:"fluent:person-info-24-filled"},{key:"friends",label:"Friends",icon:"fluent:people-24-filled"},{key:"photos",label:"Photos",icon:"fluent:image-24-filled"},{key:"badges",label:"Badges",icon:"fluent:trophy-24-filled"}];return(j,s)=>{const I=ie;return r(),n("div",qn,[t(_)?(r(),B(Y,{key:0,class:"bg-gray-800 border-gray-700 animate-pulse"},{default:N(()=>[...s[4]||(s[4]=[e("div",{class:"h-48 md:h-64 bg-gray-700 rounded-t-xl"},null,-1),e("div",{class:"pt-20 pb-6 px-6"},[e("div",{class:"h-8 bg-gray-700 rounded w-1/3 mx-auto mb-4"}),e("div",{class:"h-4 bg-gray-700 rounded w-1/4 mx-auto"})],-1)])]),_:1})):t(i)?(r(),n(U,{key:1},[e("input",{ref_key:"coverFileInput",ref:R,type:"file",accept:"image/*",class:"hidden",onChange:Te},null,544),e("input",{ref_key:"avatarFileInput",ref:T,type:"file",accept:"image/*",class:"hidden",onChange:Oe},null,544),e("div",Vn,[s[13]||(s[13]=e("div",{class:"absolute inset-0 opacity-10 pointer-events-none"},[e("div",{class:"absolute inset-0 bg-[url('/images/patterns/hexagon.svg')] bg-repeat opacity-20"}),e("div",{class:"absolute top-0 right-0 w-96 h-96 bg-vikinger-purple/20 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-vikinger-cyan/20 rounded-full blur-3xl animate-pulse delay-1000"})],-1)),e("div",Nn,[e("div",Un,[t(i).cover_image?(r(),n("img",{key:0,src:t(i).cover_image,alt:`${t(fe)}'s cover`,class:"w-full h-full object-cover opacity-90"},null,8,Gn)):u("",!0)]),s[6]||(s[6]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/30 to-transparent"},null,-1)),t(L)?(r(),n("button",{key:0,onClick:Le,class:"absolute top-4 right-4 px-4 py-2 bg-black/40 backdrop-blur-sm text-white rounded-xl hover:bg-black/60 transition-all flex items-center gap-2 border border-white/10"},[o(t(l),{icon:"fluent:camera-24-regular",class:"w-5 h-5"}),s[5]||(s[5]=e("span",{class:"hidden sm:inline text-sm font-medium"},"Edit Cover",-1))])):u("",!0)]),e("div",Wn,[e("div",Hn,[e("div",Yn,[s[7]||(s[7]=e("div",{class:"absolute inset-0 -m-1 rounded-full bg-gradient-to-r from-vikinger-purple to-vikinger-cyan opacity-60 blur-sm animate-pulse"},null,-1)),e("div",Zn,[e("img",{src:t(i).avatar||"/images/default-avatar.png",alt:t(fe),class:"w-full h-full object-cover"},null,8,Xn)]),t(L)?(r(),n("button",{key:0,onClick:Be,class:"absolute top-0 right-0 p-2 bg-vikinger-purple text-white rounded-full shadow-lg hover:bg-vikinger-purple/80 transition-all hover:scale-110 border-2 border-white/30"},[o(t(l),{icon:"fluent:camera-24-filled",class:"w-4 h-4"})])):u("",!0)]),e("div",Kn,[e("div",Qn,[e("h1",Jn,[m(a(t(fe))+" ",1),t(i).is_verified?(r(),B(t(l),{key:0,icon:"fluent:checkmark-circle-24-filled",class:"w-6 h-6 text-vikinger-cyan"})):u("",!0)]),t(i).title||t(i).bio?(r(),n("p",ei,a(t(i).title||t(i).bio?.substring(0,60)+(t(i).bio?.length>60?"...":"")),1)):u("",!0)]),e("div",ti,[t(L)?(r(),n("button",{key:1,onClick:_e,class:"px-5 py-2.5 bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white rounded-xl hover:opacity-90 transition-all flex items-center gap-2 font-bold shadow-lg hover:scale-105"},[o(t(l),{icon:"fluent:edit-24-regular",class:"w-5 h-5"}),s[9]||(s[9]=e("span",null,"à¹à¸à¹‰à¹„à¸‚à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ",-1))])):(r(),n(U,{key:0},[e("button",{onClick:Ne,disabled:t(ae),class:q(["px-5 py-2.5 rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg disabled:opacity-70 hover:scale-105",t(C)?.status==="friends"?"bg-vikinger-cyan/20 text-vikinger-cyan border border-vikinger-cyan/50":"bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white"])},[t(ae)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(r(),B(t(l),{key:1,icon:t(ye).icon,class:"w-5 h-5"},null,8,["icon"])),e("span",ri,a(t(ye).text),1)],10,si),e("button",oi,[o(t(l),{icon:"fluent:chat-24-regular",class:"w-5 h-5"}),s[8]||(s[8]=e("span",{class:"hidden sm:inline"},"à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡",-1))])],64))])])])]),e("div",li,[e("div",ni,[e("div",ii,[e("div",ai,[o(t(l),{icon:"fluent:document-24-filled",class:"w-5 h-5 text-white"})]),e("div",di,[e("span",ci,a(t(i).posts_count||0),1),s[10]||(s[10]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"à¹‚à¸žà¸ªà¸•à¹Œ",-1))])]),e("div",ui,[e("div",gi,[o(t(l),{icon:"fluent:people-24-filled",class:"w-5 h-5 text-white"})]),e("div",fi,[e("span",pi,a(t(i).friends_count||0),1),s[11]||(s[11]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"à¹€à¸žà¸·à¹ˆà¸­à¸™",-1))])]),e("div",vi,[e("div",xi,[o(t(l),{icon:"fluent:eye-24-filled",class:"w-5 h-5 text-white"})]),e("div",yi,[e("span",bi,a(t(i).visits_count||0),1),s[12]||(s[12]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"à¹€à¸‚à¹‰à¸²à¸Šà¸¡",-1))])])])])]),e("div",hi,[s[14]||(s[14]=e("div",{class:"absolute inset-0 pointer-events-none opacity-50"},[e("div",{class:"absolute inset-0 bg-[url('/images/patterns/circuit.svg')] bg-repeat opacity-5"})],-1)),e("div",mi,[e("button",{onClick:s[0]||(s[0]=P=>ke("left")),class:q(["p-4 transition-all duration-300 flex-shrink-0 relative z-10",t(z)?"text-white hover:text-vikinger-cyan hover:bg-gradient-to-r hover:from-vikinger-purple/20 hover:to-transparent cursor-pointer":"text-gray-700 cursor-not-allowed"]),disabled:!t(z)},[o(t(l),{icon:"fluent:chevron-left-24-filled",class:"w-6 h-6"})],10,wi),e("div",{ref_key:"tabsContainer",ref:F,onScroll:$e,class:"flex-1 flex overflow-x-auto scrollbar-hide scroll-smooth py-2"},[(r(),n(U,null,Z(Ze,P=>e("button",{key:P.key,onClick:J=>A.value=P.key,class:q(["relative flex-shrink-0 min-w-[80px] lg:min-w-[100px] flex flex-col items-center justify-center gap-2 py-4 px-5 mx-1 transition-all duration-300 group rounded-xl",t(A)===P.key?"bg-gradient-to-br from-vikinger-purple/30 to-vikinger-cyan/20 border border-vikinger-cyan/30":"hover:bg-gray-800/50 border border-transparent"])},[e("div",ki,[t(A)===P.key?(r(),n("div",$i)):u("",!0),e("div",{class:q(["relative w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300",t(A)===P.key?"bg-gradient-to-br from-vikinger-purple to-vikinger-cyan shadow-lg scale-110":"bg-gray-800 group-hover:bg-gray-700 group-hover:scale-105"])},[o(t(l),{icon:P.icon,class:q(["w-5 h-5 transition-all duration-300",t(A)===P.key?"text-white":"text-gray-400 group-hover:text-white"])},null,8,["icon","class"])],2)]),e("span",{class:q(["text-xs font-bold transition-all duration-300 whitespace-nowrap",t(A)===P.key?"text-vikinger-cyan":"text-gray-500 group-hover:text-white"])},a(P.label),3),t(A)===P.key?(r(),n("div",Ci)):u("",!0)],10,_i)),64))],544),e("button",{onClick:s[1]||(s[1]=P=>ke("right")),class:q(["p-4 transition-all duration-300 flex-shrink-0 relative z-10",t(W)?"text-white hover:text-vikinger-cyan hover:bg-gradient-to-l hover:from-vikinger-purple/20 hover:to-transparent cursor-pointer":"text-gray-700 cursor-not-allowed"]),disabled:!t(W)},[o(t(l),{icon:"fluent:chevron-right-24-filled",class:"w-6 h-6"})],10,ji)])]),e("div",Pi,[e("div",Si,[t(L)?(r(),B(it,{key:0,percentage:t(Ae),"missing-fields":t(Re),quests:t(qe),badges:t(Ve),onEditProfile:_e},null,8,["percentage","missing-fields","quests","badges"])):u("",!0),t(L)?(r(),B(bo,{key:1})):u("",!0),e("div",Fi,[e("div",Di,[s[16]||(s[16]=e("div",{class:"absolute inset-0 bg-[url('/images/patterns/circuit.svg')] bg-repeat opacity-10"},null,-1)),e("h3",Li,[e("div",Mi,[o(t(l),{icon:"fluent:wallet-24-filled",class:"w-3.5 h-3.5"})]),s[15]||(s[15]=m(" à¹à¸•à¹‰à¸¡ & à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹€à¸‡à¸´à¸™ ",-1))])]),e("div",Ti,[e("div",Ei,[e("div",Bi,[o(t(l),{icon:"fluent:star-24-filled",class:"w-5 h-5 text-white"})]),e("div",Ii,[s[17]||(s[17]=e("p",{class:"text-[10px] text-amber-600 dark:text-amber-400 uppercase tracking-wider font-semibold"},"à¹à¸•à¹‰à¸¡à¸ªà¸°à¸ªà¸¡",-1)),e("p",Oi,a(je(t(i).points||t(i).pp||0)),1)])]),e("div",zi,[e("div",Ai,[o(t(l),{icon:"fluent:money-24-filled",class:"w-5 h-5 text-white"})]),e("div",Ri,[s[18]||(s[18]=e("p",{class:"text-[10px] text-emerald-600 dark:text-emerald-400 uppercase tracking-wider font-semibold"},"Wallet",-1)),e("p",qi,"à¸¿"+a(je(t(i).wallet||0)),1)])]),e("div",Vi,[e("button",Ni,[o(t(l),{icon:"fluent:arrow-upload-24-regular",class:"w-3.5 h-3.5 text-amber-500"}),s[19]||(s[19]=m(" à¹€à¸•à¸´à¸¡à¹€à¸‡à¸´à¸™ ",-1))]),e("button",Ui,[o(t(l),{icon:"fluent:history-24-regular",class:"w-3.5 h-3.5 text-emerald-500"}),s[20]||(s[20]=m(" à¸›à¸£à¸°à¸§à¸±à¸•à¸´ ",-1))])])])]),e("div",Gi,[s[32]||(s[32]=e("div",{class:"absolute inset-0 pointer-events-none overflow-hidden"},[e("div",{class:"absolute top-0 right-0 w-60 h-60 bg-vikinger-purple/10 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 left-0 w-60 h-60 bg-vikinger-cyan/10 rounded-full blur-3xl animate-pulse delay-500"})],-1)),e("div",Wi,[s[22]||(s[22]=e("div",{class:"absolute inset-0 bg-[url('/images/patterns/circuit.svg')] bg-repeat opacity-10"},null,-1)),e("div",Hi,[e("h3",Yi,[e("div",Zi,[o(t(l),{icon:"fluent:trophy-24-filled",class:"w-5 h-5"})]),s[21]||(s[21]=m(" Level & Experience ",-1))]),e("div",Xi,[o(t(l),{icon:"fluent:star-24-filled",class:"w-4 h-4 text-yellow-300"}),e("span",Ki,"LV."+a(t(i).level||1),1)])])]),e("div",Qi,[e("div",Ji,[e("div",ea,[s[26]||(s[26]=e("div",{class:"absolute inset-0 -m-4 bg-gradient-to-r from-vikinger-purple to-vikinger-cyan rounded-full blur-xl opacity-30 animate-pulse"},null,-1)),(r(),n("svg",ta,[s[23]||(s[23]=e("circle",{cx:"50",cy:"50",r:"42",stroke:"currentColor","stroke-width":"6",fill:"none",class:"text-gray-700"},null,-1)),e("circle",{cx:"50",cy:"50",r:"42",stroke:"url(#levelGradient2)","stroke-width":"6",fill:"none","stroke-linecap":"round","stroke-dasharray":`${(t(i).level_progress||65)*2.64} 264`,class:"transition-all duration-1000 drop-shadow-[0_0_10px_rgba(97,93,250,0.5)]"},null,8,sa),s[24]||(s[24]=nt('<circle cx="50" cy="50" r="35" stroke="currentColor" stroke-width="1" fill="none" class="text-gray-700" data-v-3b650ee9></circle><defs data-v-3b650ee9><linearGradient id="levelGradient2" x1="0%" y1="0%" x2="100%" y2="0%" data-v-3b650ee9><stop offset="0%" style="stop-color:#9333ea;" data-v-3b650ee9></stop><stop offset="50%" style="stop-color:#615dfa;" data-v-3b650ee9></stop><stop offset="100%" style="stop-color:#23d2e2;" data-v-3b650ee9></stop></linearGradient></defs>',2))])),e("div",ra,[e("div",oa,[e("span",la,a(t(i).level||1),1),s[25]||(s[25]=e("p",{class:"text-[10px] text-gray-400 uppercase font-bold tracking-widest"},"LEVEL",-1))])])])]),e("div",na,[e("div",ia,[s[27]||(s[27]=e("span",{class:"text-gray-400 font-medium"},"Experience Points",-1)),e("span",aa,a(t(i).level_progress||65)+"%",1)]),e("div",da,[e("div",{class:"absolute inset-y-0 left-0 bg-gradient-to-r from-vikinger-purple via-purple-500 to-vikinger-cyan rounded-full transition-all duration-1000 shadow-lg shadow-vikinger-purple/30",style:Q({width:(t(i).level_progress||65)+"%"})},[...s[28]||(s[28]=[e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"},null,-1)])],4),e("div",ca,[e("span",ua,a(((t(i).points||t(i).pp||0)*.65).toLocaleString())+" / "+a(((t(i).points||t(i).pp||0)*.65+1e3).toLocaleString())+" XP ",1)])])]),e("div",ga,[s[31]||(s[31]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-yellow-400/5 to-transparent animate-shimmer"},null,-1)),e("div",fa,[e("div",pa,[s[29]||(s[29]=e("div",{class:"absolute inset-0 bg-yellow-400 rounded-xl blur-md opacity-40 animate-pulse"},null,-1)),e("div",va,[o(t(l),{icon:"fluent:gift-24-filled",class:"w-6 h-6 text-white"})])]),s[30]||(s[30]=e("div",{class:"flex-1"},[e("p",{class:"text-sm font-bold text-white"},"Next Level Reward"),e("p",{class:"text-xs text-yellow-400/80"},"Unlock: +500 points & special badge")],-1)),o(t(l),{icon:"fluent:chevron-right-24-regular",class:"w-5 h-5 text-yellow-400"})])])])]),e("div",xa,[s[40]||(s[40]=e("div",{class:"absolute inset-0 pointer-events-none"},[e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-vikinger-cyan/5 rounded-full blur-2xl"})],-1)),e("div",ya,[e("div",ba,[e("h3",ha,[e("div",ma,[o(t(l),{icon:"fluent:person-info-24-filled",class:"w-4 h-4 text-white"})]),s[33]||(s[33]=m(" About Me ",-1))]),e("button",wa,[o(t(l),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-400 hover:text-white"})])]),t(i).bio?(r(),n("div",_a,[e("p",ka,a(t(i).bio),1)])):(r(),n("div",$a,[e("p",Ca,[o(t(l),{icon:"fluent:text-description-24-regular",class:"w-4 h-4"}),s[34]||(s[34]=m(" No bio yet... ",-1))])])),e("div",ja,[t(Ce)?(r(),n("div",Pa,[e("div",Sa,[o(t(l),{icon:"fluent:calendar-24-regular",class:"w-5 h-5 text-blue-400"})]),e("div",Fa,[s[35]||(s[35]=e("span",{class:"text-xs text-gray-400 uppercase tracking-wider"},"à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¹€à¸¡à¸·à¹ˆà¸­",-1)),e("p",Da,a(t(Ce)),1)])])):u("",!0),t(i).location?(r(),n("div",La,[e("div",Ma,[o(t(l),{icon:"fluent:location-24-regular",class:"w-5 h-5 text-green-400"})]),e("div",Ta,[s[36]||(s[36]=e("span",{class:"text-xs text-gray-400 uppercase tracking-wider"},"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ",-1)),e("p",Ea,a(t(i).location),1)])])):u("",!0),e("div",Ba,[e("div",Ia,a(t(He)||"ðŸŒ"),1),s[37]||(s[37]=e("div",{class:"flex-1"},[e("span",{class:"text-xs text-gray-400 uppercase tracking-wider"},"à¸›à¸£à¸°à¹€à¸—à¸¨"),e("p",{class:"text-white font-medium"},"Thailand")],-1))]),t(i).birthdate?(r(),n("div",Oa,[e("div",za,[o(t(l),{icon:"fluent:person-24-regular",class:"w-5 h-5 text-purple-400"})]),e("div",Aa,[s[38]||(s[38]=e("span",{class:"text-xs text-gray-400 uppercase tracking-wider"},"à¸­à¸²à¸¢à¸¸",-1)),e("p",Ra,a(Ye(t(i).birthdate))+" à¸›à¸µ",1)])])):u("",!0),t(i).website?(r(),n("div",qa,[e("div",Va,[o(t(l),{icon:"fluent:globe-24-regular",class:"w-5 h-5 text-cyan-400"})]),e("div",Na,[s[39]||(s[39]=e("span",{class:"text-xs text-gray-400 uppercase tracking-wider"},"à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œ",-1)),e("a",{href:t(i).website,target:"_blank",class:"text-vikinger-cyan font-medium hover:underline block truncate"},a(t(i).website.replace(/^https?:\/\//,"")),9,Ua)]),o(t(l),{icon:"fluent:open-24-regular",class:"w-4 h-4 text-gray-400 group-hover:text-vikinger-cyan transition-colors"})])):u("",!0)])])]),e("div",Ga,[s[43]||(s[43]=e("div",{class:"absolute inset-0 pointer-events-none"},[e("div",{class:"absolute bottom-0 left-0 w-32 h-32 bg-yellow-500/5 rounded-full blur-2xl"})],-1)),e("div",Wa,[e("div",Ha,[e("h3",Ya,[e("div",Za,[o(t(l),{icon:"fluent:trophy-24-filled",class:"w-4 h-4 text-white"})]),s[41]||(s[41]=m(" Badges ",-1)),e("span",Xa,a(t(i).badges_count||0),1)]),e("button",Ka,[o(t(l),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-400 hover:text-white"})])]),e("div",Qa,[(r(),n(U,null,Z(10,P=>e("div",{key:P,class:q(["group relative aspect-square rounded-xl flex items-center justify-center transition-all cursor-pointer hover:scale-110",P<=3?"bg-gradient-to-br from-yellow-500/20 to-amber-600/20 border border-yellow-500/30":"bg-gray-800/50 border border-gray-700"])},[o(t(l),{icon:P<=3?"fluent:trophy-24-filled":"fluent:trophy-24-regular",class:q(["w-6 h-6 transition-colors",P<=3?"text-yellow-400":"text-gray-600 group-hover:text-gray-400"])},null,8,["icon","class"]),e("div",Ja,a(P<=3?"Badge Unlocked!":"Locked"),1)],2)),64))]),e("button",ed,[s[42]||(s[42]=e("span",null,"View All Badges",-1)),o(t(l),{icon:"fluent:chevron-right-24-regular",class:"w-4 h-4"})])])]),e("div",td,[s[49]||(s[49]=e("div",{class:"absolute inset-0 pointer-events-none"},[e("div",{class:"absolute top-0 left-0 w-32 h-32 bg-blue-500/5 rounded-full blur-2xl"})],-1)),e("div",sd,[e("div",rd,[e("h3",od,[e("div",ld,[o(t(l),{icon:"fluent:people-24-filled",class:"w-4 h-4 text-white"})]),s[44]||(s[44]=m(" Friends ",-1)),e("span",nd,a(t(i).friends_count||0),1)]),e("button",id,[o(t(l),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-400 hover:text-white"})])]),e("div",ad,[(r(),n(U,null,Z(6,P=>e("div",{key:P,class:"relative group"},[e("div",dd,[o(t(l),{icon:"fluent:person-24-regular",class:"w-6 h-6 text-gray-400"})])])),64)),(t(i).friends_count||0)>6?(r(),n("div",cd," +"+a((t(i).friends_count||0)-6),1)):u("",!0)]),e("div",ud,[e("div",gd,[e("p",fd,a(t(i).mutual_friends||0),1),s[45]||(s[45]=e("p",{class:"text-xs text-gray-400"},"Mutual",-1))]),e("div",pd,[e("p",vd,a(t(i).online_friends||0),1),s[46]||(s[46]=e("p",{class:"text-xs text-gray-400"},"Online",-1))]),e("div",xd,[e("p",yd,a(t(i).new_friends||0),1),s[47]||(s[47]=e("p",{class:"text-xs text-gray-400"},"New",-1))])]),e("button",{onClick:s[2]||(s[2]=P=>A.value="friends"),class:"w-full py-2.5 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl text-sm font-medium flex items-center justify-center gap-2 transition-all"},[s[48]||(s[48]=e("span",null,"View All Friends",-1)),o(t(l),{icon:"fluent:chevron-right-24-regular",class:"w-4 h-4"})])])])]),e("div",bd,[t(A)==="timeline"?(r(),n(U,{key:0},[t(L)?(r(),B(dt,{key:0,onPostCreated:Ue})):u("",!0),t(b).length>0?(r(),n(U,{key:1},[(r(!0),n(U,null,Z(t(b),P=>(r(),B(at,{key:P.id,post:P,onDeleteSuccess:Ge,onPostUpdated:We},null,8,["post"]))),128)),t(c)?(r(),n("div",hd,[e("button",{onClick:De,disabled:t(g),class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 flex items-center gap-2 mx-auto"},[t(g)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):u("",!0),e("span",null,a(t(g)?"Loading...":"Load More"),1)],8,md)])):u("",!0)],64)):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:document-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s[50]||(s[50]=e("p",{class:"text-gray-400"},"No posts yet",-1)),t(L)?(r(),n("p",wd," Share your first post with friends! ")):u("",!0)]),_:1}))],64)):u("",!0),t(A)==="about"?(r(),B(cl,{key:1,profile:t(i),"is-own-profile":t(L)},null,8,["profile","is-own-profile"])):u("",!0),t(A)==="friends"?(r(),B(ds,{key:2,"user-id":t(i).reference_code||t(i).user_id,"is-own-profile":t(L)},null,8,["user-id","is-own-profile"])):u("",!0),t(A)==="photos"?(r(),B(zs,{key:3,"user-id":t(i).reference_code||t(i).user_id,"is-own-profile":t(L)},null,8,["user-id","is-own-profile"])):u("",!0),t(A)==="videos"?(r(),B(An,{key:4,"user-id":t(i).reference_code||t(i).user_id,"is-own-profile":t(L)},null,8,["user-id","is-own-profile"])):u("",!0),t(A)==="badges"?(r(),B(Ir,{key:5,"user-id":t(i).reference_code||t(i).user_id,"is-own-profile":t(L)},null,8,["user-id","is-own-profile"])):u("",!0),t(A)==="groups"?(r(),B(Fl,{key:6,"user-id":t(i).reference_code||t(i).user_id,"is-own-profile":t(L)},null,8,["user-id","is-own-profile"])):u("",!0),t(A)==="events"?(r(),B(on,{key:7,"user-id":t(i).reference_code||t(i).user_id,"is-own-profile":t(L)},null,8,["user-id","is-own-profile"])):u("",!0),t(A)==="blog"?(r(),B(Y,{key:8,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:document-text-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s[51]||(s[51]=e("p",{class:"text-gray-400"},"Blog posts coming soon",-1))]),_:1})):u("",!0),t(A)==="forum"?(r(),B(Y,{key:9,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:chat-multiple-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s[52]||(s[52]=e("p",{class:"text-gray-400"},"Forum discussions coming soon",-1))]),_:1})):u("",!0),t(A)==="marketplace"?(r(),B(Y,{key:10,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:building-shop-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s[53]||(s[53]=e("p",{class:"text-gray-400"},"Marketplace coming soon",-1)),s[54]||(s[54]=e("p",{class:"text-gray-500 text-sm mt-2"},"Buy and sell items with other users",-1))]),_:1})):u("",!0),t(A)==="cart"?(r(),B(Y,{key:11,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:cart-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s[55]||(s[55]=e("p",{class:"text-gray-400"},"Your cart is empty",-1)),s[56]||(s[56]=e("p",{class:"text-gray-500 text-sm mt-2"},"Items you add to cart will appear here",-1))]),_:1})):u("",!0)]),e("div",_d,[e("div",kd,[s[71]||(s[71]=e("div",{class:"absolute inset-0 pointer-events-none overflow-hidden"},[e("div",{class:"absolute -top-20 -right-20 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute -bottom-20 -left-20 w-40 h-40 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-500"})],-1)),e("div",$d,[s[58]||(s[58]=e("div",{class:"absolute inset-0 bg-[url('/images/patterns/circuit.svg')] bg-repeat opacity-10"},null,-1)),e("h3",Cd,[e("div",jd,[o(t(l),{icon:"fluent:data-trending-24-filled",class:"w-5 h-5"})]),s[57]||(s[57]=m(" à¸ªà¸–à¸´à¸•à¸´à¸à¸´à¸ˆà¸à¸£à¸£à¸¡ ",-1))])]),e("div",Pd,[e("div",Sd,[e("div",Fd,[s[60]||(s[60]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-violet-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",Dd,[e("div",Ld,[o(t(l),{icon:"fluent:document-24-filled",class:"w-6 h-6 text-white"})]),e("p",Md,a(t(i).posts_count||0),1),s[59]||(s[59]=e("p",{class:"text-xs text-gray-400 font-medium uppercase tracking-wider"},"à¹‚à¸žà¸ªà¸•à¹Œ",-1))])]),e("div",Td,[s[62]||(s[62]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-pink-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",Ed,[e("div",Bd,[o(t(l),{icon:"fluent:heart-24-filled",class:"w-6 h-6 text-white"})]),e("p",Id,a((t(i).likes_received||0).toLocaleString()),1),s[61]||(s[61]=e("p",{class:"text-xs text-gray-400 font-medium uppercase tracking-wider"},"à¸–à¸¹à¸à¹ƒà¸ˆ",-1))])]),e("div",Od,[s[64]||(s[64]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",zd,[e("div",Ad,[o(t(l),{icon:"fluent:chat-24-filled",class:"w-6 h-6 text-white"})]),e("p",Rd,a(t(i).comments_count||0),1),s[63]||(s[63]=e("p",{class:"text-xs text-gray-400 font-medium uppercase tracking-wider"},"à¸„à¸­à¸¡à¹€à¸¡à¸™à¸•à¹Œ",-1))])]),e("div",qd,[s[66]||(s[66]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-teal-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",Vd,[e("div",Nd,[o(t(l),{icon:"fluent:share-24-filled",class:"w-6 h-6 text-white"})]),e("p",Ud,a(t(i).shares_count||0),1),s[65]||(s[65]=e("p",{class:"text-xs text-gray-400 font-medium uppercase tracking-wider"},"à¹à¸Šà¸£à¹Œ",-1))])])]),e("div",Gd,[s[70]||(s[70]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-orange-600/10 to-transparent animate-pulse"},null,-1)),e("div",Wd,[e("div",Hd,[e("div",Yd,[s[67]||(s[67]=e("div",{class:"absolute inset-0 bg-orange-500 rounded-xl blur-md opacity-50 animate-pulse"},null,-1)),e("div",Zd,[o(t(l),{icon:"fluent:fire-24-filled",class:"w-7 h-7 text-white animate-bounce"})])]),s[68]||(s[68]=e("div",null,[e("p",{class:"text-sm font-bold text-white"},"Activity Streak"),e("p",{class:"text-xs text-orange-400/80"},"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡")],-1))]),e("div",Xd,[e("p",Kd,a(t(i).streak||7),1),s[69]||(s[69]=e("p",{class:"text-xs text-gray-400 font-medium uppercase"},"à¸§à¸±à¸™",-1))])])])])]),e("div",Qd,[s[86]||(s[86]=e("div",{class:"absolute inset-0 pointer-events-none overflow-hidden"},[e("div",{class:"absolute top-0 left-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl animate-pulse"})],-1)),e("div",Jd,[s[74]||(s[74]=e("div",{class:"absolute inset-0 bg-[url('/images/patterns/circuit.svg')] bg-repeat opacity-10"},null,-1)),e("h3",ec,[e("div",tc,[o(t(l),{icon:"fluent:ribbon-star-24-filled",class:"w-5 h-5"})]),s[72]||(s[72]=m(" à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ ",-1)),s[73]||(s[73]=e("span",{class:"ml-auto px-3 py-1 bg-white/20 rounded-full text-sm font-bold"},"3/10",-1))])]),e("div",sc,[e("div",rc,[s[76]||(s[76]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-green-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",oc,[o(t(l),{icon:"fluent:document-checkmark-24-filled",class:"w-6 h-6 text-white"})]),s[77]||(s[77]=e("div",{class:"flex-1 min-w-0"},[e("p",{class:"text-sm font-bold text-white"},"à¹‚à¸žà¸ªà¸•à¹Œà¹à¸£à¸"),e("p",{class:"text-xs text-gray-400 truncate"},"à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸žà¸ªà¸•à¹Œà¹à¸£à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“")],-1)),e("div",lc,[s[75]||(s[75]=e("span",{class:"text-xs text-green-400 font-bold"},"+50 XP",-1)),o(t(l),{icon:"fluent:checkmark-circle-24-filled",class:"w-6 h-6 text-green-500"})])]),e("div",nc,[s[80]||(s[80]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",ic,[o(t(l),{icon:"fluent:people-24-filled",class:"w-6 h-6 text-white"})]),e("div",ac,[s[78]||(s[78]=e("p",{class:"text-sm font-bold text-white"},"à¸ªà¸±à¸‡à¸„à¸¡à¸­à¸­à¸™à¹„à¸¥à¸™à¹Œ",-1)),s[79]||(s[79]=e("p",{class:"text-xs text-gray-400 truncate"},"à¸¡à¸µà¹€à¸žà¸·à¹ˆà¸­à¸™ 10 à¸„à¸™",-1)),e("div",dc,[e("div",{class:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",style:Q({width:Math.min((t(i).friends_count||0)*10,100)+"%"})},null,4)])]),e("div",cc,[e("span",uc,a(Math.min(t(i).friends_count||0,10))+"/10",1)])]),e("div",{class:q(["group relative overflow-hidden flex items-center gap-4 p-3 rounded-xl border transition-all cursor-pointer",(t(i).points||t(i).pp||0)>=100?"bg-gradient-to-r from-amber-900/30 to-orange-900/20 border-amber-500/30 hover:border-amber-400/50":"bg-gray-800/30 border-gray-700 hover:border-gray-600"])},[s[81]||(s[81]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-amber-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",{class:q(["relative w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",(t(i).points||t(i).pp||0)>=100?"bg-gradient-to-br from-amber-400 to-orange-500":"bg-gray-700"])},[o(t(l),{icon:"fluent:star-24-filled",class:q(["w-6 h-6",(t(i).points||t(i).pp||0)>=100?"text-white":"text-gray-500"])},null,8,["class"])],2),s[82]||(s[82]=e("div",{class:"flex-1 min-w-0"},[e("p",{class:"text-sm font-bold text-white"},"à¸™à¸±à¸à¸ªà¸°à¸ªà¸¡à¹à¸•à¹‰à¸¡"),e("p",{class:"text-xs text-gray-400 truncate"},"à¸ªà¸°à¸ªà¸¡ 100 à¹à¸•à¹‰à¸¡")],-1)),e("div",gc,[e("span",{class:q(["text-xs font-bold",(t(i).points||t(i).pp||0)>=100?"text-amber-400":"text-gray-500"])},"+100 XP",2),o(t(l),{icon:(t(i).points||t(i).pp||0)>=100?"fluent:checkmark-circle-24-filled":"fluent:lock-closed-24-regular",class:q((t(i).points||t(i).pp||0)>=100?"w-6 h-6 text-amber-500":"w-5 h-5 text-gray-500")},null,8,["icon","class"])])],2),e("div",{class:q(["group relative overflow-hidden flex items-center gap-4 p-3 rounded-xl border transition-all cursor-pointer",(t(i).level||1)>=5?"bg-gradient-to-r from-purple-900/30 to-violet-900/20 border-purple-500/30 hover:border-purple-400/50":"bg-gray-800/30 border-gray-700 hover:border-gray-600"])},[s[83]||(s[83]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-400/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),e("div",{class:q(["relative w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",(t(i).level||1)>=5?"bg-gradient-to-br from-purple-400 to-violet-500":"bg-gray-700"])},[o(t(l),{icon:"fluent:trophy-24-filled",class:q(["w-6 h-6",(t(i).level||1)>=5?"text-white":"text-gray-500"])},null,8,["class"])],2),s[84]||(s[84]=e("div",{class:"flex-1 min-w-0"},[e("p",{class:"text-sm font-bold text-white"},"à¸œà¸¹à¹‰à¸Šà¸³à¸™à¸²à¸"),e("p",{class:"text-xs text-gray-400 truncate"},"à¸–à¸¶à¸‡ Level 5")],-1)),e("div",fc,[e("span",{class:q(["text-xs font-bold",(t(i).level||1)>=5?"text-purple-400":"text-gray-500"])},"+200 XP",2),o(t(l),{icon:(t(i).level||1)>=5?"fluent:checkmark-circle-24-filled":"fluent:lock-closed-24-regular",class:q((t(i).level||1)>=5?"w-6 h-6 text-purple-500":"w-5 h-5 text-gray-500")},null,8,["icon","class"])])],2),e("button",pc,[o(t(l),{icon:"fluent:trophy-24-regular",class:"w-4 h-4"}),s[85]||(s[85]=e("span",null,"à¸”à¸¹à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",-1))])])]),e("div",vc,[e("div",xc,[e("div",yc,[e("h3",bc,[e("div",hc,[o(t(l),{icon:"fluent:video-24-filled",class:"w-4 h-4 text-white"})]),s[87]||(s[87]=m(" Stream Box ",-1))]),s[88]||(s[88]=e("div",{class:"flex items-center gap-2"},[e("span",{class:"px-2 py-1 bg-red-500/20 text-red-400 text-xs font-bold rounded-full flex items-center gap-1"},[e("span",{class:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),m(" OFFLINE ")])],-1))]),e("div",mc,[e("div",wc,[e("div",_c,[s[89]||(s[89]=e("div",{class:"absolute inset-0 bg-vikinger-purple/30 rounded-full blur-xl animate-pulse"},null,-1)),e("div",kc,[o(t(l),{icon:"fluent:video-off-24-regular",class:"w-10 h-10 text-gray-500"})])]),s[90]||(s[90]=e("p",{class:"text-gray-400 text-sm font-medium"},"à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸–à¹ˆà¸²à¸¢à¸—à¸­à¸”à¸ªà¸”",-1)),s[91]||(s[91]=e("p",{class:"text-gray-500 text-xs mt-1"},"No active stream",-1))]),t(L)?(r(),n("button",$c,[o(t(l),{icon:"fluent:video-24-filled",class:"w-4 h-4"}),s[92]||(s[92]=m(" Go Live ",-1))])):u("",!0)])])]),e("div",Cc,[e("div",jc,[e("div",Pc,[e("h3",Sc,[e("div",Fc,[o(t(l),{icon:"fluent:image-multiple-24-filled",class:"w-4 h-4 text-white"})]),s[93]||(s[93]=m(" Photos ",-1)),e("span",Dc,a(t(i).photos_count||0),1)]),e("button",Lc,[o(t(l),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-400 hover:text-white"})])]),e("div",Mc,[(r(),n(U,null,Z(12,P=>e("div",{key:P,class:"group relative aspect-square bg-gradient-to-br from-gray-800 to-gray-700 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform"},[e("div",Tc,[o(t(l),{icon:"fluent:image-24-regular",class:"w-5 h-5 text-gray-600 group-hover:text-gray-500 transition-colors"})]),s[94]||(s[94]=e("div",{class:"absolute inset-0 bg-vikinger-purple/0 group-hover:bg-vikinger-purple/20 transition-colors"},null,-1))])),64))]),e("button",{onClick:s[3]||(s[3]=P=>A.value="photos"),class:"w-full mt-4 py-2.5 px-4 bg-gray-800 hover:bg-gray-700 text-white rounded-xl text-sm font-medium flex items-center justify-center gap-2 transition-all"},[o(t(l),{icon:"fluent:image-multiple-24-regular",class:"w-4 h-4 text-vikinger-cyan"}),s[95]||(s[95]=e("span",null,"à¸”à¸¹à¸£à¸¹à¸›à¸ à¸²à¸žà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",-1))])])]),e("div",Ec,[e("div",Bc,[e("div",Ic,[e("h3",Oc,[e("div",zc,[o(t(l),{icon:"fluent:people-community-24-filled",class:"w-4 h-4 text-white"})]),s[96]||(s[96]=m(" Groups ",-1)),e("span",Ac,a(t(i).groups_count||0),1)]),e("button",Rc,[o(t(l),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-400 hover:text-white"})])]),e("div",qc,[e("div",Vc,[s[97]||(s[97]=e("div",{class:"absolute inset-0 bg-green-500/20 rounded-full blur-xl animate-pulse"},null,-1)),e("div",Nc,[o(t(l),{icon:"fluent:people-community-24-regular",class:"w-10 h-10 text-gray-500"})])]),s[99]||(s[99]=e("p",{class:"text-gray-400 text-sm font-medium"},"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸à¸¥à¸¸à¹ˆà¸¡",-1)),s[100]||(s[100]=e("p",{class:"text-gray-500 text-xs mt-1"},"No groups joined yet",-1)),e("button",Uc,[o(t(l),{icon:"fluent:search-24-regular",class:"w-4 h-4"}),s[98]||(s[98]=m(" à¸ªà¸³à¸£à¸§à¸ˆà¸à¸¥à¸¸à¹ˆà¸¡ ",-1))])])])])])])],64)):(r(),B(Y,{key:2,class:"bg-gray-800 border-gray-700 text-center py-12"},{default:N(()=>[o(t(l),{icon:"fluent:person-warning-24-regular",class:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s[102]||(s[102]=e("p",{class:"text-gray-400"},"Profile not found",-1)),o(I,{to:"/play/newsfeed",class:"mt-4 inline-block text-vikinger-purple hover:underline"},{default:N(()=>[...s[101]||(s[101]=[m(" Go back to newsfeed ",-1)])]),_:1})]),_:1})),(r(),B(oe,{to:"body"},[o(de,{name:"modal"},{default:N(()=>[t(v)?(r(),n("div",Gc,[e("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:ue}),e("div",Wc,[e("div",Hc,[e("h3",Yc,[o(t(l),{icon:"fluent:image-edit-24-regular",class:"w-6 h-6 text-vikinger-cyan"}),s[103]||(s[103]=m(" Edit Cover Photo ",-1))]),e("button",{onClick:ue,class:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors"},[o(t(l),{icon:"fluent:dismiss-24-regular",class:"w-5 h-5"})])]),e("div",Zc,[e("div",Xc,[t(X)||t(i)?.cover_photo?(r(),n("img",{key:0,src:t(X)||t(i)?.cover_photo,alt:"Cover Preview",class:"w-full h-full object-cover"},null,8,Kc)):(r(),n("div",Qc,[e("div",Jc,[o(t(l),{icon:"fluent:image-24-regular",class:"w-16 h-16 text-gray-500 mx-auto mb-2"}),s[104]||(s[104]=e("p",{class:"text-gray-500"},"No cover photo",-1))])])),t(X)?(r(),n("div",eu," New Photo Selected ")):u("",!0)]),e("div",tu,[e("button",{onClick:Me,class:"w-full py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2"},[o(t(l),{icon:"fluent:arrow-upload-24-regular",class:"w-5 h-5"}),s[105]||(s[105]=m(" Choose Image from Device ",-1))]),s[106]||(s[106]=e("p",{class:"text-center text-gray-500 text-sm"}," Recommended size: 1200 x 400 pixels. Max file size: 5MB ",-1))])]),e("div",su,[e("button",{onClick:ue,class:"px-5 py-2.5 text-gray-400 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:Ee,disabled:!t(X)||t(K),class:q(["px-6 py-2.5 rounded-lg font-medium transition-all flex items-center gap-2",t(X)&&!t(K)?"bg-vikinger-purple hover:bg-vikinger-purple/80 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[t(K)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(r(),B(t(l),{key:1,icon:"fluent:save-24-regular",class:"w-5 h-5"})),m(" "+a(t(K)?"Saving...":"Save Cover"),1)],10,ru)])])])):u("",!0)]),_:1})])),(r(),B(oe,{to:"body"},[o(de,{name:"modal"},{default:N(()=>[t(x)?(r(),n("div",ou,[e("div",{class:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:ge}),e("div",lu,[e("div",nu,[e("h3",iu,[o(t(l),{icon:"fluent:person-edit-24-regular",class:"w-6 h-6 text-vikinger-cyan"}),s[107]||(s[107]=m(" Edit Profile Photo ",-1))]),e("button",{onClick:ge,class:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors"},[o(t(l),{icon:"fluent:dismiss-24-regular",class:"w-5 h-5"})])]),e("div",au,[e("div",du,[e("div",cu,[e("div",uu,[t(V)||t(i)?.avatar?(r(),n("img",{key:0,src:t(V)||t(i)?.avatar,alt:"Avatar Preview",class:"w-full h-full object-cover"},null,8,gu)):(r(),n("div",fu,[o(t(l),{icon:"fluent:person-24-regular",class:"w-16 h-16 text-gray-500"})]))]),t(V)?(r(),n("div",pu," New ")):u("",!0)])]),e("div",vu,[e("button",{onClick:Ie,class:"w-full py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center justify-center gap-2"},[o(t(l),{icon:"fluent:arrow-upload-24-regular",class:"w-5 h-5"}),s[108]||(s[108]=m(" Choose Image from Device ",-1))]),s[109]||(s[109]=e("p",{class:"text-center text-gray-500 text-sm"}," Recommended: Square image, at least 200x200 pixels. Max: 2MB ",-1))])]),e("div",xu,[e("button",{onClick:ge,class:"px-5 py-2.5 text-gray-400 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:ze,disabled:!t(V)||t(le),class:q(["px-6 py-2.5 rounded-lg font-medium transition-all flex items-center gap-2",t(V)&&!t(le)?"bg-vikinger-purple hover:bg-vikinger-purple/80 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[t(le)?(r(),B(t(l),{key:0,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(r(),B(t(l),{key:1,icon:"fluent:save-24-regular",class:"w-5 h-5"})),m(" "+a(t(le)?"Saving...":"Save Avatar"),1)],10,yu)])])])):u("",!0)]),_:1})])),e("div",bu,[e("div",hu,[(r(),n(U,null,Z(Xe,P=>e("button",{key:P.key,onClick:J=>A.value=P.key,class:q(["flex flex-col items-center justify-center py-1.5 px-3 rounded-xl transition-all flex-1 max-w-[72px]",t(A)===P.key?"text-vikinger-purple dark:text-vikinger-cyan bg-vikinger-purple/10 dark:bg-vikinger-cyan/10":"text-gray-500 dark:text-gray-400"])},[e("div",{class:q(["w-8 h-8 rounded-lg flex items-center justify-center mb-0.5 transition-all",t(A)===P.key?"bg-gradient-to-br from-vikinger-purple to-vikinger-cyan text-white scale-110":"bg-transparent"])},[o(t(l),{icon:P.icon,class:"w-5 h-5"},null,8,["icon"])],2),e("span",{class:q(["text-[10px] font-bold truncate max-w-full",t(A)===P.key?"text-vikinger-purple dark:text-vikinger-cyan":""])},a(P.label),3)],10,mu)),64))])])])}}}),Eu=ce(wu,[["__scopeId","data-v-3b650ee9"]]);export{Eu as default};
