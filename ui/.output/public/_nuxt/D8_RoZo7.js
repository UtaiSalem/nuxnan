import{c as r,o as i,a as e,a7 as j,t as v,d as u,F as C,k as A,r as d,b as a,w as c,f as S,g as I,u as b,T as l,I as y,j as _}from"./cTealXVQ.js";import{L as N}from"./DUwVLjCh.js";import L from"./Dtfmjnau.js";import{_ as T,Q as B}from"./CTyhxa7u.js";import"./ChBnuzYQ.js";import"./DJsVOgax.js";import"./Cpj98o6Y.js";import"./CYLt1a9j.js";import"./srasqk13.js";import"./BZ03tRGr.js";import"./D6ta9QHx.js";import"./VPWt-suZ.js";import"./CaSR6SuD.js";import"./BQxta0Da.js";import"./CuhQWnJh.js";import"./B8TD85Ki.js";const O={class:"bg-gray-200 h-64 w-full relative"},V={class:"absolute -bottom-12 left-4 flex items-end"},q=["src"],P={class:"ml-4 mb-4"},R={class:"text-2xl font-bold bg-white/80 px-2 rounded"},z={class:"text-gray-700 bg-white/80 px-2 rounded"},F={__name:"LessonCoverProfile",props:{logo:String,cover:String,name:String,code:String},setup(o){return(s,t)=>(i(),r("div",O,[e("div",{class:"h-full w-full bg-cover bg-center",style:j({backgroundImage:`url(${o.cover})`})},null,4),e("div",V,[e("img",{src:o.logo,class:"w-24 h-24 rounded-full border-4 border-white shadow"},null,8,q),e("div",P,[e("h1",R,v(o.name),1),e("p",z,v(o.code),1)])])]))}},H={class:"p-4 border rounded shadow bg-white mt-4"},M={__name:"CreateNewAssignmentCard",props:{assignmentableType:String,assignmentableId:Number,assignmentNameTh:String,assignmentApiRoute:String},setup(o){return(s,t)=>(i(),r("div",H,[...t[0]||(t[0]=[e("h3",{class:"font-bold"},"Create New Assignment",-1),e("p",{class:"text-gray-500"},"Assignment creation form placeholder.",-1)])]))}},Q={key:0,class:"grid grid-cols-2 gap-2 mt-4"},W=["src"],D={__name:"LessonImagesViewer",props:{model_id:Number,images:Array,edit:Boolean},setup(o){return(s,t)=>o.images?.length?(i(),r("div",Q,[(i(!0),r(C,null,A(o.images,g=>(i(),r("img",{key:g.id,src:g.full_url,class:"w-full h-auto rounded"},null,8,W))),128))])):u("",!0)}},E={class:"bg-white shadow-xl w-full rounded-lg overflow-hidden mt-4"},G={class:"flex flex-row justify-around"},J={class:"flex flex-col items-center py-2 justify-center text-slate-600/80"},K={class:"flex flex-col items-center py-2 justify-center text-slate-600/80"},U={class:"flex flex-col items-center py-2 justify-center text-slate-600/80"},X={class:"flex flex-col items-center py-2 justify-center text-slate-600/80"},Y={class:"w-full space-y-4"},Z={key:0,class:"plearnd-card my-4"},ee={class:"flex flex-col"},te={key:0},se=["data-plyr-embed-id"],oe={class:"my-4 text-md font-bold"},ne={class:"my-4 text-sm font-semibold text-gray-600"},le={class:"my-2 text-sm font-normal"},ae={key:1,class:"mt-4 space-y-4"},ie={key:2,class:"mt-4"},$e={__name:"Lesson",props:{isCourseAdmin:Boolean,academy:Object,course:Object,lesson:Object,topics:Object,assignments:Object,questions:Object,imagePath:String},setup(o){const s=o,t=d(2);d(!1);const g=d(s.course.data.user.avatar),x=d("/storage/images/courses/covers/default_cover.jpg"),h=d(s.course.data.name),w=d(s.course.data.code),p=m=>t.value=m;function k(m){s.assignments.data.push(m)}return(m,n)=>{const $=S("vue-plyr");return i(),r("div",null,[a(L,{title:s.lesson.data.title},{coverProfileCard:c(()=>[a(F,{logo:g.value,cover:x.value,name:h.value,code:w.value},null,8,["logo","cover","name","code"]),e("div",E,[e("div",G,[a(b(N),{href:"/courses/"+s.course.data.id,class:l(["tab-item border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500":t.value===1}])},{default:c(()=>[e("div",J,[a(b(y),{icon:"icon-park-outline:view-grid-detail",class:l(["w-8 h-8",{"text-cyan-500":t.value===1}])},null,8,["class"]),e("span",{class:l(["hidden sm:block",{"text-cyan-500":t.value===1}])},"รายวิชา",2)])]),_:1},8,["href","class"]),e("button",{type:"button",onClick:n[0]||(n[0]=_(f=>p(2),["prevent"])),class:l(["tab-item border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500":t.value===2}])},[e("div",K,[a(b(y),{icon:"lucide:layout-list",class:l(["w-8 h-8",{"text-cyan-500":t.value===2}])},null,8,["class"]),e("span",{class:l(["hidden sm:block",{"text-cyan-500":t.value===2}])},"เนื้อหา",2)])],2),e("button",{type:"button",onClick:n[1]||(n[1]=_(f=>p(3),["prevent"])),class:l(["tab-item border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500":t.value===3}])},[e("div",U,[a(b(y),{icon:"lucide:layout-list",class:l(["w-8 h-8",{"text-cyan-500":t.value===3}])},null,8,["class"]),e("span",{class:l(["hidden sm:block",{"text-cyan-500":t.value===3}])},"แบบฝึกหัด",2)])],2),e("button",{type:"button",onClick:n[2]||(n[2]=_(f=>p(4),["prevent"])),class:l(["tab-item border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500":t.value===4}])},[e("div",X,[a(b(y),{icon:"lucide:layout-list",class:l(["w-8 h-8",{"text-cyan-500":t.value===4}])},null,8,["class"]),e("span",{class:l(["hidden sm:block",{"text-cyan-500":t.value===4}])},"แบบทดสอบ",2)])],2)])])]),leftSideWidget:c(()=>[...n[4]||(n[4]=[e("div",null,null,-1)])]),mainContent:c(()=>[e("div",Y,[t.value===2?(i(),r("div",Z,[e("div",ee,[o.lesson.data.youtube_url?(i(),r("div",te,[a($,null,{default:c(()=>[e("div",{"data-plyr-provider":"youtube","data-plyr-embed-id":o.lesson.data.youtube_url},null,8,se)]),_:1})])):u("",!0),e("div",oe,v(o.lesson.data.title),1),n[5]||(n[5]=e("div",{class:"text-md font-bold"},"คำอธิบายบทเรียน",-1)),e("div",ne,v(o.lesson.data.description),1),n[6]||(n[6]=e("div",{class:"text-sm font-semibold"},"เนื้อหา",-1)),e("div",le,v(o.lesson.data.content),1),a(D,{model_id:s.lesson.data.id,images:s.lesson.data.images,edit:o.isCourseAdmin},null,8,["model_id","images","edit"])])])):u("",!0),t.value===3?(i(),r("div",ae,[a(T,{assignments:s.assignments.data,lessonId:s.lesson.data.id},null,8,["assignments","lessonId"]),m.$page.props.isCourseAdmin?(i(),I(M,{key:0,assignmentableType:"lessons",assignmentableId:s.lesson.data.id,assignmentNameTh:"บทเรียน",assignmentApiRoute:`/lessons/${s.lesson.data.id}`,onAddNewAssignment:n[3]||(n[3]=f=>{k(f)})},null,8,["assignmentableId","assignmentApiRoute"])):u("",!0)])):u("",!0),t.value===4?(i(),r("div",ie,[a(B,{questions:s.questions.data,lessonId:s.lesson.data.id},null,8,["questions","lessonId"])])):u("",!0)])]),rightSideWidget:c(()=>[...n[7]||(n[7]=[e("div",null,null,-1)])]),_:1},8,["title"])])}}};export{$e as default};
