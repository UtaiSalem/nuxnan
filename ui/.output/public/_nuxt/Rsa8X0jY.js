import{_ as Q}from"./CSfkmZfu.js";import{r as s,p as W,n as X,g as ee,w as S,o as d,a as t,t as b,j as te,c as n,d as w,b as i,u,I as h,$ as l,aa as g,e as C,T as M,F as N,k as O,ab as I,ah as L,ai as B}from"./DvtEeXFW.js";import{S as F}from"./BQxta0Da.js";import{r as R}from"./DX2fB3Es.js";import re from"./QbPHyIzg.js";import"./D465NmR9.js";import"./0NabHjdI.js";import"./DJsVOgax.js";import"./Cpj98o6Y.js";import"./BvQ5DSdH.js";import"./BK8d4xn5.js";import"./CR63af46.js";const ae={class:"max-w-7xl mx-auto pb-12"},oe={class:"mb-8"},le={class:"text-3xl font-bold text-gray-800 dark:text-white mb-2"},se={class:"lg:col-span-4 space-y-6"},de={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700"},ne=["src"],ie={class:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity"},ue={key:1,class:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none"},ge={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700"},ce={class:"flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50"},be=["src","alt"],pe={class:"font-bold text-gray-900 dark:text-gray-100"},ye={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700"},me={class:"relative"},ve={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},xe={class:"lg:col-span-8 space-y-8"},fe={class:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 space-y-6"},ke={class:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 grid grid-cols-1 md:grid-cols-2 gap-6"},we={class:"relative"},he={class:"relative"},_e={key:0,class:"absolute z-10 mt-2 w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 max-h-60 overflow-y-auto"},Ce=["onClick"],Ve={class:"relative"},De={class:"relative"},Se={key:0,class:"absolute z-10 mt-2 w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 max-h-60 overflow-y-auto"},je=["onClick"],Ue={class:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 space-y-6"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Me={class:"relative"},Ne={class:"relative"},Oe={class:"border-t border-gray-100 dark:border-gray-700 pt-6 mt-2"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Le={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-100 dark:border-gray-700"},Be={class:"relative inline-flex items-center cursor-pointer"},Fe={class:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700 space-y-6"},Re={class:"flex items-center justify-between mb-4"},Te={class:"relative inline-flex items-center cursor-pointer"},ze={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in-down"},Pe={class:"relative"},Ee={class:"flex"},Ye={class:"relative flex-1"},qe={class:"md:col-span-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-4 border border-emerald-100 dark:border-emerald-800/50 flex justify-between items-center"},Ae={class:"text-right"},Ze={class:"text-2xl font-bold text-emerald-600 dark:text-emerald-400"},Ge={key:0,class:"text-xs text-emerald-600/70"},He={class:"border-t border-gray-100 dark:border-gray-700 pt-6"},Je={class:"relative max-w-sm"},Ke={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Qe={class:"flex items-center justify-end gap-4 pt-4 pb-12"},gt={__name:"CreateNewCourse",setup(We){const T=s("สร้างรายวิชาใหม่"),j=W(),p=s(`${j.public.apiBase}/storage/images/courses/covers/default_cover.jpg`),U=s(null),V=s(!1),D=s(!1),y=s(new Date),m=s(new Date),v=s([y.value,m.value]),$=new Date,x=$.getMonth()+1,_=$.getFullYear()+543;let f="1",k=_;x>=5&&x<=9?(f="1",k=_):x>=10&&x<=12?(f="2",k=_):x>=1&&x<=3?(f="2",k=_-1):(f="summer",k=_-1),s({academy_id:"",code:"",name:"",description:"",category:"",level:"",credit_units:"",hours_per_week:"",start_date:v.value[0],end_date:v.value[1],auto_accept_members:!0,tuition_fees:0,saleable:!0,price:0,discount:0,discount_type:"fixed",semester:f,academic_year:k.toString(),status:!0,cover:p.value===`${j.public.apiBase}/storage/images/courses/covers/default_cover.jpg`?null:p.value});const r=s({academy_id:"",code:"",name:"",description:"",category:"",level:"",credit_units:1,hours_per_week:1,start_date:v.value[0]?new Date(v.value[0]):null,end_date:new Date(new Date().setDate(new Date().getDate()+30)),auto_accept_members:!0,tuition_fees:0,saleable:!0,price:0,discount:0,discount_type:"fixed",semester:f,academic_year:k.toString(),status:!0,cover:""}),z=s([{name:"ภาษาไทย"},{name:"คณิตศาสตร์"},{name:"วิทยาศาสตร์"},{name:"สังคมศึกษา ศาสนา และวัฒนธรรม"},{name:"สุขศึกษาและพลศึกษา"},{name:"ศิลปะ"},{name:"การงานอาชีพและเทคโนโลยี"},{name:"ภาษาต่างประเทศ"}]),P=s([{level:"ชั้นประถมศึกษาปีที่ 1"},{level:"ชั้นประถมศึกษาปีที่ 2"},{level:"ชั้นประถมศึกษาปีที่ 3"},{level:"ชั้นประถมศึกษาปีที่ 4"},{level:"ชั้นประถมศึกษาปีที่ 5"},{level:"ชั้นประถมศึกษาปีที่ 6"},{level:"ชั้นมัธยมศึกษาปีที่ 1"},{level:"ชั้นมัธยมศึกษาปีที่ 2"},{level:"ชั้นมัธยมศึกษาปีที่ 3"},{level:"ชั้นมัธยมศึกษาปีที่ 4"},{level:"ชั้นมัธยมศึกษาปีที่ 5"},{level:"ชั้นมัธยมศึกษาปีที่ 6"}]),E=()=>{U.value.click()};function Y(o){r.value.cover=o.target.files[0],p.value=URL.createObjectURL(o.target.files[0])}function q(o){r.value.category=o,V.value=!1}function A(o){r.value.level=o,D.value=!1}function Z(o){y.value=o,v.value[0]=y.value,r.value.start_date=new Date(y.value)||null}function G(o){m.value=o,v.value[1]=m.value,r.value.end_date=new Date(m.value)||null}const H=X(()=>{if(!r.value.saleable)return 0;const o=Number(r.value.price)||0,e=Number(r.value.discount)||0;if(r.value.discount_type==="percent"){const c=o*e/100;return Math.max(0,o-c)}return Math.max(0,o-e)});async function J(){try{const o={headers:{"content-type":"multipart/form-data"}},e=new FormData;e.append("academy_id",r.value.academy_id??null),e.append("code",r.value.code),e.append("name",r.value.name),e.append("description",r.value.description),e.append("category",r.value.category),e.append("level",r.value.level),e.append("credit_units",r.value.credit_units),e.append("hours_per_week",r.value.hours_per_week),e.append("start_date",new Date(r.value.start_date).toISOString()??null),e.append("end_date",new Date(r.value.end_date).toISOString()??null),e.append("auto_accept_members",r.value.auto_accept_members?1:0),e.append("tuition_fees",r.value.tuition_fees),e.append("saleable",r.value.saleable?1:0),e.append("price",r.value.price),e.append("discount",r.value.discount),e.append("discount_type",r.value.discount_type),e.append("semester",r.value.semester),e.append("academic_year",r.value.academic_year),e.append("status",r.value.status?1:0),r.value.cover&&e.append("cover",r.value.cover);const c=await axios.post("/courses",e,o);c.data&&c.data.success&&(F.fire("สำเร็จ","การบันทึกข้อมูลเสร็จสมบูรณ์","success"),R.get(`/courses/${c.data.newCourse.id}`))}catch(o){F.fire("ล้มเหลว","เกิดข้อผิดพลาดในการบันทึกข้อมูล, <br />กรุณาตรวจสอบความถูกต้องของข้อมูล "+o.message,"error")}}return(o,e)=>{const c=Q;return d(),ee(re,{coursePageTitle:"สร้างรายวิชาใหม่"},{coursesMainContent:S(()=>[t("div",ae,[t("div",oe,[t("h1",le,b(T.value),1),e[18]||(e[18]=t("p",{class:"text-gray-500 dark:text-gray-400"},"กรอกข้อมูลเพื่อสร้างรายวิชาใหม่สำหรับชุมชนแห่งการเรียนรู้",-1))]),t("form",{onSubmit:te(J,["prevent"]),class:"grid grid-cols-1 lg:grid-cols-12 gap-8",id:"create-new-course-form"},[t("div",se,[t("div",de,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4"},"รูปภาพปกรายวิชา",-1)),t("div",{class:"group relative aspect-video w-full rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-900 border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-violet-500 dark:hover:border-violet-500 transition-colors cursor-pointer",onClick:E},[p.value?(d(),n("img",{key:0,src:p.value,class:"w-full h-full object-cover"},null,8,ne)):w("",!0),t("div",ie,[i(u(h),{icon:"heroicons:camera",class:"w-10 h-10 text-white mb-2"}),e[19]||(e[19]=t("span",{class:"text-white text-sm font-medium"},"เปลี่ยนรูปปก",-1))]),!p.value||p.value.includes("default_cover")?(d(),n("div",ue,[i(u(h),{icon:"heroicons:photo",class:"w-12 h-12 text-gray-400 mb-2"}),e[20]||(e[20]=t("span",{class:"text-gray-500 text-sm"},"อัปโหลดรูปภาพ",-1))])):w("",!0),t("input",{type:"file",class:"hidden",accept:"image/*",ref_key:"coverInput",ref:U,onChange:Y},null,544)]),e[22]||(e[22]=t("p",{class:"text-xs text-gray-500 mt-2 text-center"},"แนะนำขนาด 1920x1080px หรืออัตราส่วน 16:9",-1))]),t("div",ge,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4"},"ผู้สอน",-1)),t("div",ce,[t("img",{src:o.$page.props.auth.user.avatar||o.$page.props.auth.user.profile_photo_url,alt:o.$page.props.auth.user.name,class:"w-12 h-12 rounded-full ring-2 ring-white dark:ring-gray-600 object-cover"},null,8,be),t("div",null,[t("h3",pe,b(o.$page.props.auth.user.name),1),e[23]||(e[23]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Instructor",-1))])])]),t("div",ye,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"รหัสวิชา",-1)),t("div",me,[t("div",ve,[i(u(h),{icon:"heroicons:qr-code",class:"h-5 w-5 text-gray-400"})]),l(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>r.value.code=a),class:"block w-full pl-10 pr-3 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all",placeholder:"เช่น CS101"},null,512),[[g,r.value.code]])])])]),t("div",xe,[t("section",null,[e[28]||(e[28]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2"},[t("span",{class:"w-8 h-8 rounded-lg bg-violet-100 dark:bg-violet-900/50 text-violet-600 flex items-center justify-center text-sm"},"1"),C(" ข้อมูลทั่วไป ")],-1)),t("div",fe,[t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[C("ชื่อรายวิชา "),t("span",{class:"text-red-500"},"*")],-1)),l(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.value.name=a),required:"",class:"block w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:bg-white dark:focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all font-medium text-lg",placeholder:"ตั้งชื่อวิชาให้สื่อความหมายและน่าสนใจ"},null,512),[[g,r.value.name]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"คำอธิบายรายวิชา",-1)),l(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.description=a),rows:"5",class:"block w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:bg-white dark:focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all",placeholder:"รายละเอียดเกี่ยวกับสิ่งที่ผู้เรียนจะได้เรียนรู้..."},null,512),[[g,r.value.description]])])])]),t("section",null,[e[31]||(e[31]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2"},[t("span",{class:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/50 text-blue-600 flex items-center justify-center text-sm"},"2"),C(" การจัดหมวดหมู่และระดับ ")],-1)),t("div",ke,[t("div",we,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"กลุ่มสาระการเรียนรู้",-1)),t("div",he,[t("button",{type:"button",onClick:e[3]||(e[3]=a=>V.value=!V.value),class:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-left px-4 py-3 rounded-xl flex items-center justify-between hover:border-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all"},[t("span",{class:M(r.value.category?"text-gray-900 dark:text-white":"text-gray-400")},b(r.value.category||"เลือกกลุ่มสาระ"),3),i(u(h),{icon:"heroicons:chevron-down",class:"w-5 h-5 text-gray-400"})]),V.value?(d(),n("div",_e,[(d(!0),n(N,null,O(z.value,a=>(d(),n("div",{key:a.name,onClick:K=>q(a.name),class:"px-4 py-3 hover:bg-violet-50 dark:hover:bg-violet-900/20 cursor-pointer text-gray-700 dark:text-gray-200 text-sm transition-colors border-b border-gray-50 dark:border-gray-700/50 last:border-0"},b(a.name),9,Ce))),128))])):w("",!0)])]),t("div",Ve,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ระดับชั้น",-1)),t("div",De,[t("button",{type:"button",onClick:e[4]||(e[4]=a=>D.value=!D.value),class:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-left px-4 py-3 rounded-xl flex items-center justify-between hover:border-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all"},[t("span",{class:M(r.value.level?"text-gray-900 dark:text-white":"text-gray-400")},b(r.value.level||"เลือกระดับชั้น"),3),i(u(h),{icon:"heroicons:chevron-down",class:"w-5 h-5 text-gray-400"})]),D.value?(d(),n("div",Se,[(d(!0),n(N,null,O(P.value,a=>(d(),n("div",{key:a.level,onClick:K=>A(a.level),class:"px-4 py-3 hover:bg-violet-50 dark:hover:bg-violet-900/20 cursor-pointer text-gray-700 dark:text-gray-200 text-sm transition-colors border-b border-gray-50 dark:border-gray-700/50 last:border-0"},b(a.level),9,je))),128))])):w("",!0)])])])]),t("section",null,[e[43]||(e[43]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2"},[t("span",{class:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/50 text-amber-600 flex items-center justify-center text-sm"},"3"),C(" การตั้งค่าและเวลา ")],-1)),t("div",Ue,[t("div",$e,[t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ภาคเรียน",-1)),l(t("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>r.value.semester=a),class:"block w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-violet-500"},[...e[32]||(e[32]=[t("option",{value:""},"เลือกภาคเรียน",-1),t("option",{value:"1"},"ภาคเรียนที่ 1",-1),t("option",{value:"2"},"ภาคเรียนที่ 2",-1),t("option",{value:"3"},"ภาคเรียนที่ 3",-1),t("option",{value:"summer"},"ภาคเรียนฤดูร้อน",-1)])],512),[[I,r.value.semester]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ปีการศึกษา",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.value.academic_year=a),placeholder:"เช่น 2567",class:"block w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500"},null,512),[[g,r.value.academic_year]])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"หน่วยกิต",-1)),t("div",Me,[l(t("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=a=>r.value.credit_units=a),min:"0",class:"block w-full pl-4 pr-12 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-violet-500"},null,512),[[g,r.value.credit_units]]),e[35]||(e[35]=t("span",{class:"absolute right-4 top-3 text-gray-400 text-sm"},"หน่วย",-1))])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"คาบ/สัปดาห์",-1)),t("div",Ne,[l(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=a=>r.value.hours_per_week=a),min:"0",class:"block w-full pl-4 pr-12 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-violet-500"},null,512),[[g,r.value.hours_per_week]]),e[37]||(e[37]=t("span",{class:"absolute right-4 top-3 text-gray-400 text-sm"},"ชม.",-1))])])]),t("div",Oe,[t("div",Ie,[t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"วันที่เริ่มเรียน",-1)),i(c,null,{default:S(()=>[i(u(L),{modelValue:y.value,"onUpdate:modelValue":[e[9]||(e[9]=a=>y.value=a),Z],placeholder:"เลือกวันเริ่มต้น",format:"dd/MM/yyyy","auto-apply":"","input-class-name":"!bg-white dark:!bg-gray-700 !border-gray-200 dark:!border-gray-600 !rounded-xl !py-3 !text-gray-900 dark:!text-white"},null,8,["modelValue"])]),_:1})]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"วันที่สิ้นสุด",-1)),i(c,null,{default:S(()=>[i(u(L),{modelValue:m.value,"onUpdate:modelValue":[e[10]||(e[10]=a=>m.value=a),G],placeholder:"เลือกวันสิ้นสุด",format:"dd/MM/yyyy","auto-apply":"","input-class-name":"!bg-white dark:!bg-gray-700 !border-gray-200 dark:!border-gray-600 !rounded-xl !py-3 !text-gray-900 dark:!text-white"},null,8,["modelValue"])]),_:1})])])]),t("div",Le,[e[42]||(e[42]=t("div",null,[t("h4",{class:"font-medium text-gray-900 dark:text-white"},"ตอบรับสมาชิกอัตโนมัติ"),t("p",{class:"text-sm text-gray-500"},"ผู้เรียนจะเข้าเรียนได้ทันทีโดยไม่ต้องรอการอนุมัติ")],-1)),t("label",Be,[l(t("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=a=>r.value.auto_accept_members=a),class:"sr-only peer"},null,512),[[B,r.value.auto_accept_members]]),e[41]||(e[41]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-violet-300 dark:peer-focus:ring-violet-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-violet-600"},null,-1))])])])]),t("section",null,[e[53]||(e[53]=t("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2"},[t("span",{class:"w-8 h-8 rounded-lg bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 flex items-center justify-center text-sm"},"4"),C(" ค่าธรรมเนียมและราคา ")],-1)),t("div",Fe,[t("div",Re,[e[45]||(e[45]=t("div",null,[t("h4",{class:"font-medium text-gray-900 dark:text-white"},"เปิดขายรายวิชา"),t("p",{class:"text-sm text-gray-500"},"เปิดใช้งานหากต้องการขายคอร์สนี้ให้บุคคลทั่วไป")],-1)),t("label",Te,[l(t("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=a=>r.value.saleable=a),class:"sr-only peer"},null,512),[[B,r.value.saleable]]),e[44]||(e[44]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-emerald-500"},null,-1))])]),r.value.saleable?(d(),n("div",ze,[t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ราคาปกติ",-1)),t("div",Pe,[e[46]||(e[46]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 font-bold"},"฿")],-1)),l(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=a=>r.value.price=a),min:"0",placeholder:"0.00",class:"block w-full pl-8 pr-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[g,r.value.price]])])]),t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ส่วนลด",-1)),t("div",Ee,[t("div",Ye,[l(t("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=a=>r.value.discount=a),min:"0",class:"block w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-l-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500 z-10",placeholder:"0"},null,512),[[g,r.value.discount]])]),l(t("select",{"onUpdate:modelValue":e[15]||(e[15]=a=>r.value.discount_type=a),class:"px-3 border-y border-r border-gray-200 dark:border-gray-600 rounded-r-xl bg-gray-50 dark:bg-gray-600 text-gray-700 dark:text-white focus:outline-none"},[...e[48]||(e[48]=[t("option",{value:"fixed"},"฿",-1),t("option",{value:"percent"},"%",-1)])],512),[[I,r.value.discount_type]])])]),t("div",qe,[e[50]||(e[50]=t("span",{class:"text-emerald-800 dark:text-emerald-100 font-medium"},"ราคาสุทธิ (Net Price)",-1)),t("div",Ae,[t("div",Ze,"฿"+b(H.value.toLocaleString()),1),Number(r.value.discount)>0?(d(),n("div",Ge," (ลด "+b(r.value.discount_type==="percent"?r.value.discount+"%":"฿"+r.value.discount)+") ",1)):w("",!0)])])])):w("",!0),t("div",He,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ค่าธรรมเนียมสมัครสมาชิก (Point)",-1)),t("div",Je,[t("div",Ke,[i(u(h),{icon:"noto:coin",class:"h-5 w-5"})]),l(t("input",{type:"number","onUpdate:modelValue":e[16]||(e[16]=a=>r.value.tuition_fees=a),min:"0",placeholder:"0",class:"block w-full pl-10 pr-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-amber-500"},null,512),[[g,r.value.tuition_fees]])]),e[52]||(e[52]=t("p",{class:"text-xs text-gray-500 mt-1"},"คะแนนที่ผู้เรียนต้องใช้เพื่อเข้าร่วมรายวิชานี้ (0 = ฟรี)",-1))])])]),t("div",Qe,[t("button",{type:"button",onClick:e[17]||(e[17]=a=>u(R).visit("/learn/courses")),class:"px-6 py-3 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," ยกเลิก "),e[54]||(e[54]=t("button",{type:"submit",class:"px-8 py-3 rounded-xl bg-violet-600 hover:bg-violet-700 text-white font-bold shadow-lg shadow-violet-200 dark:shadow-none transition-all transform hover:-translate-y-0.5"}," สร้างรายวิชา ",-1))])])],32)])]),_:1})}}};export{gt as default};
