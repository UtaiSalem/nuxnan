import{q as z,c as y,a as e,F as I,k as q,o as c,T as E,b as u,g as C,d as $,u as i,I as n,t as V,p as N,l as j,r as h,z as O,$ as f,aa as v,e as S,n as F,ab as Z,ai as P,i as ee,ay as te,v as re,a3 as ae,w as se,a1 as le,_ as oe}from"./DvtEeXFW.js";import{S as w}from"./BQxta0Da.js";const ie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700"},ne={class:"p-2"},de=["onClick"],ue={class:"flex-1 min-w-0"},ce={class:"font-medium"},ge={key:0,class:"text-xs mt-0.5 opacity-75"},pe=z({__name:"SettingsSidebar",props:{activeTab:{}},emits:["update:activeTab"],setup(A,{emit:B}){const b=B,p=[{id:"account",label:"ข้อมูลบัญชี",icon:"fluent:person-info-24-regular",description:"จัดการข้อมูลบัญชี"},{id:"profile",label:"ข้อมูลโปรไฟล์",icon:"fluent:contact-card-24-regular",description:"แก้ไขข้อมูลโปรไฟล์"},{id:"privacy",label:"ความเป็นส่วนตัว",icon:"fluent:shield-24-regular",description:"ตั้งค่าความเป็นส่วนตัว"},{id:"socials",label:"โซเชียลมีเดีย",icon:"fluent:share-24-regular",description:"เชื่อมต่อโซเชียลมีเดีย"},{id:"security",label:"ความปลอดภัย",icon:"fluent:shield-keyhole-24-regular",description:"จัดการรหัสผ่าน"}];function g(s){b("update:activeTab",s)}return(s,m)=>(c(),y("div",ie,[m[0]||(m[0]=e("div",{class:"p-6 border-b border-gray-100 dark:border-gray-700"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"การตั้งค่า"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"จัดการการตั้งค่าบัญชีของคุณ")],-1)),e("div",ne,[(c(),y(I,null,q(p,d=>e("button",{key:d.id,onClick:a=>g(d.id),class:E(["w-full flex items-start gap-3 px-4 py-3 rounded-lg transition-all duration-200 text-left",A.activeTab===d.id?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"])},[u(i(n),{icon:d.icon,class:"w-5 h-5 mt-0.5 flex-shrink-0"},null,8,["icon"]),e("div",ue,[e("div",ce,V(d.label),1),d.description?(c(),y("div",ge,V(d.description),1)):$("",!0)]),A.activeTab===d.id?(c(),C(i(n),{key:0,icon:"fluent:chevron-right-24-regular",class:"w-4 h-4 flex-shrink-0 mt-1"})):$("",!0)],10,de)),64))])]))}}),fe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},be={class:"p-6 space-y-6"},ye={class:"relative"},xe={class:"relative opacity-75"},ve={class:"relative"},me={class:"pt-4 flex justify-end"},he=["disabled"],ke=z({__name:"AccountInfo",setup(A){const b=N().public.apiBase,p=j(),g=h(!1),s=h({name:"",phone_number:"",email:""});O(()=>{p.user&&(s.value.name=p.user.name||"",s.value.phone_number=p.user.phone_number||"",s.value.email=p.user.email||"")});async function m(){g.value=!0;try{(await $fetch(`${b}/api/settings/account`,{method:"POST",body:{name:s.value.name,phone_number:s.value.phone_number},headers:{Authorization:`Bearer ${p.token}`}})).success&&(p.fetchUser(),w.fire({icon:"success",title:"Saved!",text:"Account information updated.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}))}catch(d){w.fire("Error",d.response?._data?.message||"Update failed","error")}finally{g.value=!1}}return(d,a)=>(c(),y("div",fe,[a[8]||(a[8]=e("div",{class:"p-6 border-b border-gray-100 dark:border-gray-700"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Account Information"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Manage your basic account details")],-1)),e("div",be,[e("div",null,[a[3]||(a[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Display Name",-1)),e("div",ye,[u(i(n),{icon:"fluent:person-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>s.value.name=r),type:"text",class:"pl-10 w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Your name"},null,512),[[v,s.value.name]])])]),e("div",null,[a[4]||(a[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email Address",-1)),e("div",xe,[u(i(n),{icon:"fluent:mail-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>s.value.email=r),type:"email",readonly:"",class:"pl-10 w-full rounded-xl border-gray-300 bg-gray-50 dark:bg-gray-700/50 dark:border-gray-600 dark:text-gray-400 cursor-not-allowed"},null,512),[[v,s.value.email]])]),a[5]||(a[5]=e("p",{class:"mt-1 text-xs text-amber-500"},"Contact support to change email address.",-1))]),e("div",null,[a[6]||(a[6]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Phone Number",-1)),e("div",ve,[u(i(n),{icon:"fluent:call-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>s.value.phone_number=r),type:"tel",class:"pl-10 w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"08xxxxxxxx"},null,512),[[v,s.value.phone_number]])])]),e("div",me,[e("button",{onClick:m,disabled:g.value,class:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg hover:shadow-blue-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"},[g.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize"})):$("",!0),a[7]||(a[7]=S(" Save Changes ",-1))],8,he)])])]))}}),we={class:"space-y-6"},_e={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},$e={class:"relative h-48 bg-gray-200 group"},Ue=["src"],Ce={class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/30"},Se={class:"px-6 pb-6 relative"},Be={class:"absolute -top-12 left-6 w-24 h-24 rounded-full border-4 border-white dark:border-gray-800 overflow-hidden group shadow-md bg-gray-100 dark:bg-gray-700"},Ve=["src"],Ae={class:"ml-28 pt-2"},Pe={class:"text-xl font-bold text-gray-900 dark:text-white"},ze={class:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1 mt-0.5"},je={class:"text-xs text-gray-400 dark:text-gray-500 flex items-center gap-1 mt-1"},Te={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},Ee={class:"border-b border-gray-100 dark:border-gray-700"},Ne={class:"flex overflow-x-auto"},Oe=["onClick"],Fe={class:"flex items-center gap-2"},Ie={class:"p-6"},qe={key:0,class:"space-y-6"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},We={class:"space-y-1"},De={class:"space-y-1"},Me={class:"md:col-span-2 space-y-1"},Re={class:"space-y-1"},He={class:"relative"},Je={class:"space-y-1"},Ye={class:"relative"},Ge={class:"space-y-1"},Ke={class:"space-y-1"},Qe={key:1,class:"space-y-6"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ze={class:"relative"},et={class:"md:col-span-2"},tt={class:"relative"},rt={key:2,class:"space-y-6"},at={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},st={class:"space-y-1"},lt={class:"relative"},ot={class:"space-y-1"},it={class:"relative"},nt={class:"space-y-1"},dt={class:"space-y-1"},ut={class:"md:col-span-2 space-y-1"},ct={class:"relative"},gt={class:"pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end"},pt=["disabled"],ft={key:1},bt={key:2},yt={key:3},xt=z({__name:"ProfileInfo",setup(A){const b=N().public.apiBase,p=j(),g=h(!1),s=h(!1),m=h(!1),d=h("basic"),a=h({first_name:"",last_name:"",bio:"",location:"",website:"",birthdate:"",gender:"male"}),r=h({phone_number:"",address:"",city:"",country:"",postal_code:""}),o=h({job_title:"",company:"",industry:"",skills:"",experience_years:""}),_=h("/images/default-avatar.png"),U=h(""),L=h(null),W=h(null),D=[{id:"basic",label:"ข้อมูลพื้นฐาน",icon:"fluent:person-24-regular",description:"ข้อมูลโปรไฟล์หลัก"},{id:"personal",label:"ข้อมูลส่วนตัว",icon:"fluent:contact-card-24-regular",description:"ข้อมูลติดต่อและที่อยู่"},{id:"professional",label:"ข้อมูลอาชีพ",icon:"fluent:briefcase-24-regular",description:"ข้อมูลการทำงานและทักษะ"}];F(()=>D.find(x=>x.id===d.value));const M=F(()=>{const x=a.value.first_name,t=a.value.last_name;return x||t?`${x} ${t}`.trim():p.user?.name||p.user?.username||"ผู้ใช้งาน"});O(async()=>{try{const x=await $fetch(`${b}/api/settings`,{headers:{Authorization:`Bearer ${p.token}`}});if(x.success){const t=x.data.profile||{},l=x.data||{};a.value={first_name:t.first_name||"",last_name:t.last_name||"",bio:t.bio||"",location:t.location||"",website:t.website||"",birthdate:t.birthdate?t.birthdate.split("T")[0]:"",gender:t.gender||"male"},r.value={phone_number:l.phone_number||t.phone_number||"",address:t.address||"",city:t.city||"",country:t.country||"",postal_code:t.postal_code||""},o.value={job_title:t.job_title||"",company:t.company||"",industry:t.industry||"",skills:Array.isArray(t.skills)?t.skills.join(", "):t.skills||"",experience_years:t.experience_years||""};const k=x.data.profile_photo_url||x.data.profile_photo_path||t.profile_picture||t.avatar;k?k.startsWith("/storage")?_.value=`${b}${k}`:k.startsWith("http")?_.value=k:_.value=`${b}/storage/${k}`:_.value="/images/default-avatar.png";const T=t.cover_image||t.cover_image_url;T&&T.startsWith("/storage")?U.value=`${b}${T}`:T?U.value=T:(U.value="/storage/images/banner/banner-bg.png",U.value.startsWith("/storage")&&(U.value=`${b}${U.value}`))}}catch(x){console.error("Fetch profile error",x)}});function R(){L.value?.click()}async function H(x){const t=x.target.files?.[0];if(!t)return;s.value=!0;const l=new FormData;l.append("avatar",t);try{const k=await $fetch(`${b}/api/settings/avatar`,{method:"POST",body:l,headers:{Authorization:`Bearer ${p.token}`}});k.success&&(_.value=k.url.startsWith("/storage")?`${b}${k.url}`:k.url,p.fetchUser(),w.fire({toast:!0,position:"top-end",icon:"success",title:"อัปโหลดรูปโปรไฟล์สำเร็จ",timer:2e3,showConfirmButton:!1}))}catch{w.fire("Error","Avatar upload failed","error")}finally{s.value=!1}}function J(){W.value?.click()}async function Y(x){const t=x.target.files?.[0];if(!t)return;m.value=!0;const l=new FormData;l.append("cover",t);try{const k=await $fetch(`${b}/api/settings/cover`,{method:"POST",body:l,headers:{Authorization:`Bearer ${p.token}`}});k.success&&(U.value=k.url.startsWith("/storage")?`${b}${k.url}`:k.url,w.fire({toast:!0,position:"top-end",icon:"success",title:"อัปโหลดภาพปกสำเร็จ",timer:2e3,showConfirmButton:!1}))}catch{w.fire("Error","Cover upload failed","error")}finally{m.value=!1}}async function G(){g.value=!0;try{(await $fetch(`${b}/api/settings/profile`,{method:"POST",body:a.value,headers:{Authorization:`Bearer ${p.token}`}})).success&&w.fire({icon:"success",title:"บันทึกสำเร็จ!",text:"ข้อมูลโปรไฟล์พื้นฐานถูกอัปเดตแล้ว",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch{w.fire("Error","Update failed","error")}finally{g.value=!1}}async function K(){g.value=!0;try{(await $fetch(`${b}/api/settings/profile`,{method:"POST",body:{...r.value,phone_number:r.value.phone_number},headers:{Authorization:`Bearer ${p.token}`}})).success&&w.fire({icon:"success",title:"บันทึกสำเร็จ!",text:"ข้อมูลส่วนตัวถูกอัปเดตแล้ว",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch{w.fire("Error","Update failed","error")}finally{g.value=!1}}async function Q(){g.value=!0;try{const x=o.value.skills.split(",").map(l=>l.trim()).filter(l=>l.length>0);(await $fetch(`${b}/api/settings/profile`,{method:"POST",body:{...o.value,skills:x},headers:{Authorization:`Bearer ${p.token}`}})).success&&w.fire({icon:"success",title:"บันทึกสำเร็จ!",text:"ข้อมูลอาชีพถูกอัปเดตแล้ว",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch{w.fire("Error","Update failed","error")}finally{g.value=!1}}function X(){switch(d.value){case"basic":G();break;case"personal":K();break;case"professional":Q();break}}return(x,t)=>(c(),y("div",we,[e("div",_e,[e("div",$e,[e("img",{src:U.value,class:"w-full h-full object-cover transition-opacity group-hover:opacity-90"},null,8,Ue),e("div",Ce,[e("button",{onClick:J,class:"bg-white/90 text-gray-800 px-4 py-2 rounded-full font-medium shadow-lg hover:bg-white flex items-center gap-2"},[m.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize"})):(c(),C(i(n),{key:1,icon:"fluent:camera-24-regular"})),t[18]||(t[18]=S(" เปลี่ยนภาพปก ",-1))])]),e("input",{type:"file",ref_key:"inputCover",ref:W,onChange:Y,class:"hidden",accept:"image/*"},null,544)]),e("div",Se,[e("div",Be,[e("img",{src:_.value||"/images/default-avatar.png",class:"w-full h-full object-cover",onError:t[0]||(t[0]=l=>l.target.src="/images/default-avatar.png")},null,40,Ve),e("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/40 cursor-pointer",onClick:R},[s.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize",class:"text-white w-6 h-6"})):(c(),C(i(n),{key:1,icon:"fluent:camera-24-regular",class:"text-white w-6 h-6"}))]),e("input",{type:"file",ref_key:"inputAvatar",ref:L,onChange:H,class:"hidden",accept:"image/*"},null,544)]),e("div",Ae,[e("h3",Pe,V(M.value),1),e("p",ze,[u(i(n),{icon:"fluent:mail-24-regular",class:"w-4 h-4"}),S(" "+V(i(p).user?.email||"-"),1)]),e("p",je,[u(i(n),{icon:"fluent:key-24-regular",class:"w-3 h-3"}),S(" "+V(i(p).user?.reference_code||"-"),1)])])])]),e("div",Te,[e("div",Ee,[e("nav",Ne,[(c(),y(I,null,q(D,l=>e("button",{key:l.id,onClick:k=>d.value=l.id,class:E(["flex-1 min-w-max px-6 py-4 text-sm font-medium transition-colors border-b-2",d.value===l.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[e("div",Fe,[u(i(n),{icon:l.icon,class:"w-5 h-5"},null,8,["icon"]),e("span",null,V(l.label),1)])],10,Oe)),64))])]),e("div",Ie,[d.value==="basic"?(c(),y("div",qe,[t[27]||(t[27]=e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},"ข้อมูลพื้นฐาน"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"ข้อมูลที่แสดงให้ผู้อื่นเห็น")],-1)),e("div",Le,[e("div",We,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ชื่อจริง",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.first_name=l),type:"text",class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"ชื่อจริง"},null,512),[[v,a.value.first_name]])]),e("div",De,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"นามสกุล",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.last_name=l),type:"text",class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"นามสกุล"},null,512),[[v,a.value.last_name]])]),e("div",Me,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"เกี่ยวกับฉัน (Bio)",-1)),f(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.bio=l),rows:"4",class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"บอกเล่าเกี่ยวกับตัวคุณ..."},null,512),[[v,a.value.bio]])]),e("div",Re,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ที่อยู่",-1)),e("div",He,[u(i(n),{icon:"fluent:location-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>a.value.location=l),type:"text",class:"pl-10 w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"กรุงเทพมหานคร, ประเทศไทย"},null,512),[[v,a.value.location]])])]),e("div",Je,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"เว็บไซต์",-1)),e("div",Ye,[u(i(n),{icon:"fluent:globe-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.website=l),type:"url",class:"pl-10 w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"https://yourwebsite.com"},null,512),[[v,a.value.website]])])]),e("div",Ge,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"วันเกิด",-1)),f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>a.value.birthdate=l),type:"date",class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[v,a.value.birthdate]])]),e("div",Ke,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"เพศ",-1)),f(e("select",{"onUpdate:modelValue":t[7]||(t[7]=l=>a.value.gender=l),class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[...t[25]||(t[25]=[e("option",{value:"male"},"ชาย",-1),e("option",{value:"female"},"หญิง",-1),e("option",{value:"other"},"อื่นๆ",-1)])],512),[[Z,a.value.gender]])])])])):$("",!0),d.value==="personal"?(c(),y("div",Qe,[t[33]||(t[33]=e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},"ข้อมูลส่วนตัว"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"ข้อมูลติดต่อและที่อยู่ของคุณ")],-1)),e("div",Xe,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"เบอร์โทรศัพท์",-1)),e("div",Ze,[u(i(n),{icon:"fluent:call-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>r.value.phone_number=l),type:"tel",class:"pl-10 w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"08xxxxxxxx"},null,512),[[v,r.value.phone_number]])])]),e("div",et,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ที่อยู่",-1)),e("div",tt,[u(i(n),{icon:"fluent:home-24-regular",class:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),f(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=l=>r.value.address=l),rows:"2",class:"pl-10 w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"บ้านเลขที่, ถนน, แขวง/ตำบล"},null,512),[[v,r.value.address]])])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"เมือง/จังหวัด",-1)),f(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>r.value.city=l),type:"text",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"เมือง/จังหวัด"},null,512),[[v,r.value.city]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"ประเทศ",-1)),f(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>r.value.country=l),type:"text",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"ประเทศ"},null,512),[[v,r.value.country]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"รหัสไปรษณีย์",-1)),f(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>r.value.postal_code=l),type:"text",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"รหัสไปรษณีย์"},null,512),[[v,r.value.postal_code]])])])])):$("",!0),d.value==="professional"?(c(),y("div",rt,[t[40]||(t[40]=e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},"ข้อมูลอาชีพ"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"ข้อมูลการทำงานและทักษะของคุณ")],-1)),e("div",at,[e("div",st,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ตำแหน่งงาน",-1)),e("div",lt,[u(i(n),{icon:"fluent:briefcase-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>o.value.job_title=l),type:"text",class:"pl-10 w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"ตำแหน่งงาน"},null,512),[[v,o.value.job_title]])])]),e("div",ot,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"บริษัท/องค์กร",-1)),e("div",it,[u(i(n),{icon:"fluent:building-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o.value.company=l),type:"text",class:"pl-10 w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"ชื่อบริษัท/องค์กร"},null,512),[[v,o.value.company]])])]),e("div",nt,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"อุตสาหกรรม",-1)),f(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>o.value.industry=l),type:"text",class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"อุตสาหกรรม"},null,512),[[v,o.value.industry]])]),e("div",dt,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ประสบการณ์ (ปี)",-1)),f(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>o.value.experience_years=l),type:"text",class:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"จำนวนปี"},null,512),[[v,o.value.experience_years]])]),e("div",ut,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ทักษะ (คั่นด้วยจุลภาค)",-1)),e("div",ct,[u(i(n),{icon:"fluent:lightbulb-24-regular",class:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),f(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=l=>o.value.skills=l),rows:"3",class:"pl-10 w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:"ทักษะ1, ทักษะ2, ทักษะ3"},null,512),[[v,o.value.skills]])]),t[39]||(t[39]=e("p",{class:"mt-1 text-xs text-gray-500"},"คั่นทักษะแต่ละอย่างด้วยจุลภาค (,)",-1))])])])):$("",!0),e("div",gt,[e("button",{onClick:X,disabled:g.value,class:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg hover:shadow-blue-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"},[g.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize"})):$("",!0),d.value==="basic"?(c(),y("span",ft,"บันทึกข้อมูลพื้นฐาน")):d.value==="personal"?(c(),y("span",bt,"บันทึกข้อมูลส่วนตัว")):d.value==="professional"?(c(),y("span",yt,"บันทึกข้อมูลอาชีพ")):$("",!0)],8,pt)])])])]))}}),vt={class:"space-y-6"},mt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},ht={class:"p-6 border-b border-gray-100 dark:border-gray-700"},kt={class:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2"},wt={class:"p-6"},_t={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$t=["onClick"],Ut={class:"flex items-center gap-3 mb-2"},Ct={class:"font-semibold text-gray-900 dark:text-white"},St={class:"text-sm text-gray-600 dark:text-gray-400"},Bt={key:0,class:"absolute top-3 right-3"},Vt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},At={class:"p-6 border-b border-gray-100 dark:border-gray-700"},Pt={class:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2"},zt={class:"p-6 space-y-4"},jt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},Tt={class:"flex items-center gap-3"},Et={class:"relative inline-flex items-center cursor-pointer"},Nt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},Ot={class:"flex items-center gap-3"},Ft={class:"relative inline-flex items-center cursor-pointer"},It={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},qt={class:"flex items-center gap-3"},Lt={class:"relative inline-flex items-center cursor-pointer"},Wt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},Dt={class:"flex items-center gap-3"},Mt={class:"relative inline-flex items-center cursor-pointer"},Rt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},Ht={class:"p-6 border-b border-gray-100 dark:border-gray-700"},Jt={class:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2"},Yt={class:"p-6 space-y-4"},Gt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},Kt={class:"flex items-center gap-3"},Qt={class:"relative inline-flex items-center cursor-pointer"},Xt={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},Zt={class:"flex items-center gap-3"},er={class:"relative inline-flex items-center cursor-pointer"},tr={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},rr={class:"flex items-center gap-3"},ar={class:"relative inline-flex items-center cursor-pointer"},sr={class:"flex justify-end"},lr=["disabled"],or=z({__name:"PrivacySettings",setup(A){const b=N().public.apiBase,p=j(),g=h(!1),s=h({profile_visibility:"public",show_email:!1,show_phone:!1,show_birthdate:!1,show_location:!1,allow_friend_requests:!0,allow_messages:!0,show_online_status:!0}),m=[{value:"public",label:"สาธารณะ",description:"ทุกคนสามารถดูโปรไฟล์ของคุณได้",icon:"fluent:earth-24-regular",color:"green"},{value:"friends",label:"เฉพาะเพื่อน",description:"เฉพาะเพื่อนที่เท่านั้นที่สามารถดูโปรไฟล์ของคุณได้",icon:"fluent:people-24-regular",color:"blue"},{value:"private",label:"ส่วนตัว",description:"เฉพาะคุณเท่านั้นที่สามารถดูโปรไฟล์ของคุณได้",icon:"fluent:lock-closed-24-regular",color:"red"}];O(async()=>{try{const a=await $fetch(`${b}/api/settings`,{headers:{Authorization:`Bearer ${p.token}`}});if(a.success&&a.data.profile){const r=a.data.profile;s.value={profile_visibility:r.privacy_settings||"public",show_email:r.show_email??!1,show_phone:r.show_phone??!1,show_birthdate:r.show_birthdate??!1,show_location:r.show_location??!1,allow_friend_requests:r.allow_friend_requests??!0,allow_messages:r.allow_messages??!0,show_online_status:r.show_online_status??!0}}}catch(a){console.error("Fetch privacy settings error",a)}});async function d(){g.value=!0;try{(await $fetch(`${b}/api/settings/profile`,{method:"POST",body:{privacy_settings:s.value.profile_visibility,show_email:s.value.show_email,show_phone:s.value.show_phone,show_birthdate:s.value.show_birthdate,show_location:s.value.show_location,allow_friend_requests:s.value.allow_friend_requests,allow_messages:s.value.allow_messages,show_online_status:s.value.show_online_status},headers:{Authorization:`Bearer ${p.token}`}})).success&&w.fire({icon:"success",title:"บันทึกสำเร็จ!",text:"การตั้งค่าความเป็นส่วนตัวถูกอัปเดตแล้ว",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch{w.fire("Error","Update failed","error")}finally{g.value=!1}}return(a,r)=>(c(),y("div",vt,[e("div",mt,[e("div",ht,[e("h3",kt,[u(i(n),{icon:"fluent:eye-24-regular",class:"text-blue-500"}),r[7]||(r[7]=S(" การมองเห็นโปรไฟล์ ",-1))]),r[8]||(r[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"เลือกว่าใครสามารถดูโปรไฟล์ของคุณได้บ้าง",-1))]),e("div",wt,[e("div",_t,[(c(),y(I,null,q(m,o=>e("div",{key:o.value,onClick:_=>s.value.profile_visibility=o.value,class:E(["relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-200",[s.value.profile_visibility===o.value?`border-${o.color}-500 bg-${o.color}-50 dark:bg-${o.color}-900/20`:"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]])},[e("div",Ut,[u(i(n),{icon:o.icon,class:E(["w-6 h-6",`text-${o.color}-500`])},null,8,["icon","class"]),e("span",Ct,V(o.label),1)]),e("p",St,V(o.description),1),s.value.profile_visibility===o.value?(c(),y("div",Bt,[u(i(n),{icon:"fluent:checkmark-circle-24-filled",class:E(`text-${o.color}-500`)},null,8,["class"])])):$("",!0)],10,$t)),64))])])]),e("div",Vt,[e("div",At,[e("h3",Pt,[u(i(n),{icon:"fluent:person-info-24-regular",class:"text-purple-500"}),r[9]||(r[9]=S(" การแสดงข้อมูลส่วนตัว ",-1))]),r[10]||(r[10]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"ควบคุมว่าจะแสดงข้อมูลใดให้ผู้อื่นเห็น",-1))]),e("div",zt,[e("div",jt,[e("div",Tt,[u(i(n),{icon:"fluent:mail-24-regular",class:"text-gray-500 w-5 h-5"}),r[11]||(r[11]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"แสดงอีเมล"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"อนุญาตให้ผู้อื่นเห็นอีเมลของคุณ")],-1))]),e("label",Et,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=o=>s.value.show_email=o),class:"sr-only peer"},null,512),[[P,s.value.show_email]]),r[12]||(r[12]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",Nt,[e("div",Ot,[u(i(n),{icon:"fluent:call-24-regular",class:"text-gray-500 w-5 h-5"}),r[13]||(r[13]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"แสดงเบอร์โทรศัพท์"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"อนุญาตให้ผู้อื่นเห็นเบอร์โทรศัพท์ของคุณ")],-1))]),e("label",Ft,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[1]||(r[1]=o=>s.value.show_phone=o),class:"sr-only peer"},null,512),[[P,s.value.show_phone]]),r[14]||(r[14]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",It,[e("div",qt,[u(i(n),{icon:"fluent:calendar-24-regular",class:"text-gray-500 w-5 h-5"}),r[15]||(r[15]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"แสดงวันเกิด"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"อนุญาตให้ผู้อื่นเห็นวันเกิดของคุณ")],-1))]),e("label",Lt,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=o=>s.value.show_birthdate=o),class:"sr-only peer"},null,512),[[P,s.value.show_birthdate]]),r[16]||(r[16]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",Wt,[e("div",Dt,[u(i(n),{icon:"fluent:location-24-regular",class:"text-gray-500 w-5 h-5"}),r[17]||(r[17]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"แสดงที่อยู่"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"อนุญาตให้ผู้อื่นเห็นที่อยู่ของคุณ")],-1))]),e("label",Mt,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=o=>s.value.show_location=o),class:"sr-only peer"},null,512),[[P,s.value.show_location]]),r[18]||(r[18]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])]),e("div",Rt,[e("div",Ht,[e("h3",Jt,[u(i(n),{icon:"fluent:chat-24-regular",class:"text-green-500"}),r[19]||(r[19]=S(" การตั้งค่าการโต้ตอบ ",-1))]),r[20]||(r[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"ควบคุมว่าผู้อื่นสามารถโต้ตอบกับคุณได้อย่างไร",-1))]),e("div",Yt,[e("div",Gt,[e("div",Kt,[u(i(n),{icon:"fluent:person-add-24-regular",class:"text-gray-500 w-5 h-5"}),r[21]||(r[21]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"อนุญาตคำขอเป็นเพื่อน"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"อนุญาตให้ผู้อื่นส่งคำขอเป็นเพื่อน")],-1))]),e("label",Qt,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[4]||(r[4]=o=>s.value.allow_friend_requests=o),class:"sr-only peer"},null,512),[[P,s.value.allow_friend_requests]]),r[22]||(r[22]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",Xt,[e("div",Zt,[u(i(n),{icon:"fluent:chat-bubble-24-regular",class:"text-gray-500 w-5 h-5"}),r[23]||(r[23]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"อนุญาตข้อความส่วนตัว"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"อนุญาตให้ผู้อื่นส่งข้อความส่วนตัว")],-1))]),e("label",er,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[5]||(r[5]=o=>s.value.allow_messages=o),class:"sr-only peer"},null,512),[[P,s.value.allow_messages]]),r[24]||(r[24]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),e("div",tr,[e("div",rr,[u(i(n),{icon:"fluent:presence-available-24-regular",class:"text-gray-500 w-5 h-5"}),r[25]||(r[25]=e("div",null,[e("p",{class:"font-medium text-gray-900 dark:text-white"},"แสดงสถานะออนไลน์"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"แสดงสถานะออนไลน์ของคุณให้ผู้อื่นเห็น")],-1))]),e("label",ar,[f(e("input",{type:"checkbox","onUpdate:modelValue":r[6]||(r[6]=o=>s.value.show_online_status=o),class:"sr-only peer"},null,512),[[P,s.value.show_online_status]]),r[26]||(r[26]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])]),e("div",sr,[e("button",{onClick:d,disabled:g.value,class:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg hover:shadow-blue-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"},[g.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize"})):$("",!0),r[27]||(r[27]=e("span",null,"บันทึกการตั้งค่าความเป็นส่วนตัว",-1))],8,lr)])]))}}),ir={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},nr={class:"p-6 space-y-6"},dr={class:"md:col-span-3 flex items-center gap-2"},ur={class:"capitalize font-medium text-gray-700 dark:text-gray-300"},cr={class:"md:col-span-9"},gr=["onUpdate:modelValue"],pr={class:"pt-4 flex justify-end"},fr=["disabled"],br=z({__name:"Socials",setup(A){const b=N().public.apiBase,p=j(),g=h(!1),s=h({facebook:"",twitter:"",instagram:"",linkedin:"",youtube:"",github:"",tiktok:""}),m={facebook:"logos:facebook",twitter:"logos:twitter",instagram:"logos:instagram-icon",linkedin:"logos:linkedin-icon",youtube:"logos:youtube-icon",github:"logos:github-icon",tiktok:"logos:tiktok-icon"};O(async()=>{try{const a=await $fetch(`${b}/api/settings`,{headers:{Authorization:`Bearer ${p.token}`}});if(a.success&&a.data.profile){const r=a.data.profile.social_media_links,o=typeof r=="string"?JSON.parse(r):r||{};s.value={...s.value,...o}}}catch{}});async function d(){g.value=!0;try{(await $fetch(`${b}/api/settings/profile`,{method:"POST",body:{social_media_links:s.value},headers:{Authorization:`Bearer ${p.token}`}})).success&&w.fire({icon:"success",title:"Saved!",text:"Social links updated.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch{w.fire("Error","Update failed","error")}finally{g.value=!1}}return(a,r)=>(c(),y("div",ir,[r[1]||(r[1]=e("div",{class:"p-6 border-b border-gray-100 dark:border-gray-700"},[e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Social Networks"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Connect your social profiles")],-1)),e("div",nr,[(c(!0),y(I,null,q(s.value,(o,_)=>(c(),y("div",{key:_,class:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center"},[e("div",dr,[u(i(n),{icon:m[_],class:"w-6 h-6"},null,8,["icon"]),e("span",ur,V(_),1)]),e("div",cr,[f(e("input",{"onUpdate:modelValue":U=>s.value[_]=U,type:"url",placeholder:"Profile URL...",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-blue-500 transition-all text-sm"},null,8,gr),[[v,s.value[_]]])])]))),128)),e("div",pr,[e("button",{onClick:d,disabled:g.value,class:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg hover:shadow-blue-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"},[g.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize"})):$("",!0),r[0]||(r[0]=S(" Save Social Links ",-1))],8,fr)])])]))}}),yr={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},xr={class:"p-6 border-b border-gray-100 dark:border-gray-700 bg-red-50/50 dark:bg-red-900/10"},vr={class:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2"},mr={class:"p-6 space-y-6"},hr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},kr={class:"pt-4 flex justify-end"},wr=["disabled"],_r=z({__name:"Security",setup(A){const b=N().public.apiBase,p=j(),g=h(!1),s=h({current_password:"",password:"",password_confirmation:""});async function m(){if(s.value.password!==s.value.password_confirmation){w.fire("Error","New passwords do not match","error");return}g.value=!0;try{(await $fetch(`${b}/api/settings/password`,{method:"POST",body:s.value,headers:{Authorization:`Bearer ${p.token}`}})).success&&(w.fire("Success","Password updated successfully","success"),s.value={current_password:"",password:"",password_confirmation:""})}catch(d){w.fire("Error",d.response?._data?.message||"Update failed","error")}finally{g.value=!1}}return(d,a)=>(c(),y("div",yr,[e("div",xr,[e("h3",vr,[u(i(n),{icon:"fluent:shield-lock-24-filled",class:"text-red-500"}),a[3]||(a[3]=S(" Security & Password ",-1))]),a[4]||(a[4]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ensure your account is using a strong password",-1))]),e("div",mr,[e("div",null,[a[5]||(a[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Current Password",-1)),f(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>s.value.current_password=r),type:"password",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-red-500"},null,512),[[v,s.value.current_password]])]),e("div",hr,[e("div",null,[a[6]||(a[6]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"New Password",-1)),f(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>s.value.password=r),type:"password",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-red-500"},null,512),[[v,s.value.password]])]),e("div",null,[a[7]||(a[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Confirm New Password",-1)),f(e("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>s.value.password_confirmation=r),type:"password",class:"w-full rounded-xl border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-red-500"},null,512),[[v,s.value.password_confirmation]])])]),e("div",kr,[e("button",{onClick:m,disabled:g.value,class:"px-6 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium shadow-lg hover:shadow-red-500/30 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"},[g.value?(c(),C(i(n),{key:0,icon:"svg-spinners:ring-resize"})):$("",!0),a[8]||(a[8]=e("span",null,"Update Password",-1))],8,wr)])])]))}}),$r={class:"max-w-7xl mx-auto py-8 px-4"},Ur={class:"mb-6"},Cr={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2"},Sr={class:"flex flex-col lg:flex-row gap-6"},Br={class:"lg:w-1/4"},Vr={class:"sticky top-24"},Ar={class:"lg:w-3/4"},Pr={key:"account"},zr={key:"profile"},jr={key:"privacy"},Tr={key:"socials"},Er={key:"security"},Nr=z({__name:"settings",setup(A){ee({title:"ตั้งค่าโปรไฟล์"});const B=te(),b=re(),p=j(),g=F(()=>B.params.reference_code),s=F(()=>p.user?.reference_code===g.value);O(()=>{s.value||b.replace(`/profile/${g.value}`)}),ae(()=>B.params.reference_code,d=>{d&&p.user?.reference_code!==d&&b.replace(`/profile/${d}`)});const m=h("profile");return(d,a)=>(c(),y("div",$r,[e("div",Ur,[e("h2",Cr,[u(i(n),{icon:"fluent:settings-24-regular",class:"w-5 h-5 text-blue-500"}),a[1]||(a[1]=S(" จัดการข้อมูลและการตั้งค่าบัญชี ",-1))]),a[2]||(a[2]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," แก้ไขข้อมูลส่วนตัว ความเป็นส่วนตัว และการตั้งค่าความปลอดภัย ",-1))]),e("div",Sr,[e("div",Br,[e("div",Vr,[u(pe,{"active-tab":m.value,"onUpdate:activeTab":a[0]||(a[0]=r=>m.value=r)},null,8,["active-tab"])])]),e("div",Ar,[u(le,{name:"fade",mode:"out-in"},{default:se(()=>[m.value==="account"?(c(),y("div",Pr,[u(ke)])):m.value==="profile"?(c(),y("div",zr,[u(xt)])):m.value==="privacy"?(c(),y("div",jr,[u(or)])):m.value==="socials"?(c(),y("div",Tr,[u(br)])):m.value==="security"?(c(),y("div",Er,[u(_r)])):$("",!0)]),_:1})])])]))}}),Ir=oe(Nr,[["__scopeId","data-v-c11c0a98"]]);export{Ir as default};
