import{_ as I}from"./DROJGjoa.js";import{q as B,v as R,ay as j,l as O,r as x,n as b,z as T,C as U,c as d,o,b as n,a as e,w as c,d as h,a1 as C,u as s,I as r,F as V,k as W,g as E,t as p,T as w,e as y,S as D,K as F,_ as M}from"./CHs-R6Sv.js";import{_ as q}from"./3QJUtkDr.js";const K={class:"min-h-screen bg-gray-100 dark:bg-gray-900"},P={class:"flex items-center justify-between h-16 px-4 border-b border-white/10"},G={key:0,class:"text-white font-bold text-lg"},H={class:"flex-1 p-4 space-y-1 overflow-y-auto max-h-[calc(100vh-8rem)]"},J={key:0,class:"font-medium"},Q={class:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/10"},X={key:0,class:"font-medium"},Y={class:"sticky top-0 z-30 bg-white dark:bg-gray-800 shadow-sm"},Z={class:"flex items-center justify-between h-16 px-4 lg:px-6"},ee={class:"flex items-center gap-4"},te={class:"flex items-center gap-3"},ne={class:"relative p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},ae={class:"relative"},se=["src","alt"],re={class:"hidden sm:block text-sm font-medium text-gray-700 dark:text-gray-200"},oe={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50"},le={class:"px-4 py-2 border-b border-gray-100 dark:border-gray-700"},ie={class:"text-sm font-medium text-gray-800 dark:text-white"},ue={class:"text-xs text-gray-500"},de={class:"p-4 lg:p-6"},ce=B({__name:"NuxnanAdminLayout",setup(ge){R();const _=j(),v=O();x(!0);const l=x(!1),i=x(!1),f=x(!1),g=b(()=>v.user),A=b(()=>v.user?.is_super_admin===!0),N=[{name:"แดชบอร์ด",icon:"fluent:grid-24-regular",href:"/nuxnan-admin",exact:!0},{name:"จัดการผู้ใช้",icon:"fluent:people-24-regular",href:"/nuxnan-admin/users"},{name:"จัดการคอร์ส",icon:"fluent:hat-graduation-24-regular",href:"/nuxnan-admin/courses"},{name:"จัดการอะคาเดมี",icon:"fluent:building-24-regular",href:"/nuxnan-admin/academies"},{name:"จัดการเนื้อหา",icon:"fluent:document-24-regular",href:"/nuxnan-admin/content"},{name:"จัดการ Points",icon:"fluent:coin-stack-24-regular",href:"/nuxnan-admin/points"},{name:"จัดการ Wallet",icon:"fluent:wallet-24-regular",href:"/nuxnan-admin/wallet"},{name:"จัดการการสนับสนุน",icon:"fluent:gift-24-regular",href:"/nuxnan-admin/supports"},{name:"จัดการคูปอง",icon:"fluent:ticket-diagonal-24-regular",href:"/nuxnan-admin/coupons"},{name:"รายงาน",icon:"fluent:data-pie-24-regular",href:"/nuxnan-admin/reports"},{name:"ตั้งค่าระบบ",icon:"fluent:settings-24-regular",href:"/nuxnan-admin/settings",superAdminOnly:!0}],z=b(()=>N.filter(u=>!(u.superAdminOnly&&!A.value))),S=u=>u.exact?_.path===u.href:_.path.startsWith(u.href),L=()=>{window.innerWidth<1024?i.value=!i.value:l.value=!l.value},$=async()=>{await v.logout(),F("/nuxnan-admin/login")},k=()=>{window.innerWidth>=1024&&(i.value=!1)};return T(()=>{window.addEventListener("resize",k)}),U(()=>{window.removeEventListener("resize",k)}),(u,t)=>{const m=I;return o(),d("div",K,[n(C,{name:"fade"},{default:c(()=>[i.value?(o(),d("div",{key:0,class:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t[0]||(t[0]=a=>i.value=!1)})):h("",!0)]),_:1}),e("aside",{class:w(["fixed top-0 left-0 z-50 h-full bg-gradient-to-b from-indigo-900 via-purple-900 to-indigo-900 transition-all duration-300",l.value?"w-20":"w-64",i.value?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[e("div",P,[n(m,{to:"/nuxnan-admin",class:"flex items-center gap-3"},{default:c(()=>[t[5]||(t[5]=e("div",{class:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg"},[e("img",{src:q,alt:"Logo",class:"w-6 h-6"})],-1)),l.value?h("",!0):(o(),d("span",G," Nuxnan Admin "))]),_:1}),e("button",{onClick:t[1]||(t[1]=a=>i.value=!1),class:"lg:hidden text-white/70 hover:text-white"},[n(s(r),{icon:"fluent:dismiss-24-regular",class:"w-6 h-6"})])]),e("nav",H,[(o(!0),d(V,null,W(z.value,a=>(o(),E(m,{key:a.href,to:a.href,class:w(["flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200",S(a)?"bg-white/20 text-white shadow-lg":"text-white/70 hover:bg-white/10 hover:text-white"])},{default:c(()=>[n(s(r),{icon:a.icon,class:"w-5 h-5 flex-shrink-0"},null,8,["icon"]),l.value?h("",!0):(o(),d("span",J,p(a.name),1))]),_:2},1032,["to","class"]))),128))]),e("div",Q,[n(m,{to:"/",class:"flex items-center gap-3 px-3 py-2.5 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all"},{default:c(()=>[n(s(r),{icon:"fluent:arrow-left-24-regular",class:"w-5 h-5"}),l.value?h("",!0):(o(),d("span",X,"กลับหน้าหลัก"))]),_:1})])],2),e("div",{class:w(["transition-all duration-300",l.value?"lg:ml-20":"lg:ml-64"])},[e("header",Y,[e("div",Z,[e("div",ee,[e("button",{onClick:L,class:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[n(s(r),{icon:"fluent:navigation-24-regular",class:"w-6 h-6"})]),t[6]||(t[6]=e("h1",{class:"text-lg font-semibold text-gray-800 dark:text-white hidden sm:block"}," ระบบจัดการ Nuxnan ",-1))]),e("div",te,[e("button",ne,[n(s(r),{icon:"fluent:alert-24-regular",class:"w-6 h-6"}),t[7]||(t[7]=e("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},null,-1))]),e("div",ae,[e("button",{onClick:t[2]||(t[2]=a=>f.value=!f.value),class:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[e("img",{src:g.value?.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(g.value?.name||"Admin")}&background=6366f1&color=fff`,alt:g.value?.name,class:"w-8 h-8 rounded-full object-cover"},null,8,se),e("span",re,p(g.value?.name||"Admin"),1),n(s(r),{icon:"fluent:chevron-down-24-regular",class:"w-4 h-4 text-gray-500"})]),n(C,{name:"dropdown"},{default:c(()=>[f.value?(o(),d("div",oe,[e("div",le,[e("p",ie,p(g.value?.name),1),e("p",ue,p(g.value?.email),1)]),n(m,{to:"/nuxnan-admin/profile",class:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:t[3]||(t[3]=a=>f.value=!1)},{default:c(()=>[n(s(r),{icon:"fluent:person-24-regular",class:"w-4 h-4"}),t[8]||(t[8]=y(" โปรไฟล์ ",-1))]),_:1}),n(m,{to:"/nuxnan-admin/settings",class:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:t[4]||(t[4]=a=>f.value=!1)},{default:c(()=>[n(s(r),{icon:"fluent:settings-24-regular",class:"w-4 h-4"}),t[9]||(t[9]=y(" ตั้งค่า ",-1))]),_:1}),t[11]||(t[11]=e("hr",{class:"my-1 border-gray-100 dark:border-gray-700"},null,-1)),e("button",{onClick:$,class:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"},[n(s(r),{icon:"fluent:sign-out-24-regular",class:"w-4 h-4"}),t[10]||(t[10]=y(" ออกจากระบบ ",-1))])])):h("",!0)]),_:1})])])])]),e("main",de,[D(u.$slots,"default",{},void 0,!0)])],2)])}}}),xe=M(ce,[["__scopeId","data-v-3e6bb3fc"]]);export{xe as default};
