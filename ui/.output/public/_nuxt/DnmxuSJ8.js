import{r as C}from"./DX2fB3Es.js";import b from"./QbPHyIzg.js";import{C as k}from"./DWFVHGWL.js";import{Y as P}from"./C4XQ3lTj.js";import{C as L}from"./DBL-rPUT.js";import{_ as $,c as n,o as e,a,r,g as p,w as j,d as _,b as l,t as B,F as g,k as v,u as N}from"./DvtEeXFW.js";import"./D465NmR9.js";import"./0NabHjdI.js";import"./DJsVOgax.js";import"./Cpj98o6Y.js";import"./BvQ5DSdH.js";import"./BK8d4xn5.js";import"./CR63af46.js";const V={},D={class:"fixed inset-0 bg-white/80 z-50 flex items-center justify-center"};function E(u,s){return e(),n("div",D,[...s[0]||(s[0]=[a("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"},null,-1)])])}const F=$(V,[["render",E]]),M={class:"p-4 my-4 bg-white shadow-lg section-header rounded-xl"},z={class:"section-header-info"},I={class:"section-title font-prompt"},O={class:"flex flex-wrap justify-between gap-4"},R={key:1,class:"flex flex-wrap justify-between gap-4"},ee={__name:"Courses",props:{courses:Object},setup(u){const s=u,i=r(!1),c=r(1),h=r(s.courses.meta.last_page),d=r(s.courses.data),f=r(!1);async function w(){try{if(c.value++,c.value<=h.value){i.value=!0;let t=await axios.get("/api/courses?page="+c.value);t.data.success&&t.data.courses.forEach(m=>{d.value.push(m)}),i.value=!1}}catch{i.value=!1}}const x=t=>{f.value=!0,C.visit(`/courses/${t}`)};return(t,m)=>(e(),p(b,{coursePageTitle:"รายวิชาทั้งหมด"},{coursesMainContent:j(()=>[f.value?(e(),p(F,{key:0})):_("",!0),a("div",M,[a("div",z,[a("h2",I," รายวิชาของฉัน "+B(" "+s.courses.meta.total+" วิชา"||"ยังไม่มีรายวิชา"),1)])]),a("div",O,[(e(!0),n(g,null,v(d.value,(o,y)=>(e(),n("div",{key:y,class:"w-full sm:w-[48%]"},[l(k,{course:o,onLoadingPage:S=>x(o.id)},null,8,["course","onLoadingPage"])]))),128))]),i.value?(e(),n("div",R,[(e(),n(g,null,v(2,o=>a("div",{key:o,class:"mt-4 w-full sm:w-[48%]"},[l(L)])),64))])):_("",!0),l(N(P),{onDistance:o=>1,onInfinite:w})]),_:1}))}};export{ee as default};
