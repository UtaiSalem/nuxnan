import{C as _}from"./F_wyaQTK.js";import{_ as C}from"./0NabHjdI.js";import{a as r}from"./B9ygI19o.js";import{am as v,n as k,an as $,c as d,a,b as i,u as c,F as m,k as y,w as F,o as n,I as l,g as A,e as D}from"./DvtEeXFW.js";import{u as T}from"./CkUul0kG.js";import"./CSfkmZfu.js";const B={async getCourse(e){return(await r.get(`/api/courses/${e}`)).data},async getCourses(e={}){return(await r.get("/api/courses",{params:e})).data},async getFavoriteCourses(e={}){return(await r.get("/api/courses/favorites",{params:e})).data},async createCourse(e){return(await r.post("/api/courses",e)).data},async updateCourse(e,s){return(await r.patch(`/api/courses/${e}`,s)).data},async deleteCourse(e){return(await r.delete(`/api/courses/${e}`)).data},async toggleFavorite(e){return(await r.post(`/api/courses/${e}/favorite`)).data},async updateCourseCover(e,s){const t=new FormData;return t.append("cover",s),t.append("_method","PATCH"),(await r.post(`/courses/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},async updateCourseLogo(e,s){const t=new FormData;return t.append("logo",s),t.append("_method","PATCH"),(await r.post(`/courses/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},async updateCourseHeader(e,s){return(await r.patch(`/courses/${e}`,{name:s})).data},async updateCourseSubheader(e,s){return(await r.patch(`/courses/${e}`,{code:s})).data},async requestMembership(e,s=null){return(await r.post(`/courses/${e}/members`,{group_id:s})).data},async cancelMembership(e,s){return(await r.delete(`/courses/${e}/members/${s}`)).data},async getCourseMembers(e,s={}){return(await r.get(`/courses/${e}/members`,{params:s})).data},async updateMemberStatus(e,s,t){return(await r.patch(`/courses/${e}/members/${s}`,{status:t})).data},async getCourseGroups(e){return(await r.get(`/courses/${e}/groups`)).data},async createCourseGroup(e,s){return(await r.post(`/courses/${e}/groups`,s)).data},async updateCourseGroup(e,s,t){return(await r.patch(`/courses/${e}/groups/${s}`,t)).data},async deleteCourseGroup(e,s){return(await r.delete(`/courses/${e}/groups/${s}`)).data}},G={class:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-12"},M={class:"container mx-auto px-4 py-8"},N={class:"flex items-center justify-between mb-8"},j={class:"flex items-center gap-3"},H={class:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg"},L={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},S={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},V={key:2,class:"flex flex-col items-center justify-center py-20 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700"},I={class:"inline-flex items-center justify-center w-16 h-16 bg-red-50 dark:bg-red-900/10 rounded-full mb-4"},Q={__name:"favourite",async setup(e){let s,t;const{data:u,pending:b,refresh:w}=([s,t]=v(()=>T("favoriteCourses",()=>B.getFavoriteCourses())),s=await s,t(),s),g=k(()=>u.value?.data||[]);return $(()=>{w()}),(P,o)=>{const x=_,h=C;return n(),d("div",G,[a("div",M,[a("div",N,[a("div",j,[a("div",H,[i(c(l),{icon:"fluent:heart-24-filled",class:"text-red-500 w-6 h-6"})]),o[0]||(o[0]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"รายการโปรดของฉัน"),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"คอร์สที่คุณบันทึกไว้เพื่อดูภายหลัง")],-1))])]),c(b)?(n(),d("div",L,[(n(),d(m,null,y(4,p=>a("div",{key:p,class:"bg-white dark:bg-gray-800 rounded-xl h-[340px] animate-pulse shadow-sm p-4"},[...o[1]||(o[1]=[a("div",{class:"h-40 bg-gray-200 dark:bg-gray-700 rounded-lg mb-4"},null,-1),a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"},null,-1),a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"},null,-1)])])),64))])):c(g).length>0?(n(),d("div",S,[(n(!0),d(m,null,y(c(g),(p,f)=>(n(),A(x,{key:p.id,course:p,index:f,class:"h-full"},null,8,["course","index"]))),128))])):(n(),d("div",V,[a("div",I,[i(c(l),{icon:"fluent:heart-broken-24-regular",class:"w-8 h-8 text-red-500/50"})]),o[3]||(o[3]=a("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-1"},"ยังไม่มีคอร์สในรายการโปรด",-1)),o[4]||(o[4]=a("p",{class:"text-gray-500 text-sm mb-6 text-center max-w-sm"}," กดหัวใจที่คอร์สที่คุณสนใจเพื่อเก็บไว้ดูภายหลัง ",-1)),i(h,{to:"/courses",class:"inline-flex items-center gap-2 px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium shadow-lg shadow-blue-500/30"},{default:F(()=>[i(c(l),{icon:"fluent:compass-northwest-20-filled"}),o[2]||(o[2]=D(" สำรวจคอร์สเรียน ",-1))]),_:1})]))])])}}};export{Q as default};
