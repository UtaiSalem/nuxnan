import{_ as v}from"./ChBnuzYQ.js";import{q as y,p as b,r as x,z as w,c as n,a as e,b as a,w as p,$ as k,u as o,aa as B,d as $,F as C,k as N,aH as V,o as i,e as h,I as r,t as d}from"./cTealXVQ.js";const j={class:"space-y-6"},F={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},L={class:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700"},z={class:"flex gap-4"},A={class:"flex-1 relative"},D={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},I={key:0,class:"p-8 text-center"},M={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4"},T={class:"flex items-start gap-4"},q=["src","alt"],E={class:"flex-1 min-w-0"},H={class:"font-semibold text-gray-800 dark:text-white line-clamp-1"},Q={class:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mt-1"},R={class:"flex items-center gap-4 mt-2 text-xs text-gray-500"},S={class:"flex items-center gap-1"},U={class:"flex items-center gap-1"},G={class:"flex justify-end gap-2 mt-4"},J={key:0,class:"col-span-full p-8 text-center"},X=y({__name:"index",setup(K){const f=b().public.apiBase,c=x([]),g=x(!0),m=x(""),_=async()=>{g.value=!0;try{const l=V("token"),t=await $fetch(`${f}/api/admin/academies`,{headers:{Authorization:`Bearer ${l.value}`}});t.success&&(c.value=t.data.data||t.data)}catch(l){console.error("Failed to fetch academies:",l)}finally{g.value=!1}};return w(()=>{_()}),(l,t)=>{const u=v;return i(),n("div",j,[e("div",F,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-800 dark:text-white"},"จัดการอะคาเดมี"),e("p",{class:"text-gray-500 dark:text-gray-400 mt-1"},"จัดการอะคาเดมีทั้งหมดในระบบ")],-1)),a(u,{to:"/nuxnan-admin/academies/create",class:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-xl text-white transition-colors"},{default:p(()=>[a(o(r),{icon:"fluent:add-24-regular",class:"w-5 h-5"}),t[1]||(t[1]=h(" สร้างอะคาเดมีใหม่ ",-1))]),_:1})]),e("div",L,[e("div",z,[e("div",A,[a(o(r),{icon:"fluent:search-24-regular",class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s),type:"text",placeholder:"ค้นหาอะคาเดมี...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl text-gray-800 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512),[[B,m.value]])])])]),e("div",D,[g.value?(i(),n("div",I,[a(o(r),{icon:"fluent:spinner-ios-20-regular",class:"w-8 h-8 text-indigo-600 animate-spin mx-auto"}),t[3]||(t[3]=e("p",{class:"text-gray-500 mt-2"},"กำลังโหลดข้อมูล...",-1))])):(i(),n("div",M,[(i(!0),n(C,null,N(c.value,s=>(i(),n("div",{key:s.id,class:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 hover:shadow-md transition-shadow"},[e("div",T,[e("img",{src:s.logo||"/storage/images/default-academy.jpg",alt:s.name,class:"w-16 h-16 rounded-xl object-cover"},null,8,q),e("div",E,[e("h3",H,d(s.name),1),e("p",Q,d(s.description),1),e("div",R,[e("span",S,[a(o(r),{icon:"fluent:book-24-regular",class:"w-4 h-4"}),h(" "+d(s.courses_count||0)+" คอร์ส ",1)]),e("span",U,[a(o(r),{icon:"fluent:people-24-regular",class:"w-4 h-4"}),h(" "+d(s.members_count||0)+" สมาชิก ",1)])])])]),e("div",G,[a(u,{to:`/nuxnan-admin/academies/${s.id}`,class:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors"},{default:p(()=>[a(o(r),{icon:"fluent:eye-24-regular",class:"w-5 h-5"})]),_:1},8,["to"]),a(u,{to:`/nuxnan-admin/academies/${s.id}/edit`,class:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors"},{default:p(()=>[a(o(r),{icon:"fluent:edit-24-regular",class:"w-5 h-5"})]),_:1},8,["to"])])]))),128)),c.value.length===0?(i(),n("div",J,[a(o(r),{icon:"fluent:building-24-regular",class:"w-12 h-12 text-gray-300 mx-auto"}),t[4]||(t[4]=e("p",{class:"text-gray-500 mt-2"},"ไม่พบอะคาเดมี",-1))])):$("",!0)]))])])}}});export{X as default};
