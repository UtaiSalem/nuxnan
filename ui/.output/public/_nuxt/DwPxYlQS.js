import{a as p,r as b}from"./DX2fB3Es.js";import{r as o,g as k,w as P,o as t,c as r,d as m,a as s,b as n,u as g,I as L,t as $,F as v,k as h}from"./DvtEeXFW.js";import j from"./QbPHyIzg.js";import{C as B}from"./DWFVHGWL.js";import{Y as I}from"./C4XQ3lTj.js";import{C as N}from"./DBL-rPUT.js";import"./D465NmR9.js";import"./0NabHjdI.js";import"./DJsVOgax.js";import"./Cpj98o6Y.js";import"./BvQ5DSdH.js";import"./BK8d4xn5.js";import"./CR63af46.js";const V={key:0,class:"fixed top-0 left-0 z-20 flex items-center justify-center w-full h-full modal"},z={class:"flex items-center justify-center h-64"},D={class:"p-4 my-4 bg-white shadow-lg section-header rounded-xl"},E={class:"section-header-info"},F={class:"section-title font-prompt"},M={class:"flex flex-wrap justify-between gap-4"},O={key:1,class:"flex flex-wrap justify-between gap-4"},Z={__name:"UserCourses",props:{courses:Object},setup(_){const u=_,d=o(u.courses.data.filter(e=>e.user.id!=p().props.auth.user.id)),i=o(!1),f=o(!1),c=o(1),w=o(u.courses.meta.last_page),y=async()=>{try{if(c.value++,c.value<=w.value){i.value=!0;let e=await axios.get(`/api/courses/users/${p().props.auth.user.id}/membered?page=${c.value}`);e.data.success&&e.data.courses.forEach(l=>{d.value.push(l)})}i.value=!1}catch{i.value=!1}},x=e=>{f.value=!0,b.visit(`/courses/${e}`)};return(e,l)=>(t(),k(j,{coursePageTitle:"รายวิชาของฉัน"},{coursesMainContent:P(()=>[f.value?(t(),r("div",V,[l[0]||(l[0]=s("div",{class:"absolute w-full h-full bg-gray-900 opacity-75 modal-overlay"},null,-1)),s("div",z,[n(g(L),{icon:"svg-spinners:bars-rotate-fade",class:"z-30 w-32 h-32 text-white"})])])):m("",!0),s("div",D,[s("div",E,[s("h2",F," รายวิชาของฉัน "+$(" "+u.courses.meta.total+" วิชา"||"ยังไม่มีรายวิชา"),1)])]),s("div",M,[(t(!0),r(v,null,h(d.value,(a,C)=>(t(),r("div",{key:C,class:"w-full sm:w-[48%]"},[n(B,{course:a,onLoadingPage:R=>x(a.id)},null,8,["course","onLoadingPage"])]))),128))]),i.value?(t(),r("div",O,[(t(),r(v,null,h(2,a=>s("div",{key:a,class:"mt-4 w-full sm:w-[48%]"},[n(N)])),64))])):m("",!0),n(g(I),{onDistance:a=>1,onInfinite:y})]),_:1}))}};export{Z as default};
