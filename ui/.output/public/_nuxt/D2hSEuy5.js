import{q as w,v as k,o as a,c as n,a as t,T as C,t as r,d as u,b as l,u as c,I as i,e as f,a7 as _,p,_ as B}from"./Brb_7992.js";const j={class:"relative h-44 overflow-hidden bg-gray-100 dark:bg-gray-700 flex-shrink-0"},T=["src","alt"],I={key:1,class:"absolute bottom-3 left-3 px-2 py-1 bg-yellow-500 text-gray-900 rounded text-xs font-bold flex items-center gap-1"},N={key:0,class:"text-gray-700"},V={class:"p-4 flex flex-col flex-grow"},S={class:"flex items-center justify-between mb-3"},$={key:0,class:"flex items-center gap-2"},z=["src","alt"],D={class:"min-w-0"},F={class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[100px]"},H={class:"text-xs text-blue-500 truncate max-w-[100px]"},M={class:"flex items-center gap-1 text-gray-700 dark:text-gray-300 font-bold"},R={class:"text-gray-800 dark:text-white font-bold mb-3 line-clamp-2 group-hover:text-blue-500 transition-colors flex-grow"},q={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 pt-3 border-t border-gray-100 dark:border-gray-700 mt-auto"},A={class:"flex items-center gap-1"},E={class:"flex items-center gap-1"},G={key:0,class:"mt-3"},L={class:"space-y-2"},P={class:"flex items-center justify-between text-xs font-medium"},U={class:"text-green-600 dark:text-green-400 flex items-center gap-1"},W={class:"text-gray-500"},J={class:"h-1.5 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden"},K={key:1,class:"mt-3 w-full py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2 group-hover:bg-blue-700"},O=w({__name:"CourseCard",props:{course:{},index:{}},emits:["loading-page"],setup(e,{emit:x}){const h=x;k();const g=p(),m=s=>s.cover?s.cover.startsWith("http")?s.cover:`${g.public.apiBase}/storage/images/courses/covers/${s.cover}`:`${g.public.apiBase}/storage/images/courses/covers/default_cover.jpg`,b=s=>s.user?.avatar||"/images/default-avatar.png",v=s=>new Intl.NumberFormat("th-TH").format(s||0),d=(s,o)=>o===void 0?null:s.enrolled_students>50?"bestseller":o<3?"trending":null,y=()=>{h("loading-page")};return(s,o)=>(a(),n("div",{class:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer group h-full flex flex-col",onClick:y},[t("div",j,[t("img",{src:m(e.course),alt:e.course.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,T),d(e.course,e.index??0)?(a(),n("div",{key:0,class:C(["absolute top-3 left-3 px-3 py-1 text-white text-xs font-bold rounded shadow-lg",d(e.course,e.index??0)==="bestseller"?"bg-blue-500":"bg-orange-500"])},r(d(e.course,e.index??0)==="bestseller"?"Best Seller":"Trending"),3)):u("",!0),e.course.rating?(a(),n("div",I,[l(c(i),{icon:"fluent:star-16-filled",class:"w-3 h-3"}),t("span",null,r(typeof e.course.rating=="number"?e.course.rating.toFixed(1):e.course.rating),1),e.course.reviews_count?(a(),n("span",N,"("+r(e.course.reviews_count)+")",1)):u("",!0)])):u("",!0)]),t("div",V,[t("div",S,[e.course.user?(a(),n("div",$,[t("img",{src:b(e.course),alt:e.course.user.name,class:"w-8 h-8 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600"},null,8,z),t("div",D,[t("p",F," By: "+r(e.course.user.name),1),t("p",H,r(e.course.category||"General"),1)])])):u("",!0),t("div",M,[l(c(i),{icon:"ri:bit-coin-line",class:"w-5 h-5 text-yellow-500"}),t("span",null,r(v(e.course.price)),1)])]),t("h3",R,r(e.course.name),1),t("div",q,[t("div",A,[l(c(i),{icon:"fluent:book-open-16-regular",class:"w-4 h-4"}),t("span",null,r(e.course.lessons_count||20)+" Lectures",1)]),t("div",E,[l(c(i),{icon:"fluent:clock-16-regular",class:"w-4 h-4"}),t("span",null,r(e.course.hours||20)+"Hrs",1)])]),e.course.isMember?(a(),n("div",G,[t("div",L,[t("div",P,[t("span",U,[l(c(i),{icon:"fluent:hat-graduation-16-filled"}),o[0]||(o[0]=f(" Student ",-1))]),t("span",W,r(Math.round(e.course.auth_progress||0))+"%",1)]),t("div",J,[t("div",{class:"h-full bg-green-500 rounded-full transition-all duration-500",style:_({width:`${e.course.auth_progress||0}%`})},null,4)])])])):(a(),n("button",K,[o[1]||(o[1]=f(" View Details ",-1)),l(c(i),{icon:"fluent:arrow-right-16-regular",class:"w-4 h-4"})]))])]))}}),X=B(O,[["__scopeId","data-v-4e52d0f3"]]);export{X as C};
