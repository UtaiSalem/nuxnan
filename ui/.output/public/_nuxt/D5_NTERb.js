import $ from"./C9_48ukM.js";import{_ as A,c as s,o as t,h as I,a as e,t as l,n as f,b as r,e as g,u as m,I as u,d as w,F as v,k as b,r as y,z as k,w as h,g as j}from"./CHs-R6Sv.js";import{L}from"./BlK27fKQ.js";import"./BQxta0Da.js";import"./BLVhfM2G.js";import"./DROJGjoa.js";import"./DJsVOgax.js";import"./Cpj98o6Y.js";import"./C6kxWCFL.js";import"./3QJUtkDr.js";import"./o5TVmNQv.js";import"./BqoYaAWO.js";import"./DI_pZzms.js";const N={},S={class:"bg-white p-4 shadow rounded-lg space-y-4 animate-pulse"};function P(n,d){return t(),s("div",S,[...d[0]||(d[0]=[I('<div class="flex space-x-4"><div class="rounded-full bg-slate-200 h-10 w-10"></div><div class="flex-1 space-y-2 py-1"><div class="h-4 bg-slate-200 rounded w-3/4"></div><div class="h-4 bg-slate-200 rounded"></div></div></div>',1)])])}const V=A(N,[["render",P]]),W={class:"bg-white p-4 shadow rounded mb-4"},B={__name:"CreateAcademyPost",props:{academy_id:Number},setup(n){return(d,i)=>(t(),s("div",W,[...i[0]||(i[0]=[e("textarea",{class:"w-full border rounded p-2",placeholder:"Write something to the academy..."},null,-1),e("div",{class:"flex justify-end mt-2"},[e("button",{class:"bg-blue-500 text-white px-4 py-2 rounded"},"Post")],-1)])]))}},C={class:"bg-white p-4 shadow rounded mb-4"},O={class:"flex items-center mb-2"},q={class:"font-bold"},E={__name:"AcademyPostViewer",props:{activity:Object},setup(n){return(d,i)=>(t(),s("div",C,[e("div",O,[e("div",q,l(n.activity.actor?.name||"User"),1)]),e("p",null,l(n.activity.data?.content||"Post content placeholder"),1)]))}},z={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},D={class:"p-5 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/50"},F={class:"font-bold text-gray-900 dark:text-white flex items-center gap-2"},M={class:"p-5 space-y-4"},T={class:"mt-2 text-gray-700 dark:text-gray-300 text-sm leading-relaxed"},U={class:"grid grid-cols-2 gap-4"},G={class:"flex items-center gap-2 mb-1"},H={class:"text-xs font-medium text-indigo-700 dark:text-indigo-300"},J={class:"text-xl font-bold text-indigo-900 dark:text-indigo-100"},K={key:0,class:"pt-2"},Q={class:"flex gap-2 text-sm text-gray-600 dark:text-gray-400 leading-snug"},R={__name:"AcademyInfoWidget",props:{academy:{type:Object,required:!0}},setup(n){const d=n,i=f(()=>d.academy?.data||d.academy||{}),c=f(()=>[{label:"สมาชิก",value:i.value.total_students||0,icon:"heroicons:users"},{label:"รายวิชา",value:i.value.courses_offered||0,icon:"heroicons:academic-cap"}]);return(_,o)=>(t(),s("div",z,[e("div",D,[e("h3",F,[r(m(u),{icon:"heroicons:information-circle",class:"w-5 h-5 text-indigo-500"}),o[0]||(o[0]=g(" ข้อมูลโรงเรียน ",-1))])]),e("div",M,[e("div",null,[o[1]||(o[1]=e("h4",{class:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"เกี่ยวกับโรงเรียน",-1)),e("p",T,l(i.value.description||"ไม่มีคำอธิบายเพิ่มเติม"),1)]),e("div",U,[(t(!0),s(v,null,b(c.value,a=>(t(),s("div",{key:a.label,class:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-xl border border-indigo-100 dark:border-indigo-800/30"},[e("div",G,[r(m(u),{icon:a.icon,class:"w-4 h-4 text-indigo-600 dark:text-indigo-400"},null,8,["icon"]),e("span",H,l(a.label),1)]),e("div",J,l(a.value),1)]))),128))]),i.value.address?(t(),s("div",K,[o[2]||(o[2]=e("h4",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2"},"ที่ตั้งพระเอก",-1)),e("div",Q,[r(m(u),{icon:"heroicons:map-pin",class:"w-4 h-4 shrink-0 text-gray-400 mt-0.5"}),e("span",null,l(i.value.address),1)])])):w("",!0)])]))}},X={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},Y={class:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center"},Z={class:"font-bold text-gray-900 dark:text-white flex items-center gap-2 text-sm"},ee={class:"p-3"},te={key:0,class:"flex justify-center py-6"},se={key:1,class:"space-y-4"},ae=["src"],oe={class:"min-w-0 flex-1"},ie={class:"text-xs text-gray-900 dark:text-gray-100 line-clamp-2 leading-snug"},de={class:"font-bold"},re={class:"text-[10px] text-gray-400 mt-1 flex items-center gap-1"},ne={key:2,class:"py-10 text-center"},ce={__name:"AcademyActivityWidget",props:{academyId:{type:[Number,String],required:!0}},setup(n){const d=n,i=y([]),c=y(!0),_=async()=>{try{c.value=!0;const o=await axios.get(`/api/academies/${d.academyId}/activities`);o.data.success&&(i.value=o.data.activities?.data?.slice(0,3)||[])}catch(o){console.error("Error fetching academy activities:",o)}finally{c.value=!1}};return k(()=>{_()}),(o,a)=>{const p=L;return t(),s("div",X,[e("div",Y,[e("h3",Z,[r(m(u),{icon:"heroicons:bolt",class:"w-4 h-4 text-amber-500"}),a[0]||(a[0]=g(" ความเคลื่อนไหวล่าสุด ",-1))]),r(p,{href:`/academies/${d.academyId}`,class:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium"},{default:h(()=>[...a[1]||(a[1]=[g(" ดูทั้งหมด ",-1)])]),_:1},8,["href"])]),e("div",ee,[c.value?(t(),s("div",te,[r(m(u),{icon:"svg-spinners:3-dots-scale",class:"w-8 h-8 text-indigo-500"})])):i.value.length?(t(),s("div",se,[(t(!0),s(v,null,b(i.value,x=>(t(),s("div",{key:x.id,class:"flex gap-3 pb-3 border-b border-gray-50 dark:border-gray-700 last:border-0 last:pb-0"},[e("img",{src:x.user?.profile_photo_url||"/images/default-avatar.png",class:"w-8 h-8 rounded-full border border-gray-100 transition-transform hover:scale-105"},null,8,ae),e("div",oe,[e("p",ie,[e("span",de,l(x.user?.name),1),g(" "+l(x.activity_type_label||"ได้โพสต์ข้อความใหม่"),1)]),e("p",re,[r(m(u),{icon:"heroicons:clock",class:"w-3 h-3"}),g(" "+l(x.created_at_for_humans),1)])])]))),128))])):(t(),s("div",ne,[r(m(u),{icon:"heroicons:chat-bubble-left",class:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a[2]||(a[2]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"ไม่มีความเคลื่อนไหว",-1))]))])])}}},le={class:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-2xl shadow-lg border border-indigo-500/20 overflow-hidden text-white"},me={class:"p-4 border-b border-white/10 flex justify-between items-center"},ue={class:"font-bold flex items-center gap-2 text-sm uppercase tracking-wider"},pe={class:"p-4"},ge={key:0,class:"flex justify-center py-4"},ye={key:1,class:"space-y-4"},_e={class:"text-[11px] text-indigo-100 font-medium mb-1 flex items-center gap-1 opacity-80"},xe={class:"text-xs font-semibold leading-relaxed group-hover:text-amber-200 transition-colors line-clamp-2"},he={key:2,class:"py-6 text-center"},ve={__name:"AcademyAnnouncementWidget",props:{academyId:{type:[Number,String],required:!0}},setup(n){const d=n,i=y([]),c=y(!0),_=async()=>{try{c.value=!0;const o=await axios.get(`/api/academies/${d.academyId}/activities`);o.data.success&&(i.value=o.data.activities?.data?.slice(0,2)||[])}catch(o){console.error("Error fetching academy announcements:",o)}finally{c.value=!1}};return k(()=>{_()}),(o,a)=>(t(),s("div",le,[e("div",me,[e("h3",ue,[r(m(u),{icon:"heroicons:megaphone",class:"w-4 h-4 text-amber-300"}),a[0]||(a[0]=g(" ข่าวประชาสัมพันธ์ ",-1))]),a[1]||(a[1]=e("span",{class:"flex h-2 w-2 rounded-full bg-red-400 animate-pulse"},null,-1))]),e("div",pe,[c.value?(t(),s("div",ge,[r(m(u),{icon:"svg-spinners:ring-resize",class:"w-6 h-6 text-white/50"})])):i.value.length?(t(),s("div",ye,[(t(!0),s(v,null,b(i.value,p=>(t(),s("div",{key:p.id,class:"group cursor-pointer"},[e("p",_e,[r(m(u),{icon:"heroicons:calendar-days",class:"w-3 h-3"}),g(" "+l(p.created_at_for_humans),1)]),e("p",xe,l(p.activityable?.description||"มีการอัปเดตข้อมูลใหม่ภายในโรงเรียน"),1)]))),128))])):(t(),s("div",he,[r(m(u),{icon:"heroicons:inbox",class:"w-8 h-8 text-white/30 mx-auto mb-2"}),a[2]||(a[2]=e("p",{class:"text-xs text-white/60"},"ไม่มีข่าวสารในขณะนี้",-1))])),a[3]||(a[3]=e("button",{class:"w-full mt-4 py-2 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl text-xs font-bold transition-all text-center"}," ดูประกาศทั้งหมด ",-1))])]))}},be={class:"space-y-4"},fe={class:"mt-4"},we={key:0,class:"mt-4"},ke={key:1},$e={key:2},Ae={class:"space-y-4"},ze={__name:"ShowAcademy",props:{academy:Object,isAcademyAdmin:Boolean,activities:Object},setup(n){const d=n,i=y(!1),c=y(d.activities?.data||[]);return(_,o)=>(t(),j($,{academy:n.academy,isAcademyAdmin:n.isAcademyAdmin},{leftSideWidget:h(()=>[e("div",be,[r(R,{academy:d.academy},null,8,["academy"]),r(ve,{academyId:d.academy.data.id},null,8,["academyId"])])]),academyContent:h(()=>[e("div",fe,[r(B,{academy_id:d.academy.data.id},null,8,["academy_id"]),i.value?(t(),s("div",we,[r(V)])):c.value.length?(t(),s("div",ke,[(t(!0),s(v,null,b(c.value,(a,p)=>(t(),s("div",{key:p},[r(E,{activity:a},null,8,["activity"])]))),128))])):c.value.length?w("",!0):(t(),s("div",$e,[...o[0]||(o[0]=[e("div",{class:"flex justify-center items-center h-[50vh]"},[e("p",{class:"text-gray-500 text-lg"},"ยังไม่มีกิจกรรมใดๆ ในขณะนี้")],-1)])]))])]),rightSideWidget:h(()=>[e("div",Ae,[r(ce,{academyId:d.academy.data.id},null,8,["academyId"])])]),_:1},8,["academy","isAcademyAdmin"]))}};export{ze as default};
