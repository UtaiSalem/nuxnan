import{r as c,g as x,w as l,o as p,b as t,u as a,e as n,T as B,c as w,d as f,a as o,$ as v,a0 as g,a7 as E,j as _,t as S}from"./CHs-R6Sv.js";import{u as F,L,r as A}from"./BWv91NqQ.js";import{_ as D}from"./B_LEv03g.js";import{_ as R}from"./BRk76AVZ.js";import{_ as h}from"./CigrnsGr.js";import{_ as b}from"./DNGBUR8m.js";import{_ as T}from"./Bnfa4tdk.js";import{_ as V}from"./DEF2WH_X.js";import{_ as $}from"./BI1TToh2.js";import"./2fEXlvm0.js";const q={key:0,class:"col-span-6 sm:col-span-4"},z={class:"mt-2"},M=["src","alt"],O={class:"mt-2"},Y={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},H={key:0},J={class:"mt-2 text-sm"},K={class:"mt-2 text-sm font-medium text-green-600"},Q={class:"col-span-6 sm:col-span-4"},W={class:"text-blue-600 text-[32px] font-bold"},X={class:"col-span-6 sm:col-span-4"},Z={class:"text-blue-600 text-[32px] font-bold"},me={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const y=u,s=F({_method:"PUT",name:y.user.name,email:y.user.email,photo:null}),k=c(null),m=c(null),i=c(null),C=()=>{i.value&&(s.photo=i.value.files[0]),s.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},I=()=>{k.value=!0},N=()=>{i.value.click()},U=()=>{const r=i.value.files[0];if(!r)return;const e=new FileReader;e.onload=d=>{m.value=d.target.result},e.readAsDataURL(r)},j=()=>{A.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{m.value=null,P()}})},P=()=>{i.value?.value&&(i.value.value=null)};return(r,e)=>(p(),x(R,{onSubmitted:C},{title:l(()=>[...e[2]||(e[2]=[n(" Profile Information / ข้อมูลโปรไฟล์ ",-1)])]),description:l(()=>[...e[3]||(e[3]=[n(" Update your account's profile information and email address./ อัพเดทข้อมูลโปรไฟล์และอีเมลของคุณ ",-1)])]),form:l(()=>[r.$page.props.jetstream.managesProfilePhotos?(p(),w("div",q,[o("input",{id:"photo",ref_key:"photoInput",ref:i,type:"file",class:"hidden",onChange:U},null,544),t(b,{for:"photo",value:"Photo / รูปถ่าย"}),v(o("div",z,[o("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"object-cover w-20 h-20 rounded-full"},null,8,M)],512),[[g,!m.value]]),v(o("div",O,[o("span",{class:"block w-20 h-20 bg-center bg-no-repeat bg-cover rounded-full",style:E("background-image: url('"+m.value+"');")},null,4)],512),[[g,m.value]]),t(V,{class:"mt-2 me-2",type:"button",onClick:_(N,["prevent"])},{default:l(()=>[...e[4]||(e[4]=[n(" Select A New Photo / เลือกรูปใหม่ ",-1)])]),_:1}),u.user.profile_photo_path?(p(),x(V,{key:0,type:"button",class:"mt-2",onClick:_(j,["prevent"])},{default:l(()=>[...e[5]||(e[5]=[n(" Remove Photo / ลบรูป ",-1)])]),_:1})):f("",!0),t(h,{message:a(s).errors.photo,class:"mt-2"},null,8,["message"])])):f("",!0),o("div",Y,[t(b,{for:"name",value:"Name/ ชื่อ - สกุล"}),t($,{id:"name",modelValue:a(s).name,"onUpdate:modelValue":e[0]||(e[0]=d=>a(s).name=d),type:"text",class:"block w-full mt-1",required:"",autocomplete:"name"},null,8,["modelValue"]),t(h,{message:a(s).errors.name,class:"mt-2"},null,8,["message"])]),o("div",G,[t(b,{for:"email",value:"Email/ อีเมล"}),t($,{id:"email",modelValue:a(s).email,"onUpdate:modelValue":e[1]||(e[1]=d=>a(s).email=d),type:"email",class:"block w-full mt-1",required:"",autocomplete:"username"},null,8,["modelValue"]),t(h,{message:a(s).errors.email,class:"mt-2"},null,8,["message"]),r.$page.props.jetstream.hasEmailVerification&&u.user.email_verified_at===null?(p(),w("div",H,[o("p",J,[e[7]||(e[7]=n(" Your email address is unverified. / อีเมลของคุณยังไม่ได้รับการยืนยัน ",-1)),t(a(L),{href:r.route("verification.send"),method:"post",as:"button",class:"text-sm text-gray-600 underline rounded-md hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:_(I,["prevent"])},{default:l(()=>[...e[6]||(e[6]=[n(" Click here to re-send the verification email. / คลิกที่นี่เพื่อส่งอีเมลยืนยันอีกครั้ง ",-1)])]),_:1},8,["href"])]),v(o("div",K," A new verification link has been sent to your email address. / ลิงค์ยืนยันใหม่ถูกส่งไปยังอีเมลของคุณแล้ว ",512),[[g,k.value]])])):f("",!0)]),o("div",Q,[e[8]||(e[8]=o("p",{class:"text-sm font-semibold text-gray-600"},"Personal code / รหัสประจำตัวสมาชิก",-1)),o("p",W,S(r.$page.props.auth.user.personal_code),1)]),o("div",X,[e[9]||(e[9]=o("p",{class:"text-sm font-semibold text-gray-600"},"จำนวนผู้อ้างอิง",-1)),o("p",Z,S(r.$page.props.auth.user.no_of_ref),1)])]),actions:l(()=>[t(D,{on:a(s).recentlySuccessful,class:"me-3"},{default:l(()=>[...e[10]||(e[10]=[n(" Saved. / บันทึกแล้ว ",-1)])]),_:1},8,["on"]),t(T,{class:B({"opacity-25":a(s).processing}),disabled:a(s).processing},{default:l(()=>[...e[11]||(e[11]=[n(" Save / บันทึก ",-1)])]),_:1},8,["class","disabled"])]),_:1}))}};export{me as default};
