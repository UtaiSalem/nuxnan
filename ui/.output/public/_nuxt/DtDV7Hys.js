import{_ as k}from"./BP2gnDQ3.js";import{q as $,ay as C,v as I,a9 as N,K as g,y as j,c as i,u as e,b as r,a as t,t as A,w as B,U as x,n as S,r as m,o as c,I as l,e as V}from"./Brb_7992.js";import{_ as q}from"./C_bEWirS.js";import"./CJp6I_A2.js";const L={key:0,class:"flex items-center justify-center py-12"},R={key:1,class:"max-w-3xl mx-auto"},T={class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 shadow-lg"},z={class:"flex items-center gap-3 mb-6 pb-6 border-b border-gray-200 dark:border-gray-700"},D={class:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl"},E={class:"text-sm text-gray-500 dark:text-gray-400"},F={key:2,class:"text-center py-12"},J=$({__name:"edit",setup(G){const a=x("course"),_=x("isCourseAdmin"),p=C(),f=I(),v=N(),u=S(()=>p.params.groupId),n=m(null),d=m(!0);_?.value||g(`/courses/${p.params.id}/groups`);const y=async()=>{if(!(!a?.value?.id||!u.value)){d.value=!0;try{const s=await v.get(`/api/courses/${a.value.id}/groups/${u.value}`);n.value=s.group||s.data?.group||s}catch(s){console.error("Failed to load group:",s)}finally{d.value=!1}}},b=()=>{g(`/courses/${a.value.id}/groups/${u.value}`)},h=()=>{f.back()};return j(()=>{y()}),(s,o)=>{const w=k;return c(),i("div",null,[e(d)?(c(),i("div",L,[r(e(l),{icon:"svg-spinners:ring-resize",class:"w-8 h-8 text-blue-500"})])):e(n)?(c(),i("div",R,[t("div",T,[t("div",z,[t("div",D,[r(e(l),{icon:"heroicons:pencil-square",class:"w-6 h-6 text-white"})]),t("div",null,[o[0]||(o[0]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"แก้ไขกลุ่ม",-1)),t("p",E,A(e(n).name),1)])]),r(q,{"course-id":e(a)?.id,group:e(n),onSaved:b,onCancel:h},null,8,["course-id","group"])])])):(c(),i("div",F,[r(e(l),{icon:"heroicons:exclamation-circle",class:"w-16 h-16 text-red-500 mx-auto mb-4"}),o[2]||(o[2]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},"ไม่พบข้อมูลกลุ่ม",-1)),r(w,{to:`/courses/${e(a)?.id}/groups`,class:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700"},{default:B(()=>[r(e(l),{icon:"heroicons:arrow-left",class:"w-5 h-5"}),o[1]||(o[1]=V(" กลับไปหน้ากลุ่ม ",-1))]),_:1},8,["to"])]))])}}});export{J as default};
