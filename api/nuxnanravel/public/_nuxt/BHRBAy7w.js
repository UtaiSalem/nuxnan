import v from"./DlGh3WWW.js";import{c as o,o as a,a as t,t as u,r as m,j as w,w as p,b as f,d as b,F as _,n as h,u as q}from"./DuB962GZ.js";import{Y as y}from"./D7ODgq9X.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const D={class:"bg-white p-4 shadow rounded mb-4 border-l-4 border-blue-500"},k={__name:"DonateCard",props:{donate:Object},setup(r){return(l,n)=>(a(),o("div",D,[n[0]||(n[0]=t("h4",{class:"font-bold"},"Donation Request",-1)),t("p",null,"Donor: "+u(r.donate.donor?.name||"Unknown"),1),t("p",null,"Points: "+u(r.donate.point||0),1)]))}},z={class:"py-4"},C={key:0,class:"mx-auto max-w-full flex flex-wrap justify-center gap-2"},j={key:1,class:"text-center"},B={key:2,class:"w-full flex justify-center items-center mt-2 text-violet-600"},I={__name:"DonationList",props:{donates:Object},setup(r){const l=r,n=m(!1),i=m(l.donates.data??[]),d=m(l.donates.links.next?"/plearnd-admin/supports/donates/more?page=2":null),g=async()=>{try{if(!d.value)return;n.value=!0;const s=await axios.get(d.value);s.data&&(s.data.donates.data.forEach(e=>{i.value.push(e)}),d.value=s.data.donates.next_page_url),n.value=!1}catch{}};return(s,e)=>(a(),w(v,{title:"Donate List"},{coverProfileCard:p(()=>[...e[0]||(e[0]=[t("div",{class:"flex items-center max-w-full mx-auto mt-2 mb-4 shadow-lg bg-cover bg-no-repeat rounded-lg",style:{backgroundImage:"url(/storage/images/banner/banner-bg.png)"}},[t("img",{class:"section-banner-icon",src:"/storage/images/banner/badges-icon.png",alt:"forums-icon"}),t("p",{class:"text-white font-bold text-4xl"},"รายการสนับสนุนทุนการเรียนรู้")],-1)])]),mainContent:p(()=>[t("div",z,[i.value.length?(a(),o("div",C,[(a(!0),o(_,null,h(i.value,(c,x)=>(a(),o("div",{key:x,class:"w-full md:w-[48%] xl:w-[30%]"},[f(k,{donate:c},null,8,["donate"])]))),128))])):(a(),o("div",j,[...e[1]||(e[1]=[t("p",{class:"text-gray-500"},"ไม่มีรายการสนับสนุนทุนการเรียนรู้",-1)])])),f(q(y),{onDistance:c=>1,onInfinite:g}),n.value?(a(),o("div",B,[...e[2]||(e[2]=[t("svg",{width:"120",height:"120",fill:"currentColor",class:"m-2 animate-spin",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"})],-1)])])):b("",!0)])]),_:1}))}};export{I as default};
