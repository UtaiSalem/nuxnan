import{r as b,a as C}from"./Czq9JhUr.js";import{r as o,j as P,w as k,o as t,c as r,d as m,a as s,b as n,u as p,I as L,t as $,F as g,n as v}from"./DuB962GZ.js";import j from"./CwmX9Fsi.js";import{_ as B}from"./CWJPiVh7.js";import{Y as I}from"./D7ODgq9X.js";import{C as N}from"./BPfwBkoF.js";import"./DlGh3WWW.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const V={key:0,class:"fixed top-0 left-0 z-20 flex items-center justify-center w-full h-full modal"},z={class:"flex items-center justify-center h-64"},D={class:"p-4 my-4 bg-white shadow-lg section-header rounded-xl"},E={class:"section-header-info"},F={class:"section-title font-prompt"},M={class:"flex flex-wrap justify-between gap-4"},O={key:1,class:"flex flex-wrap justify-between gap-4"},W={__name:"UserCourses",props:{courses:Object},setup(_){const c=_,d=o(c.courses.data),i=o(!1),f=o(!1),u=o(1),h=o(c.courses.meta.last_page),w=async()=>{try{if(u.value++,u.value<=h.value){i.value=!0;let e=await axios.get(`/api/courses/users/${C().props.auth.user.id}?page=${u.value}`);e.data&&e.data.success&&e.data.courses.forEach(l=>{d.value.push(l)})}i.value=!1}catch{i.value=!1}},y=e=>{f.value=!0,b.visit(`/courses/${e}`)};return(e,l)=>(t(),P(j,{coursePageTitle:"รายวิชาของฉัน"},{coursesMainContent:k(()=>[f.value?(t(),r("div",V,[l[0]||(l[0]=s("div",{class:"absolute w-full h-full bg-gray-900 opacity-75 modal-overlay"},null,-1)),s("div",z,[n(p(L),{icon:"svg-spinners:bars-rotate-fade",class:"z-30 w-32 h-32 text-white"})])])):m("",!0),s("div",D,[s("div",E,[s("h2",F," รายวิชาของฉัน "+$(" "+c.courses.meta.total+" วิชา"||"ยังไม่มีรายวิชา"),1)])]),s("div",M,[(t(!0),r(g,null,v(d.value,(a,x)=>(t(),r("div",{key:x,class:"w-full sm:w-[48%]"},[n(B,{course:a,onLoadingPage:R=>y(a.id)},null,8,["course","onLoadingPage"])]))),128))]),i.value?(t(),r("div",O,[(t(),r(g,null,v(2,a=>s("div",{key:a,class:"mt-4 w-full sm:w-[48%]"},[n(N)])),64))])):m("",!0),n(p(I),{onDistance:a=>1,onInfinite:w})]),_:1}))}};export{W as default};
