import{_ as q,r as n,N as m,j as z,o as u,b as s,w as B,c as p,d as b,a as e,u as a,I as o,l as F,y as R,t as g,a8 as M,F as A,n as D,q as N,e as y,aa as O}from"./DuB962GZ.js";import{u as P}from"./BmpSa16v.js";const U={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},$={class:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white dark:bg-vikinger-dark-100 rounded-2xl shadow-2xl"},E={class:"sticky top-0 z-10 flex items-center justify-between p-4 border-b border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100"},L={class:"p-4 space-y-4"},G={class:"space-y-2"},H={class:"relative"},J={class:"flex items-center gap-3"},K={class:"text-left"},Q={class:"text-sm font-medium text-gray-800 dark:text-white"},W={class:"text-xs text-gray-500 dark:text-gray-400"},X={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-vikinger-dark-100 rounded-xl shadow-lg border border-gray-200 dark:border-vikinger-dark-50/30 overflow-hidden z-20"},Y=["onClick"],Z={class:"text-left"},ee={class:"text-sm font-medium text-gray-800 dark:text-white"},te={class:"text-xs text-gray-500 dark:text-gray-400"},re={class:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors opacity-50 cursor-not-allowed"},se={class:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors opacity-50 cursor-not-allowed"},ae={class:"border border-gray-200 dark:border-vikinger-dark-50/30 rounded-xl p-3 bg-gray-50 dark:bg-vikinger-dark-200/50"},le={class:"flex gap-3"},oe=["src"],ie={class:"flex-1 min-w-0"},ne={class:"font-semibold text-sm text-gray-800 dark:text-white"},de={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-3"},ce=["src"],ue={class:"flex items-center gap-2 p-3 bg-gradient-to-r from-vikinger-purple/10 to-vikinger-cyan/10 rounded-xl"},ge={class:"sticky bottom-0 flex items-center gap-3 p-4 border-t border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100"},ve={class:"flex items-center justify-center gap-2"},ke={__name:"ShareModal",props:{show:{type:Boolean,required:!0},post:{type:Object,required:!0}},emits:["close","share"],setup(d,{emit:S}){const{getAvatarUrl:V}=P(),l=d,w=S,v=n(""),i=n("public"),_=n([]),C=n(""),k=n(!1);n(!1),n(!1);const f=[{value:"public",label:"สาธารณะ",icon:"fluent:globe-24-regular",desc:"ทุกคนสามารถเห็นได้"},{value:"friends",label:"เพื่อน",icon:"fluent:people-24-regular",desc:"เฉพาะเพื่อนเท่านั้น"},{value:"private",label:"ส่วนตัว",icon:"fluent:lock-closed-24-regular",desc:"เฉพาะคุณเท่านั้น"}],h=m(()=>f.find(c=>c.value===i.value)||f[0]),I=()=>{w("share",{share_comment:v.value.trim()||null,privacy:i.value,tagged_friends:_.value,location:C.value||null}),x()},x=()=>{v.value="",i.value="public",_.value=[],C.value="",w("close")},T=m(()=>{const c=l.post.content||l.post.description||"";return c.length>200?c.substring(0,200)+"...":c}),j=m(()=>l.post.imagesResources&&l.post.imagesResources.length?l.post.imagesResources[0].url:l.post.images&&l.post.images.length?l.post.images[0].url||l.post.images[0]:null);return(c,t)=>(u(),z(O,{to:"body"},[s(M,{name:"modal-fade"},{default:B(()=>[d.show?(u(),p("div",U,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:x}),e("div",$,[e("div",E,[t[2]||(t[2]=e("h3",{class:"text-xl font-bold text-gray-800 dark:text-white"},"แชร์โพสต์",-1)),e("button",{onClick:x,class:"p-2 hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 rounded-lg transition-colors"},[s(a(o),{icon:"fluent:dismiss-24-regular",class:"w-6 h-6 text-gray-600 dark:text-gray-300"})])]),e("div",L,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," เขียนบางอย่างเกี่ยวกับโพสต์นี้... (ไม่บังคับ) ",-1)),F(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=r=>v.value=r),rows:"3",placeholder:"บอกเพื่อนๆ ว่าทำไมคุณถึงแชร์โพสต์นี้...",class:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-200 text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-vikinger-purple/30 focus:border-vikinger-purple transition-all resize-none"},null,512),[[R,v.value]])]),e("div",G,[e("div",H,[e("button",{onClick:t[1]||(t[1]=r=>k.value=!k.value),class:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors"},[e("div",J,[s(a(o),{icon:h.value.icon,class:"w-5 h-5 text-vikinger-purple"},null,8,["icon"]),e("div",K,[e("p",Q,g(h.value.label),1),e("p",W,g(h.value.desc),1)])]),s(a(o),{icon:"fluent:chevron-down-24-regular",class:"w-5 h-5 text-gray-400"})]),s(M,{name:"dropdown"},{default:B(()=>[k.value?(u(),p("div",X,[(u(),p(A,null,D(f,r=>e("button",{key:r.value,onClick:xe=>{i.value=r.value,k.value=!1},class:N(["w-full flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors",{"bg-vikinger-purple/10":i.value===r.value}])},[s(a(o),{icon:r.icon,class:N(["w-5 h-5",i.value===r.value?"text-vikinger-purple":"text-gray-500"])},null,8,["icon","class"]),e("div",Z,[e("p",ee,g(r.label),1),e("p",te,g(r.desc),1)]),i.value===r.value?(u(),z(a(o),{key:0,icon:"fluent:checkmark-24-filled",class:"w-5 h-5 text-vikinger-purple ml-auto"})):b("",!0)],10,Y)),64))])):b("",!0)]),_:1})]),e("button",re,[s(a(o),{icon:"fluent:people-add-24-regular",class:"w-5 h-5 text-gray-400"}),t[4]||(t[4]=e("div",{class:"text-left"},[e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"แท็กเพื่อน"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"เร็วๆ นี้")],-1))]),e("button",se,[s(a(o),{icon:"fluent:location-24-regular",class:"w-5 h-5 text-gray-400"}),t[5]||(t[5]=e("div",{class:"text-left"},[e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"เพิ่มสถานที่"),e("p",{class:"text-xs text-gray-500 dark:text-gray-500"},"เร็วๆ นี้")],-1))])]),e("div",ae,[e("div",le,[e("img",{src:a(V)(d.post.author||d.post.user),class:"w-10 h-10 rounded-full object-cover flex-shrink-0",alt:""},null,8,oe),e("div",ie,[e("p",ne,g(d.post.author?.username||d.post.user?.username||"ผู้ใช้"),1),e("p",de,g(T.value),1)]),j.value?(u(),p("img",{key:0,src:j.value,class:"w-20 h-20 rounded-lg object-cover flex-shrink-0",alt:""},null,8,ce)):b("",!0)])]),e("div",ue,[s(a(o),{icon:"fluent:info-24-regular",class:"w-5 h-5 text-vikinger-purple flex-shrink-0"}),t[6]||(t[6]=e("p",{class:"text-sm text-gray-700 dark:text-gray-300"},[y(" การแชร์จะใช้ "),e("span",{class:"font-bold text-vikinger-purple"},"36 แต้ม"),y(" และเจ้าของโพสต์จะได้รับ "),e("span",{class:"font-bold text-vikinger-cyan"},"18 แต้ม")],-1))])]),e("div",ge,[e("button",{onClick:x,class:"flex-1 px-6 py-3 rounded-xl border border-gray-300 dark:border-vikinger-dark-50/30 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-all"}," ยกเลิก "),e("button",{onClick:I,class:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white font-medium hover:shadow-lg transition-all duration-300 hover:scale-105"},[e("span",ve,[s(a(o),{icon:"fluent:share-24-filled",class:"w-5 h-5"}),t[7]||(t[7]=y(" แชร์เลย - 36 แต้ม ",-1))])])])])])):b("",!0)]),_:1})]))}},fe=q(ke,[["__scopeId","data-v-ef2092e2"]]);export{fe as S};
