import{c as d,o as a,a as e,t as r,F as z,n as j,af as U,r as f,f as R,N,d as c,b as x,u as k,I as w,e as v,l as S,y as D,j as B,q as y,w as P,i as G}from"./DuB962GZ.js";import E from"./DFaW-taN.js";import{_ as W}from"./BHgMJnGs.js";import{_ as q}from"./CouwXKwP.js";import"./DlGh3WWW.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const J={class:"bg-white p-4 shadow rounded"},K={class:"font-bold mb-4 ml-4"},X={class:"w-full text-left"},Y={class:"p-2"},Z={class:"p-2"},ee={class:"p-2"},te=["onClick"],se={__name:"MembersProgress",props:{groupName:String,members:Array,isCourseAdmin:Boolean},setup(C){return(h,n)=>(a(),d("div",J,[e("h3",K,"Members Progress - "+r(C.groupName),1),e("table",X,[n[0]||(n[0]=e("thead",null,[e("tr",null,[e("th",{class:"p-2"},"Name"),e("th",{class:"p-2"},"Progress"),e("th",{class:"p-2"},"Action")])],-1)),e("tbody",null,[(a(!0),d(z,null,j(C.members,_=>(a(),d("tr",{key:_.id,class:"border-t"},[e("td",Y,r(_.member_name),1),e("td",Z,r(_.progress||0)+"%",1),e("td",ee,[e("button",{onClick:i=>h.$emit("view",_),class:"text-blue-500"},"View",8,te)])]))),128))])])]))}},re={class:"space-y-6"},oe={key:0,class:"flex justify-center py-12"},ae={key:1,class:"animate-fade-in"},le={class:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6"},ne={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4"},de={class:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2"},ie={class:"px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg text-sm font-medium"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ce={class:"mt-6 flex items-center justify-end gap-3"},me={key:0,class:"text-green-600 text-sm flex items-center animate-fade-in"},be=["disabled"],ge={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},xe={class:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700"},pe={class:"text-3xl font-bold text-blue-600 dark:text-blue-400"},ve={class:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700"},fe={class:"text-3xl font-bold text-gray-900 dark:text-white"},_e={class:"text-sm text-gray-400 font-normal"},ye={class:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700"},he={class:"text-3xl font-bold text-green-600 dark:text-green-400"},ke={class:"text-sm text-gray-400 font-normal"},we={class:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700"},$e={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},Ce={class:"text-sm text-gray-400 font-normal"},Ae={class:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto"},Me=["onClick"],ze={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"},je={key:0},Ie={class:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex justify-between items-center"},Oe={class:"text-sm text-gray-500"},Ne={class:"divide-y divide-gray-100 dark:divide-gray-700"},Se={key:0,class:"p-8 text-center text-gray-500"},De={class:"flex justify-between items-center"},Ve={class:"flex items-center gap-3"},Te={class:"font-medium text-gray-900 dark:text-white"},Le={key:1},Pe={class:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex justify-between items-center"},Be={class:"text-sm text-gray-500"},Ge={class:"divide-y divide-gray-100 dark:divide-gray-700"},Qe={key:0,class:"p-8 text-center text-gray-500"},Ue={class:"flex justify-between items-start"},Fe={class:"font-medium text-gray-900 dark:text-white"},He={key:0,class:"text-xs text-gray-400 mt-1"},Re={class:"text-right"},Ee={class:"text-xs text-gray-400"},We={key:2},qe={class:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex justify-between items-center"},Je={class:"text-sm text-gray-500"},Ke={class:"divide-y divide-gray-100 dark:divide-gray-700"},Xe={key:0,class:"p-8 text-center text-gray-500"},Ye={class:"flex justify-between items-start"},Ze={class:"font-medium text-gray-900 dark:text-white"},et={key:0,class:"text-green-600 bg-green-100 px-1.5 py-0.5 rounded text-[10px]"},tt={key:1,class:"text-red-600 bg-red-100 px-1.5 py-0.5 rounded text-[10px]"},st={key:0,class:"text-xs text-gray-400 mt-1"},rt={class:"text-right"},ot={class:"text-xs text-gray-400"},Q={__name:"MyProgressDetails",props:{courseId:{type:[String,Number],required:!0},memberId:{type:[String,Number],required:!0}},setup(C){const h=C,n=U(),_=f(!0),i=f(null),I=async()=>{_.value=!0;try{const o=await n.get(`/api/courses/${h.courseId}/members/${h.memberId}/progress`);i.value={assignments:[],quizzes:[],lessons:[],...o},i.value.member&&(m.value={member_name:i.value.member.member_name||i.value.member.user?.name||"",member_code:i.value.member.member_code||"",order_number:i.value.member.order_number||""})}catch(o){console.error(o)}finally{_.value=!1}};R(I);const u=N(()=>{if(!i.value)return{};const o=i.value,t=(o.assignments?.reduce((l,b)=>l+(b.score||0),0)||0)+(o.quizzes?.reduce((l,b)=>l+(b.score||0),0)||0),s=(o.assignments?.reduce((l,b)=>l+(b.max_score||0),0)||0)+(o.quizzes?.reduce((l,b)=>l+(b.max_score||0),0)||0);return{totalScore:t,maxScore:s,grade:o.member?.grade_name||"-",completedLessons:o.lessons?.filter(l=>l.completed).length||0,totalLessons:o.lessons?.length||0,completedAssignments:o.assignments?.filter(l=>l.submitted).length||0,totalAssignments:o.assignments?.length||0,completedQuizzes:o.quizzes?.filter(l=>l.completed).length||0,totalQuizzes:o.quizzes?.length||0,groupName:o.member?.group?.name||"ไม่มีกลุ่ม"}}),m=f({member_name:"",member_code:"",order_number:""}),p=f(!1),A=f(!1),M=async()=>{p.value=!0,A.value=!1;try{await n.patch(`/api/courses/${h.courseId}/members/${h.memberId}/update`,m.value),A.value=!0,setTimeout(()=>A.value=!1,3e3),await I()}catch(o){console.error(o),alert("บันทึกข้อมูลไม่สำเร็จ")}finally{p.value=!1}},$=(o,t)=>{if(!t)return"text-gray-500";const s=o/t*100;return s>=80?"text-green-600":s>=50?"text-blue-600":"text-red-600"},g=f("lessons"),V=[{id:"lessons",label:"บทเรียน",icon:"fluent:book-open-24-filled"},{id:"assignments",label:"งานที่มอบหมาย",icon:"fluent:document-text-24-filled"},{id:"quizzes",label:"แบบทดสอบ",icon:"fluent:quiz-new-24-filled"}];return(o,t)=>(a(),d("div",re,[_.value?(a(),d("div",oe,[x(k(w),{icon:"eos-icons:loading",class:"w-10 h-10 text-blue-600"})])):i.value?(a(),d("div",ae,[e("div",le,[e("div",ne,[e("div",null,[e("h3",de,[x(k(w),{icon:"fluent:person-edit-24-filled",class:"text-blue-500"}),t[3]||(t[3]=v(" ข้อมูลส่วนตัว ",-1))]),t[4]||(t[4]=e("p",{class:"text-sm text-gray-500"},"แก้ไขข้อมูลพื้นฐานของคุณในรายวิชานี้",-1))]),e("div",ie," กลุ่มเรียน: "+r(u.value.groupName),1)]),e("div",ue,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"เลขที่ (Order No.)",-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value.order_number=s),type:"number",class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"ระบุเลขที่..."},null,512),[[D,m.value.order_number]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"รหัสประจำตัว (Student ID)",-1)),S(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value.member_code=s),type:"text",class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"ระบุรหัสประจำตัว..."},null,512),[[D,m.value.member_code]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"ชื่อ-นามสกุล (Name)",-1)),S(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>m.value.member_name=s),type:"text",class:"w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"ระบุชื่อ-นามสกุล..."},null,512),[[D,m.value.member_name]])])]),e("div",ce,[A.value?(a(),d("span",me,[x(k(w),{icon:"fluent:checkmark-circle-24-filled",class:"mr-1"}),t[8]||(t[8]=v(" บันทึกเรียบร้อย ",-1))])):c("",!0),e("button",{onClick:M,disabled:p.value,class:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg text-sm font-medium transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(a(),B(k(w),{key:0,icon:"eos-icons:loading",class:"mr-2 animate-spin"})):c("",!0),v(" "+r(p.value?"กำลังบันทึก...":"บันทึกการเปลี่ยนแปลง"),1)],8,be)])]),e("div",ge,[e("div",xe,[t[9]||(t[9]=e("div",{class:"text-sm text-gray-500 mb-1"},"เกรดปัจจุบัน",-1)),e("div",pe,r(u.value.grade),1)]),e("div",ve,[t[10]||(t[10]=e("div",{class:"text-sm text-gray-500 mb-1"},"คะแนนรวม",-1)),e("div",fe,[v(r(u.value.totalScore)+" ",1),e("span",_e,"/ "+r(u.value.maxScore),1)])]),e("div",ye,[t[11]||(t[11]=e("div",{class:"text-sm text-gray-500 mb-1"},"งานที่ส่งแล้ว",-1)),e("div",he,[v(r(u.value.completedAssignments)+" ",1),e("span",ke,"/ "+r(u.value.totalAssignments),1)])]),e("div",we,[t[12]||(t[12]=e("div",{class:"text-sm text-gray-500 mb-1"},"ทดสอบแล้ว",-1)),e("div",$e,[v(r(u.value.completedQuizzes)+" ",1),e("span",Ce,"/ "+r(u.value.totalQuizzes),1)])])]),e("div",Ae,[(a(),d(z,null,j(V,s=>e("button",{key:s.id,onClick:l=>g.value=s.id,class:y(["px-4 py-3 text-sm font-medium flex items-center gap-2 whitespace-nowrap transition-colors border-b-2",g.value===s.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"])},[x(k(w),{icon:s.icon,class:"w-5 h-5"},null,8,["icon"]),v(" "+r(s.label),1)],10,Me)),64))]),e("div",ze,[g.value==="lessons"?(a(),d("div",je,[e("div",Ie,[t[13]||(t[13]=e("h3",{class:"font-semibold text-gray-800 dark:text-white"},"รายการบทเรียน",-1)),e("span",Oe,r(u.value.completedLessons)+"/"+r(u.value.totalLessons),1)]),e("div",Ne,[i.value.lessons&&i.value.lessons.length===0?(a(),d("div",Se," ไม่มีบทเรียนในรายวิชานี้ ")):c("",!0),(a(!0),d(z,null,j(i.value.lessons,s=>(a(),d("div",{key:s.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[e("div",De,[e("div",Ve,[e("div",{class:y(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",s.completed?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"])},[x(k(w),{icon:s.completed?"fluent:checkmark-24-filled":"fluent:circle-24-regular",class:"w-5 h-5"},null,8,["icon"])],2),e("div",Te,r(s.title),1)]),e("span",{class:y(["text-xs px-2 py-1 rounded-full",s.completed?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"])},r(s.completed?"เรียนแล้ว":"ยังไม่เรียน"),3)])]))),128))])])):c("",!0),g.value==="assignments"?(a(),d("div",Le,[e("div",Pe,[t[14]||(t[14]=e("h3",{class:"font-semibold text-gray-800 dark:text-white"},"รายการงานที่มอบหมาย",-1)),e("span",Be,r(u.value.completedAssignments)+"/"+r(u.value.totalAssignments),1)]),e("div",Ge,[i.value.assignments&&i.value.assignments.length===0?(a(),d("div",Qe," ไม่มีงานที่มอบหมายในรายวิชานี้ ")):c("",!0),(a(!0),d(z,null,j(i.value.assignments,s=>(a(),d("div",{key:s.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[e("div",Ue,[e("div",null,[e("div",Fe,r(s.title),1),e("div",{class:y(["text-xs mt-1",{"text-green-600":s.submitted,"text-yellow-600":!s.submitted}])},r(s.submitted?s.graded?"ตรวจแล้ว":"ส่งแล้ว":"ยังไม่ส่ง"),3),s.submitted_at?(a(),d("div",He," ส่งเมื่อ: "+r(new Date(s.submitted_at).toLocaleDateString("th-TH")),1)):c("",!0)]),e("div",Re,[e("div",{class:y(["font-bold text-lg",$(s.score,s.max_score)])},r(s.score!==null?s.score:"-"),3),e("div",Ee,"เต็ม "+r(s.max_score),1)])])]))),128))])])):c("",!0),g.value==="quizzes"?(a(),d("div",We,[e("div",qe,[t[15]||(t[15]=e("h3",{class:"font-semibold text-gray-800 dark:text-white"},"รายการแบบทดสอบ",-1)),e("span",Je,r(u.value.completedQuizzes)+"/"+r(u.value.totalQuizzes),1)]),e("div",Ke,[i.value.quizzes&&i.value.quizzes.length===0?(a(),d("div",Xe," ไม่มีแบบทดสอบในรายวิชานี้ ")):c("",!0),(a(!0),d(z,null,j(i.value.quizzes,s=>(a(),d("div",{key:s.id,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[e("div",Ye,[e("div",null,[e("div",Ze,r(s.title),1),e("div",{class:y(["text-xs mt-1 flex items-center gap-2",{"text-green-600":s.completed,"text-gray-500":!s.completed}])},[e("span",null,r(s.completed?`ทำแล้ว (${s.attempt_count} ครั้ง)`:"ยังไม่ทำ"),1),s.completed&&s.passed?(a(),d("span",et,"ผ่าน")):c("",!0),s.completed&&!s.passed?(a(),d("span",tt,"ไม่ผ่าน")):c("",!0)],2),s.completed_at?(a(),d("div",st," ล่าสุด: "+r(new Date(s.completed_at).toLocaleDateString("th-TH")),1)):c("",!0)]),e("div",rt,[e("div",{class:y(["font-bold text-lg",$(s.score,s.max_score)])},r(s.score!==null?s.score:"-"),3),e("div",ot,"เต็ม "+r(s.max_score),1)])])]))),128))])])):c("",!0)])])):c("",!0)]))}},at={key:0,class:"md:-ml-4 md:mr-4"},lt={class:"mb-6 px-4"},nt={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100"},dt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},it={class:"bg-blue-50 p-4 rounded-lg border border-blue-100"},ut={class:"text-2xl font-bold text-blue-700"},ct={class:"bg-green-50 p-4 rounded-lg border border-green-100"},mt={class:"text-2xl font-bold text-green-700"},bt={class:"text-sm text-gray-500"},gt={class:"bg-purple-50 p-4 rounded-lg border border-purple-100"},xt={class:"text-2xl font-bold text-purple-700"},pt={class:"bg-red-50 p-4 rounded-lg border border-red-100"},vt={class:"text-2xl font-bold text-red-700"},ft={class:"px-4 mb-4"},_t={class:"relative"},yt={class:"","aria-multiselectable":"false"},ht={key:0,class:"flex flex-wrap items-center border-b plearnd-card bg-gradient-to-r from-blue-50 via-green-50 to-yellow-50",role:"tablist"},kt=["onClick"],wt={key:0,class:"w-1/2 md:w-1/3 lg:w-1/4",role:"presentation "},$t={class:""},Ct={class:"bg-gradient-to-br from-blue-50 via-green-50 to-yellow-50 mt-4 p-4 rounded-xl shadow-lg border border-blue-100",id:"tab-panel-1a","aria-hidden":"false",role:"tabpanel","aria-labelledby":"tab-label-1a",tabindex:"-1"},At={key:1,class:"p-4"},Mt={class:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"},zt={key:1,class:"text-center text-gray-500 py-10"},jt={class:"p-6"},It={class:"flex justify-between items-center mb-6"},Ot={class:"flex items-center gap-3"},Nt={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold"},St={class:"text-xl font-bold text-gray-800 dark:text-white"},Dt={class:"text-sm text-gray-500"},Vt={class:"max-h-[80vh] overflow-y-auto"},Rt={__name:"CourseMembersProgress",props:{course:Object,groups:Object,isCourseAdmin:Boolean,courseMemberOfAuth:Object,members:Object,assignments:Object,quizzes:Object,courseMembersProgress:Object},setup(C){const h=U(),n=C,i=f((()=>{const o=n.courseMemberOfAuth?.last_accessed_group_tab;if(!o)return 0;const s=(n.groups?.data||[]).findIndex(l=>l.id===o);return s>=0?s:0})());async function I(o){i.value=o;const t=n.groups?.data||[];if(o<t.length&&n.courseMemberOfAuth){const s=t[o].id;try{(await h.post(`/api/courses/${n.course.data.id}/members/${n.courseMemberOfAuth.id}/set-active-group-tab`,{group_tab:s})).success&&(n.courseMemberOfAuth.last_accessed_group_tab=s)}catch(l){console.error("Error saving group tab:",l)}}}const u=N(()=>{const o=n.members?.data||[],t=n.course?.data?.user?.id;return o.filter(s=>!s.group).filter(s=>s.user?.id!==t)}),m=N(()=>{const o=n.members?.data||[];if(!o.length)return{average:0,max:0,min:0,passCount:0,failCount:0,passRate:0};const t=o.map(O=>O.total_score||0),l=t.reduce((O,H)=>O+H,0)/t.length||0,b=Math.max(...t),T=Math.min(...t),F=(n.course?.data?.total_score||100)/2,L=t.filter(O=>O>=F).length;return{average:l.toFixed(1),max:b,min:T,passCount:L,failCount:t.length-L,passRate:(L/t.length*100).toFixed(1)}}),p=f(""),A=N(()=>{const o=n.groups?.data||[];let t=[];if(i.value<o.length?t=o[i.value]?.members||[]:t=u.value,n.courseMembersProgress&&(t=t.map(l=>{const b=n.courseMembersProgress.find(T=>T.member.id===l.id);return b&&b.scores?{...l,scores:b.scores}:l})),!p.value)return t;const s=p.value.toLowerCase();return t.filter(l=>l.member_name&&l.member_name.toLowerCase().includes(s)||l.member_code&&l.member_code.toLowerCase().includes(s))}),M=N(()=>n.groups?.data||[]),$=f(!1),g=f(null),V=o=>{g.value=o,$.value=!0};return(o,t)=>(a(),d("div",null,[x(E,{course:n.course,lessons:n.lessons,groups:n.groups,isCourseAdmin:n.isCourseAdmin,courseMemberOfAuth:n.courseMemberOfAuth,activeTab:10},{courseContent:P(()=>[n.isCourseAdmin?(a(),d("div",at,[e("div",lt,[e("div",nt,[t[8]||(t[8]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center"},[e("svg",{class:"w-6 h-6 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),v(" ภาพรวมผลการเรียน (Dashboard) ")],-1)),e("div",dt,[e("div",it,[t[4]||(t[4]=e("p",{class:"text-sm text-gray-600"},"คะแนนเฉลี่ย",-1)),e("p",ut,r(m.value.average),1)]),e("div",ct,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-600"},"ผ่านเกณฑ์",-1)),e("p",mt,[v(r(m.value.passCount)+" ",1),e("span",bt,"("+r(m.value.passRate)+"%)",1)])]),e("div",gt,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-600"},"คะแนนสูงสุด",-1)),e("p",xt,r(m.value.max),1)]),e("div",pt,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-600"},"คะแนนต่ำสุด",-1)),e("p",vt,r(m.value.min),1)])])])]),e("div",ft,[e("div",_t,[t[9]||(t[9]=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",class:"w-full py-2 pl-10 pr-4 text-gray-700 bg-white border rounded-lg focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40",placeholder:"ค้นหาสมาชิกด้วยชื่อ หรือ รหัสนักศึกษา..."},null,512),[[D,p.value]])])]),e("section",yt,[n.isCourseAdmin?(a(),d("ul",ht,[(a(!0),d(z,null,j(M.value,(s,l)=>(a(),d("li",{key:l,class:"w-1/2 md:w-1/3 lg:w-1/4",role:"presentation "},[e("button",{onClick:G(b=>I(l),["prevent"]),class:y(["inline-flex items-center justify-center w-full h-12 gap-2 px-6 mb-2 text-sm tracking-wide transition duration-200 border-b-2 rounded-t focus-visible:outline-none whitespace-nowrap font-medium shadow-sm hover:scale-105",i.value===l?"border-blue-500 bg-gradient-to-r from-blue-200 via-green-100 to-yellow-100 text-blue-900 font-bold shadow-lg":"border-transparent bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700"]),id:"tab-label-1a",role:"tab","aria-setsize":"3","aria-posinset":"1",tabindex:"0","aria-controls":"tab-panel-1a","aria-selected":"true"},[e("span",null,r(s.name+" ("+(s.members?.length||0)+")"),1)],10,kt)]))),128)),u.value.length>0?(a(),d("li",wt,[e("button",{onClick:t[1]||(t[1]=G(s=>I(M.value.length),["prevent"])),class:y(["inline-flex items-center justify-center w-full h-12 gap-2 px-6 mb-2 text-sm tracking-wide transition duration-200 border-b-2 rounded-t focus-visible:outline-none whitespace-nowrap font-medium shadow-sm hover:scale-105",i.value===M.value.length?"border-blue-500 bg-gradient-to-r from-blue-200 via-green-100 to-yellow-100 text-blue-900 font-bold shadow-lg":"border-transparent bg-white text-gray-600 hover:bg-blue-100 hover:text-blue-700"]),id:"tab-label-1a",role:"tab","aria-setsize":"3","aria-posinset":"1",tabindex:"0","aria-controls":"tab-panel-1a","aria-selected":"true"},[e("span",null,r("ไม่มีกลุ่ม ("+u.value.length+")"),1)],2)])):c("",!0)])):c("",!0)]),e("section",$t,[e("div",Ct,[x(W,{duration:50,tag:"ul",class:"flex flex-col w-full"},{default:P(()=>[x(se,{groupName:M.value[i.value]?.name||"ไม่มีกลุ่ม",members:A.value,isCourseAdmin:n.isCourseAdmin,onView:V},null,8,["groupName","members","isCourseAdmin"])]),_:1})])])])):(a(),d("div",At,[e("h2",Mt,[x(k(w),{icon:"fluent:chart-person-24-filled",class:"text-blue-600"}),t[10]||(t[10]=v(" ผลการเรียนของฉัน (My Progress) ",-1))]),n.courseMemberOfAuth?(a(),B(Q,{key:0,courseId:n.course.data.id,memberId:n.courseMemberOfAuth.id},null,8,["courseId","memberId"])):(a(),d("div",zt," ไม่พบข้อมูลสมาชิกของท่านในรายวิชานี้ "))]))]),_:1},8,["course","lessons","groups","isCourseAdmin","courseMemberOfAuth"]),x(q,{show:$.value,onClose:t[3]||(t[3]=s=>$.value=!1),maxWidth:"4xl"},{default:P(()=>[e("div",jt,[e("div",It,[e("div",Ot,[e("div",Nt,r(g.value?.member_name?.charAt(0)||"U"),1),e("div",null,[e("h3",St," ผลการเรียนของ "+r(g.value?.member_name),1),e("p",Dt,r(g.value?.member_code||"-"),1)])]),e("button",{onClick:t[2]||(t[2]=s=>$.value=!1),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500"},[x(k(w),{icon:"fluent:dismiss-24-regular",class:"w-6 h-6"})])]),e("div",Vt,[g.value?(a(),B(Q,{courseId:n.course.data.id,memberId:g.value.id,key:g.value.id},null,8,["courseId","memberId"])):c("",!0)])])]),_:1},8,["show"])]))}};export{Rt as default};
