import{r as c,c as f,a as e,d as _,b as r,w as y,t as l,u as d,l as j,y as B,i as x,q as C,o as g,I as u}from"./DuB962GZ.js";import{a as h}from"./B9ygI19o.js";import{S as n}from"./BQxta0Da.js";import{D as k}from"./DW0O-uE9.js";const D={class:"relative max-w-2xl text-gray-900 bg-white rounded-lg shadow-xl sm:max-w-sm md:max-w-sm lg:max-w-sm xl:max-w-sm sm:mx-auto md:mx-auto lg:mx-auto xl:mx-auto"},M={class:"absolute top-0 right-0 m-2"},N={class:"relative w-24 h-24 mx-auto -mt-12 overflow-hidden border-4 border-white rounded-full"},T=["src"],V={class:"mt-2 text-center"},E={class:"font-semibold"},I={class:"text-gray-500"},Q={class:"text-gray-500"},R={class:"flex items-center justify-around px-2 my-2 text-gray-700"},S={class:"flex flex-col items-center justify-between"},W={class:"flex flex-col items-center justify-between"},q={class:"p-2 border-t"},O={class:"flex items-center justify-center"},P={class:"w-full"},U=["id"],z=["id"],H=["disabled"],J={key:0,class:"px-4 py-2 border-t"},L={__name:"PWDUserItem",props:{user:Object},setup(m){const o=m,i=c(o.user.points),t=c(null);c(!1);async function p(){try{if(i.value<4800)n.fire("แต้มสะสมไม่เพียงพอ","ต้องใช้แต้ม 4800 แต้ม กรุณาเพิ่มแต้มสะสม.","warning");else{let s=await h.post("/forgot-password/reset/"+o.user.id);s.data.success?(i.value-=4800,n.fire("เสร็จสมบูรณ์",s.data.message,"success")):n.fire("เกิดข้อผิดพลาด",s.data.message,"warning")}}catch{}}async function v(){if(t.value&&t.value>0){let s=await h.post("/forgot-password/exchange/"+o.user.id,{money:t.value});s.data.success?(i.value+=t.value*1080,t.value=null,n.fire("เสร็จสมบูรณ์",s.data.message,"success")):n.fire("เกิดข้อผิดพลาด",s.data.message,"warning")}else n.fire("เกิดข้อผิดพลาด","จำนวนเงินน้อยเกินไป","warning")}const w=()=>{n.fire({title:"ยืนยันการลบบัญชีผู้ใช้",text:"คุณต้องการลบบัญชีผู้ใช้นี้หรือไม่?",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"ใช่, ยืนยันการลบ!",cancelButtonText:"ยกเลิก"}).then(s=>{s.isConfirmed})};return(s,a)=>(g(),f("div",D,[e("div",M,[r(k,{onDeleteModel:w},{deleteModel:y(()=>[...a[1]||(a[1]=[e("div",null," ลบบัญชีผู้ใช้ ",-1)])]),_:1})]),a[3]||(a[3]=e("div",{class:"h-32 overflow-hidden rounded-t-lg"},[e("img",{class:"object-cover object-top w-full",src:"https://images.unsplash.com/photo-1549880338-65ddcdfd017b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ",alt:"Mountain"})],-1)),e("div",N,[e("img",{class:"object-cover object-center h-24",src:m.user.avatar??"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",alt:"Woman looking front"},null,8,T)]),e("div",V,[e("h2",E,l(o.user.name),1),e("p",I,l(o.user.email),1),e("p",Q,l(o.user.personal_code),1)]),e("ul",R,[e("li",S,[r(d(u),{icon:"la:id-card-solid"}),e("div",null,l(o.user.id),1)]),e("li",W,[r(d(u),{icon:"noto:coin"}),e("div",null,l(i.value),1)])]),e("div",q,[e("div",O,[e("div",P,[e("form",{id:o.user.id+"exchange-money-form",class:"space-x-2 sm:flex sm:items-center text-end"},[j(e("input",{id:o.user.id+"exchange-money-input",type:"number",min:"0","onUpdate:modelValue":a[0]||(a[0]=b=>t.value=b),placeholder:"จำนวนเงิน",class:"inline w-full leading-5 placeholder-gray-500 bg-white border border-gray-400 rounded-md md:w-3/4 focus:border-indigo-500 focus:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm"},null,8,z),[[B,t.value]]),e("button",{type:"submit",class:C(["inline-flex items-center justify-center w-32 font-medium text-white border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",t.value?"bg-cyan-600 hover:bg-indigo-700 cursor-default":"bg-gray-500 cursor-not-allowed"]),disabled:!t.value||t.value<=0,onClick:x(v,["prevent"])},[r(d(u),{icon:"circum:coin-insert",class:"w-8 h-8"}),a[2]||(a[2]=e("span",{class:"mx-1"},"เติม",-1))],10,H)],8,U)])])]),i.value>3799?(g(),f("div",J,[e("button",{type:"button",onClick:x(p,["prevent"]),class:"block w-full py-2 mx-auto text-xs font-light text-white bg-blue-600 rounded-full hover:bg-red-600 hover:scale-105 hover:shadow-lg"}," รีเซ็ตรหัสผ่าน ")])):_("",!0)]))}};export{L as default};
