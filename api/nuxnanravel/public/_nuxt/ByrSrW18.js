import{r as C}from"./Czq9JhUr.js";import L from"./CwmX9Fsi.js";import{_ as P}from"./CWJPiVh7.js";import{Y as k}from"./D7ODgq9X.js";import{C as b}from"./BPfwBkoF.js";import{L as $}from"./CSoC-6qE.js";import{r as t,j as f,w as j,o as s,d as p,a as o,c as n,b as l,t as B,F as g,n as _,u as N}from"./DuB962GZ.js";import"./DlGh3WWW.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const V={class:"p-4 my-4 bg-white shadow-lg section-header rounded-xl"},D={class:"section-header-info"},E={class:"section-title font-prompt"},F={class:"flex flex-wrap justify-between gap-4"},M={key:1,class:"flex flex-wrap justify-between gap-4"},Q={__name:"Courses",props:{courses:Object},setup(v){const c=v,r=t(!1),i=t(1),h=t(c.courses.meta.last_page),u=t(c.courses.data),d=t(!1);async function w(){try{if(i.value++,i.value<=h.value){r.value=!0;let e=await axios.get("/api/courses?page="+i.value);e.data.success&&e.data.courses.forEach(m=>{u.value.push(m)}),r.value=!1}}catch{r.value=!1}}const y=e=>{d.value=!0,C.visit(`/courses/${e}`)};return(e,m)=>(s(),f(L,{coursePageTitle:"รายวิชาทั้งหมด"},{coursesMainContent:j(()=>[d.value?(s(),f($,{key:0})):p("",!0),o("div",V,[o("div",D,[o("h2",E," รายวิชาของฉัน "+B(" "+c.courses.meta.total+" วิชา"||"ยังไม่มีรายวิชา"),1)])]),o("div",F,[(s(!0),n(g,null,_(u.value,(a,x)=>(s(),n("div",{key:x,class:"w-full sm:w-[48%]"},[l(P,{course:a,onLoadingPage:I=>y(a.id)},null,8,["course","onLoadingPage"])]))),128))]),r.value?(s(),n("div",M,[(s(),n(g,null,_(2,a=>o("div",{key:a,class:"mt-4 w-full sm:w-[48%]"},[l(b)])),64))])):p("",!0),l(N(k),{onDistance:a=>1,onInfinite:w})]),_:1}))}};export{Q as default};
