import{r as _,a as j}from"./Czq9JhUr.js";import k from"./CwmX9Fsi.js";import{_ as C}from"./CWJPiVh7.js";import{Y as P}from"./D7ODgq9X.js";import{r,j as $,w as L,o as t,c as o,d as m,a as e,b as c,u as p,I as B,t as M,F as g,n as v}from"./DuB962GZ.js";import"./DlGh3WWW.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const I={key:0,class:"fixed top-0 left-0 z-20 flex items-center justify-center w-full h-full modal"},N={class:"flex items-center justify-center h-64"},V={class:"p-4 my-4 bg-white shadow-lg section-header rounded-xl"},z={class:"section-header-info"},D={class:"section-title font-prompt"},E={class:"flex flex-wrap justify-between gap-4"},F={key:1,class:"flex flex-wrap justify-between gap-4 mt-4"},T={__name:"AuthMemberCourses",props:{courses:Object},setup(h){const i=h,d=r(i.courses.data),n=r(!1),f=r(!1),u=r(1),w=r(i.courses.meta.last_page);async function b(){try{if(u.value++,u.value<=w.value){n.value=!0;let s=await axios.get(`/api/courses/users/${j().props.auth.user.id}/membered?page=${u.value}`);s.data.success&&s.data.courses.forEach(a=>{d.value.push(a)})}n.value=!1}catch{n.value=!1}}const y=s=>{f.value=!0,_.visit(`/courses/${s}`)};return(s,a)=>(t(),$(k,{title:"Courses"},{coursesMainContent:L(()=>[f.value?(t(),o("div",I,[a[0]||(a[0]=e("div",{class:"absolute w-full h-full bg-gray-900 opacity-75 modal-overlay"},null,-1)),e("div",N,[c(p(B),{icon:"svg-spinners:bars-rotate-fade",class:"z-30 w-32 h-32 text-white"})])])):m("",!0),e("div",V,[e("div",z,[e("h2",D," รายวิชาที่ฉันเป็นสมาชิก "+M(" "+i.courses.meta.total+" วิชา"||"ยังไม่มีรายวิชา"),1)])]),e("div",E,[(t(!0),o(g,null,v(d.value,(l,x)=>(t(),o("div",{key:x,class:"w-full sm:w-[48%]"},[c(C,{course:l,onLoadingPage:A=>y(l.id)},null,8,["course","onLoadingPage"])]))),128))]),n.value?(t(),o("div",F,[(t(),o(g,null,v(2,l=>e("div",{key:l,class:"w-full sm:w-[48%]"},[...a[1]||(a[1]=[e("div",{class:"w-full overflow-hidden rounded-lg shadow-xl"},[e("div",{class:"object-cover object-center w-full bg-gray-400/40 h-36"}),e("div",{class:"p-4"},[e("div",{class:"flex items-center justify-between mb-2"},[e("div",{class:"flex-shrink-0 w-10 h-10 bg-gray-400 rounded-full"}),e("div",{class:"flex-1 py-2 mx-2 space-y-4"},[e("div",{class:"w-full h-3 leading-relaxed bg-gray-400 rounded animate-pulse"}),e("div",{class:"w-5/6 h-3 leading-relaxed bg-gray-400 rounded animate-pulse"})])]),e("p",{class:"w-full h-3 mb-3 leading-relaxed bg-gray-400 rounded animate-pulse"}),e("p",{class:"w-2/3 h-3 mb-3 leading-relaxed bg-gray-400 rounded animate-pulse"}),e("p",{class:"w-1/2 h-3 mb-3 leading-relaxed bg-gray-400 rounded animate-pulse"})])],-1)])])),64))])):m("",!0),c(p(P),{onDistance:l=>1,onInfinite:b})]),_:1}))}};export{T as default};
