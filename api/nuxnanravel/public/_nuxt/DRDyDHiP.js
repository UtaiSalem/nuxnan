import{_ as us}from"./fgoR5NrX.js";import{W as ds,r as v,C as yt,ah as ct,_ as xt,N as A,a4 as ut,j as O,o as s,b as d,w as Ce,c as i,d as g,i as dt,a as e,u as n,I as u,t as c,F as N,n as Q,q as S,l as de,aj as It,e as H,ae as tt,ak as et,y as _e,a8 as ot,aa as Ut,Q as $e,af as cs,m as gs,aN as vs,a5 as ps}from"./DuB962GZ.js";import{S as ks}from"./BuM89_iy.js";import{u as mt}from"./CaSR6SuD.js";import{I as fs}from"./DlRiQVPw.js";import{u as hs}from"./BvUhKmsv.js";import{u as _t}from"./BmpSa16v.js";const bs=ds("feed",()=>{const C=v([]),Z=v([]);function y(B){C.value=B}function W(B){C.value.unshift(B)}function V(B,J){const ie=C.value.findIndex(h=>h.target_resource&&h.target_resource.id===B?!0:h.id===B);ie!==-1&&(C.value[ie].target_resource?C.value[ie].target_resource={...C.value[ie].target_resource,...J}:C.value[ie]={...C.value[ie],...J})}function x(B){C.value=C.value.filter(J=>J.target_resource&&J.target_resource.id===B?!1:J.id!==B)}function z(B){Z.value=B}return{posts:C,trendingTopics:Z,setPosts:y,addPost:W,updatePost:V,removePost:x,setTrending:z}}),Mt=()=>{const C=bs(),{$apiFetch:Z}=yt(),y=ct(),W=v([]),V=v([]),x=v([]),z=v(!1);return{feelings:W,activityTypes:V,backgrounds:x,isLoadingOptions:z,fetchPosts:async()=>{try{const P=await Z("/api/newsfeed/activities");P&&P.data&&C.setPosts(P.data)}catch(P){console.error("Error fetching posts:",P),C.setPosts([])}},fetchFeelings:async()=>{if(W.value.length>0)return W.value;try{const P=await Z("/api/posts-feelings");if(P.success){const w=P.data||P.feelings||[];return W.value=w,w}return[]}catch(P){return console.error("Error fetching feelings:",P),[]}},fetchActivityTypes:async()=>{if(V.value.length>0)return V.value;try{const P=await Z("/api/posts-activity-types");if(P.success){const w=P.data||P.activity_types||[];return V.value=w,w}return[]}catch(P){return console.error("Error fetching activity types:",P),[]}},fetchBackgrounds:async()=>{if(x.value.length>0)return x.value;try{const P=await Z("/api/posts-backgrounds");if(P.success){const w=P.data||[];return x.value=w,w}return[]}catch(P){return console.error("Error fetching backgrounds:",P),[]}},fetchPostOptions:async()=>{if(!z.value){z.value=!0;try{const P=await Z("/api/posts-options");P.success&&P.data&&(W.value=P.data.feelings||[],V.value=P.data.activity_types||[],x.value=P.data.backgrounds||[])}catch(P){console.error("Error fetching post options:",P)}finally{z.value=!1}}},createPost:async(P,w={})=>{try{const m=new FormData;m.append("content",P),m.append("privacy_settings",String(w.privacy_settings??3)),m.append("point","1"),w.images&&w.images.length>0&&w.images.forEach((I,_)=>{m.append(`images[${_}]`,I)}),w.location_name&&m.append("location_name",w.location_name),w.location&&(m.append("location[name]",w.location.name),w.location.address&&m.append("location[address]",w.location.address),w.location.city&&m.append("location[city]",w.location.city),w.location.state&&m.append("location[state]",w.location.state),w.location.country&&m.append("location[country]",w.location.country),w.location.latitude&&m.append("location[latitude]",String(w.location.latitude)),w.location.longitude&&m.append("location[longitude]",String(w.location.longitude)),w.location.place_id&&m.append("location[place_id]",w.location.place_id)),w.feeling&&m.append("feeling",w.feeling),w.feeling_icon&&m.append("feeling_icon",w.feeling_icon),w.activity_type&&m.append("activity_type",w.activity_type),w.activity_text&&m.append("activity_text",w.activity_text),w.background_color&&m.append("background_color",w.background_color),w.background_gradient&&m.append("background_gradient",w.background_gradient),w.text_color&&m.append("text_color",w.text_color),w.tagged_users&&w.tagged_users.length>0&&w.tagged_users.forEach((I,_)=>{m.append(`tagged_users[${_}]`,String(I))}),w.scheduled_at&&m.append("scheduled_at",w.scheduled_at),w.comments_disabled!==void 0&&m.append("comments_disabled",w.comments_disabled?"1":"0");const F=await Z("/api/posts",{method:"POST",body:m});return F.success&&F.activity&&(C.addPost(F.activity),y.user&&(y.user.pp-=180)),F}catch(m){throw console.error("Error creating post:",m),m}},updatePost:async(P,w,m={})=>{try{const F=new FormData;F.append("_method","PUT"),F.append("content",w),m.privacy_settings!==void 0&&F.append("privacy_settings",String(m.privacy_settings)),m.images&&m.images.length>0&&m.images.forEach((_,j)=>{F.append(`images[${j}]`,_)}),m.delete_images&&m.delete_images.length>0&&m.delete_images.forEach((_,j)=>{F.append(`delete_images[${j}]`,String(_))}),m.image_order&&m.image_order.length>0&&m.image_order.forEach((_,j)=>{F.append(`image_order[${j}]`,String(_))}),m.remove_feeling&&F.append("remove_feeling","1"),m.remove_background&&F.append("remove_background","1"),m.location_name&&F.append("location_name",m.location_name),m.remove_feeling||(m.feeling&&F.append("feeling",m.feeling),m.feeling_icon&&F.append("feeling_icon",m.feeling_icon),m.activity_type&&F.append("activity_type",m.activity_type),m.activity_text&&F.append("activity_text",m.activity_text)),m.remove_background||(m.background_color&&F.append("background_color",m.background_color),m.background_gradient&&F.append("background_gradient",m.background_gradient),m.text_color&&F.append("text_color",m.text_color)),m.tagged_users&&m.tagged_users.length>0&&m.tagged_users.forEach((_,j)=>{F.append(`tagged_users[${j}]`,String(_))}),m.comments_disabled!==void 0&&F.append("comments_disabled",m.comments_disabled?"1":"0");const I=await Z(`/api/posts/${P}`,{method:"POST",body:F});return I.success&&I.post&&C.updatePost(P,I.post),I}catch(F){throw console.error("Error updating post:",F),F}}}},ys={class:"w-full max-w-2xl mx-4 mb-10 modal-content"},xs={class:"bg-white dark:bg-vikinger-dark-300 rounded-xl shadow-2xl"},ms={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-vikinger-dark-50/30"},_s={class:"p-4 max-h-[70vh] overflow-y-auto"},ws={class:"flex items-center gap-3 mb-4"},$s=["src"],Cs={class:"flex-1"},Ps={class:"font-medium text-gray-800 dark:text-white"},As={key:0,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},Ss={class:"space-y-2"},Bs=["onClick"],js={class:"text-sm text-gray-700 dark:text-gray-300"},Ts={class:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-vikinger-dark-50/30 cursor-pointer"},Ls={key:1,class:"mb-3 flex flex-wrap gap-2"},Ds={key:0,class:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-sm"},Es={key:1,class:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-sm"},Fs=["onClick"],Is=["rows","onKeydown","disabled"],Us={key:2,class:"mb-4"},Ms={class:"flex flex-wrap gap-2"},Ns=["src"],Os={key:0,class:"absolute top-1 left-1 px-1.5 py-0.5 bg-green-500 text-white text-xs rounded"},Rs=["onClick"],zs={class:"text-xs text-gray-500 mt-1"},Vs={key:3,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},qs={class:"flex items-center justify-between mb-3"},Ks={class:"flex flex-wrap gap-2"},Qs=["onClick"],Ws={key:4,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg max-h-48 overflow-y-auto"},Ys={class:"flex items-center justify-between mb-3"},Gs={class:"text-xs text-gray-500 uppercase mb-2"},Hs={class:"grid grid-cols-5 gap-2"},Js=["onClick"],Xs={class:"text-xl"},Zs={class:"text-xs text-gray-600 dark:text-gray-400 truncate w-full text-center"},ea={key:5,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg max-h-48 overflow-y-auto"},ta={class:"flex items-center justify-between mb-3"},sa={class:"text-xs text-gray-500 uppercase mb-2"},aa={class:"grid grid-cols-3 gap-2"},ra=["onClick"],la={class:"text-lg"},ia={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},na={key:0,class:"mt-3"},oa=["placeholder"],ua={key:6,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},da={class:"flex items-center justify-between mb-3"},ca={class:"flex items-center gap-2"},ga={key:7,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},va={class:"flex items-center justify-between mb-3"},pa={key:0,class:"flex flex-wrap gap-2 mb-3"},ka=["src"],fa={class:"text-xs text-blue-700 dark:text-blue-300"},ha=["onClick"],ba={class:"relative"},ya={key:0,class:"absolute right-2 top-1/2 -translate-y-1/2"},xa={key:1,class:"mt-2 p-4 text-center"},ma={key:2,class:"mt-2 space-y-1 max-h-40 overflow-y-auto border border-gray-200 dark:border-vikinger-dark-50/30 rounded-lg bg-white dark:bg-vikinger-dark-100"},_a=["onClick","disabled"],wa=["src"],$a={class:"flex-1 text-left"},Ca={class:"text-sm text-gray-800 dark:text-white block"},Pa={key:0,class:"text-xs text-gray-500"},Aa={key:3,class:"mt-2 p-3 text-center text-sm text-gray-500 dark:text-gray-400 bg-white dark:bg-vikinger-dark-100 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30"},Sa={key:4,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Ba={class:"flex flex-wrap gap-2 border-t border-gray-200 dark:border-vikinger-dark-50/30 pt-4"},ja=["disabled"],Ta=["disabled"],La=["disabled"],Da=["disabled"],Ea=["disabled"],Fa=["disabled"],Ia={class:"p-4 border-t border-gray-200 dark:border-vikinger-dark-50/30"},Ua=["disabled"],Ma={__name:"EditPostModal",props:{show:{type:Boolean,default:!1},post:{type:Object,default:null}},emits:["close","post-updated"],setup(C,{emit:Z}){const y=C,W=Z,{$apiFetch:V}=yt(),x=ct(),z=mt(),{feelings:B,activityTypes:J,backgrounds:ie,fetchPostOptions:h,updatePost:U}=Mt(),D=v(""),ee=v(!1),P=v([]),w=v([]),m=v([]),F=v(null),I=A(()=>typeof window>"u"?[]:P.value.map(p=>({file:p,url:URL.createObjectURL(p),isNew:!0}))),_=A(()=>[...w.value.map(l=>({id:l.id,url:l.url||l.full_url,isNew:!1})),...I.value]),j=v(3),G=v(""),R=v(null),q=v(null),M=v(""),L=v(null),Y=v([]),be=v(!1),se=v(!1),ae=v(!1),ke=v(!1),ne=v(!1),fe=v(!1),ce=v(!1),re=v(""),te=v([]),oe=v(!1),ge=v(!1);ut(()=>y.show,p=>{p&&y.post&&(h(),Le())}),ut(()=>y.post,p=>{y.show&&p&&Le()},{deep:!0});const Le=()=>{const p=y.post;if(!p)return;D.value=p.content||"",j.value=p.privacy_settings??3,G.value=p.location_name||"",be.value=p.comments_disabled||!1;const l=p.postImages||p.post_images||p.images||[];w.value=l.map(a=>{let k=a.url||a.full_url||a.thumbnail||"";return k&&!k.startsWith("http")&&(k=`${$e().public.apiBase}/storage/${k}`),{id:a.id,url:k}}).filter(a=>a.url),m.value=[],P.value=[],p.feeling?R.value={name:p.feeling,icon:p.feeling_icon||"üòä",name_th:p.feeling}:R.value=null,p.activity_type?(q.value={name:p.activity_type,icon:"üéØ",name_th:p.activity_type},M.value=p.activity_text||""):(q.value=null,M.value=""),p.background_color||p.background_gradient?L.value={background_color:p.background_color,background_gradient:p.background_gradient,text_color:p.text_color||"#ffffff"}:L.value=null,Y.value=p.tagged_users||[],se.value=!1,ae.value=!1,ke.value=!1,ne.value=!!G.value,fe.value=!1,ce.value=!1},De=[{value:3,label:"‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞",icon:"mdi:earth",color:"text-blue-500"},{value:2,label:"‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",icon:"mdi:account-group",color:"text-green-500"},{value:1,label:"‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏â‡∏±‡∏ô",icon:"mdi:lock",color:"text-gray-500"}],le=A(()=>De.find(p=>p.value===j.value)||De[0]),st=A(()=>{if(!L.value)return{};const p=L.value,l={};return p.background_gradient?l.background=p.background_gradient:p.background_color&&(l.backgroundColor=p.background_color),p.text_color&&(l.color=p.text_color),l}),Ee=A(()=>{const p=[];if(R.value&&p.push(`${R.value.icon} ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å${R.value.name_th||R.value.name}`),q.value){let l=`${q.value.icon} ‡∏Å‡∏≥‡∏•‡∏±‡∏á${q.value.name_th||q.value.name}`;M.value&&(l+=` ${M.value}`),p.push(l)}return p.join(" ‚Äî ")}),Ne=A(()=>{const p={};return B.value.forEach(l=>{p[l.category]||(p[l.category]=[]),p[l.category].push(l)}),p}),Pe=A(()=>{const p={};return J.value.forEach(l=>{p[l.category]||(p[l.category]=[]),p[l.category].push(l)}),p}),ye=()=>{W("close")},Ae=async()=>{if(!(!D.value.trim()&&_.value.length===0)&&!ee.value){ee.value=!0;try{const p={images:P.value,privacy_settings:j.value,comments_disabled:be.value,delete_images:m.value};G.value&&(p.location_name=G.value);const l=y.post;R.value?(p.feeling=R.value.name,p.feeling_icon=R.value.icon):l?.feeling&&(p.remove_feeling=!0),q.value&&(p.activity_type=q.value.name,M.value&&(p.activity_text=M.value)),L.value&&_.value.length===0?(p.background_color=L.value.background_color,p.background_gradient=L.value.background_gradient,p.text_color=L.value.text_color):(l?.background_color||l?.background_gradient)&&(p.remove_background=!0),Y.value.length>0&&(p.tagged_users=Y.value.map(k=>k.id));const a=await U(y.post.id,D.value,p);a.success?(W("post-updated",a.post),ye(),z.toast("‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!","success")):z.error(a.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏î‡πâ")}catch(p){console.error("Error updating post:",p);let l="‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";p?.data?.message&&(l=p.data.message),z.error(l)}finally{ee.value=!1}}},xe=p=>{const l=Array.from(p.target.files);_.value.length+l.length;const a=20-_.value.length;P.value=[...P.value,...l.slice(0,a)],l.length>0&&(L.value=null),p.target.value=""},Fe=p=>{const l=_.value[p];if(l.isNew){const a=P.value.findIndex(k=>URL.createObjectURL(k)===l.url);a!==-1&&P.value.splice(a,1)}else m.value.push(l.id),w.value=w.value.filter(a=>a.id!==l.id)},me=()=>{F.value?.click()},he=p=>{R.value=p,se.value=!1},Ie=p=>{q.value=p,ae.value=!1},Oe=p=>{L.value?.id===p.id?L.value=null:(L.value=p,P.value=[],w.value=[],m.value=y.post?.postImages?.map(l=>l.id)||[])};let Se=null;const Be=async()=>{if(!re.value.trim()){te.value=[],ge.value=!1;return}Se&&clearTimeout(Se),Se=setTimeout(async()=>{oe.value=!0;try{const p=await V(`/api/friends/search?q=${encodeURIComponent(re.value)}`);p.success&&(te.value=p.data||[])}catch(p){console.error("Error searching friends:",p),te.value=[]}finally{oe.value=!1,ge.value=!0}},300)},we=p=>{Y.value.find(l=>l.id===p.id)||Y.value.push(p),re.value="",te.value=[]},Ke=p=>{Y.value=Y.value.filter(l=>l.id!==p)};return(p,l)=>(s(),O(Ut,{to:"body"},[d(ot,{name:"modal"},{default:Ce(()=>[C.show?(s(),i("div",{key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center pt-10 md:pt-16 overflow-y-auto backdrop-blur-sm",onClick:dt(ye,["self"])},[e("div",ys,[e("div",xs,[e("div",ms,[l[19]||(l[19]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-white"},"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå",-1)),e("button",{onClick:ye,class:"p-2 hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 rounded-full"},[d(n(u),{icon:"mdi:close",class:"w-6 h-6 text-gray-500"})])]),e("div",_s,[e("input",{type:"file",ref_key:"imageInput",ref:F,class:"hidden",accept:"image/*",multiple:"",onChange:xe},null,544),e("div",ws,[e("img",{src:n(x).user?.avatar||"https://i.pravatar.cc/40",class:"w-10 h-10 rounded-full object-cover"},null,8,$s),e("div",Cs,[e("div",Ps,c(n(x).user?.name),1),e("button",{onClick:l[0]||(l[0]=a=>ce.value=!ce.value),class:"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700"},[d(n(u),{icon:le.value.icon,class:"w-3 h-3"},null,8,["icon"]),e("span",null,c(le.value.label),1),d(n(u),{icon:"mdi:chevron-down",class:"w-3 h-3"})])])]),ce.value?(s(),i("div",As,[e("div",Ss,[(s(),i(N,null,Q(De,a=>e("button",{key:a.value,onClick:k=>{j.value=a.value,ce.value=!1},class:S(["w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white dark:hover:bg-vikinger-dark-100",{"bg-white dark:bg-vikinger-dark-100":j.value===a.value}])},[d(n(u),{icon:a.icon,class:S(["w-5 h-5",a.color])},null,8,["icon","class"]),e("span",js,c(a.label),1)],10,Bs)),64))]),e("label",Ts,[de(e("input",{type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=a=>be.value=a),class:"rounded text-vikinger-purple"},null,512),[[It,be.value]]),l[20]||(l[20]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",-1))])])):g("",!0),R.value||q.value||G.value||Y.value.length>0?(s(),i("div",Ls,[Ee.value?(s(),i("span",Ds,[H(c(Ee.value)+" ",1),e("button",{onClick:l[2]||(l[2]=a=>{R.value=null,q.value=null,M.value=""}),class:"hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})])])):g("",!0),G.value?(s(),i("span",Es,[d(n(u),{icon:"mdi:map-marker",class:"w-3 h-3"}),H(" "+c(G.value)+" ",1),e("button",{onClick:l[3]||(l[3]=a=>{G.value="",ne.value=!1}),class:"hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})])])):g("",!0),(s(!0),i(N,null,Q(Y.value,a=>(s(),i("span",{key:a.id,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm"},[H(c(a.name)+" ",1),e("button",{onClick:k=>Ke(a.id),class:"hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})],8,Fs)]))),128))])):g("",!0),e("div",{class:S(["rounded-lg mb-4 min-h-[120px] p-4 transition-all",L.value?"":"bg-gray-50 dark:bg-vikinger-dark-200"]),style:tt(st.value)},[de(e("textarea",{"onUpdate:modelValue":l[4]||(l[4]=a=>D.value=a),placeholder:"‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà?",rows:L.value?5:3,class:S(["w-full bg-transparent border-none outline-none resize-none placeholder-gray-400",L.value?"text-center text-lg font-medium":"text-gray-800 dark:text-white"]),style:tt(L.value?{color:L.value.text_color}:{}),onKeydown:et(dt(Ae,["ctrl"]),["enter"]),disabled:ee.value},null,46,Is),[[_e,D.value]])],6),_.value.length>0?(s(),i("div",Us,[e("div",Ms,[(s(!0),i(N,null,Q(_.value,(a,k)=>(s(),i("div",{key:a.id||a.url,class:"relative group"},[e("img",{src:a.url,class:"w-32 h-32 object-cover rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30"},null,8,Ns),a.isNew?(s(),i("div",Os,"‡πÉ‡∏´‡∏°‡πà")):g("",!0),e("button",{onClick:E=>Fe(k),class:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm md:opacity-0 md:group-hover:opacity-100 transition-opacity"},[d(n(u),{icon:"mdi:close",class:"w-4 h-4"})],8,Rs)]))),128)),_.value.length<20?(s(),i("button",{key:0,onClick:me,class:"w-32 h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center hover:border-vikinger-purple hover:bg-vikinger-purple/5 transition-all"},[d(n(u),{icon:"mdi:plus",class:"w-8 h-8 text-gray-400"})])):g("",!0)]),e("p",zs,c(_.value.length)+"/20 ‡∏£‡∏π‡∏õ",1)])):g("",!0),ke.value&&_.value.length===0?(s(),i("div",Vs,[e("div",qs,[l[21]||(l[21]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á",-1)),e("button",{onClick:l[5]||(l[5]=a=>ke.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),e("div",Ks,[e("button",{onClick:l[6]||(l[6]=a=>L.value=null),class:S(["w-10 h-10 rounded-lg border-2 flex items-center justify-center",L.value?"border-gray-300":"border-vikinger-purple"])},[d(n(u),{icon:"mdi:format-clear",class:"w-5 h-5 text-gray-500"})],2),(s(!0),i(N,null,Q(n(ie),a=>(s(),i("button",{key:a.id,onClick:k=>Oe(a),class:S(["w-10 h-10 rounded-lg border-2 transition-all",L.value?.id===a.id?"border-vikinger-purple scale-110":"border-transparent"]),style:tt({background:a.background_gradient||a.background_color})},null,14,Qs))),128))])])):g("",!0),se.value?(s(),i("div",Ws,[e("div",Ys,[l[22]||(l[22]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",-1)),e("button",{onClick:l[7]||(l[7]=a=>se.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),(s(!0),i(N,null,Q(Ne.value,(a,k)=>(s(),i("div",{key:k,class:"mb-3"},[e("div",Gs,c(k),1),e("div",Hs,[(s(!0),i(N,null,Q(a,E=>(s(),i("button",{key:E.id,onClick:K=>he(E),class:S(["flex flex-col items-center p-2 rounded-lg hover:bg-white dark:hover:bg-vikinger-dark-100",{"bg-vikinger-purple/10 ring-1 ring-vikinger-purple":R.value?.id===E.id}])},[e("span",Xs,c(E.icon),1),e("span",Zs,c(E.name_th||E.name),1)],10,Js))),128))])]))),128))])):g("",!0),ae.value?(s(),i("div",ea,[e("div",ta,[l[23]||(l[23]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?",-1)),e("button",{onClick:l[8]||(l[8]=a=>ae.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),(s(!0),i(N,null,Q(Pe.value,(a,k)=>(s(),i("div",{key:k,class:"mb-3"},[e("div",sa,c(k),1),e("div",aa,[(s(!0),i(N,null,Q(a,E=>(s(),i("button",{key:E.id,onClick:K=>Ie(E),class:S(["flex items-center gap-2 p-2 rounded-lg hover:bg-white dark:hover:bg-vikinger-dark-100 text-left",{"bg-vikinger-purple/10 ring-1 ring-vikinger-purple":q.value?.id===E.id}])},[e("span",la,c(E.icon),1),e("span",ia,c(E.name_th||E.name),1)],10,ra))),128))])]))),128)),q.value?(s(),i("div",na,[de(e("input",{"onUpdate:modelValue":l[9]||(l[9]=a=>M.value=a),type:"text",placeholder:`${q.value.name_th||q.value.name}...`,class:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm"},null,8,oa),[[_e,M.value]])])):g("",!0)])):g("",!0),ne.value?(s(),i("div",ua,[e("div",da,[l[24]||(l[24]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",-1)),e("button",{onClick:l[10]||(l[10]=a=>ne.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),e("div",ca,[d(n(u),{icon:"mdi:map-marker",class:"w-5 h-5 text-red-500"}),de(e("input",{"onUpdate:modelValue":l[11]||(l[11]=a=>G.value=a),type:"text",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà...",class:"flex-1 px-3 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm"},null,512),[[_e,G.value]])])])):g("",!0),fe.value?(s(),i("div",ga,[e("div",va,[l[25]||(l[25]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÅ‡∏ó‡πá‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",-1)),e("button",{onClick:l[12]||(l[12]=a=>fe.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),Y.value.length>0?(s(),i("div",pa,[(s(!0),i(N,null,Q(Y.value,a=>(s(),i("div",{key:a.id,class:"flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full"},[e("img",{src:a.avatar||"https://i.pravatar.cc/40",class:"w-5 h-5 rounded-full"},null,8,ka),e("span",fa,c(a.name),1),e("button",{onClick:k=>Ke(a.id),class:"ml-1 text-blue-500 hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})],8,ha)]))),128))])):g("",!0),e("div",ba,[d(n(u),{icon:"mdi:magnify",class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),de(e("input",{"onUpdate:modelValue":l[13]||(l[13]=a=>re.value=a),onInput:Be,type:"text",placeholder:"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...",class:"w-full pl-9 pr-10 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-all"},null,544),[[_e,re.value]]),oe.value?(s(),i("div",ya,[...l[26]||(l[26]=[e("div",{class:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"},null,-1)])])):g("",!0)]),oe.value?(s(),i("div",xa,[...l[27]||(l[27]=[e("div",{class:"inline-flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},[e("div",{class:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e("span",null,"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...")],-1)])])):g("",!0),te.value.length>0?(s(),i("div",ma,[(s(!0),i(N,null,Q(te.value,a=>(s(),i("button",{key:a.id,onClick:k=>we(a),class:S(["w-full flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors",{"opacity-50 cursor-not-allowed":Y.value.find(k=>k.id===a.id)}]),disabled:!!Y.value.find(k=>k.id===a.id)},[e("img",{src:a.avatar||"https://i.pravatar.cc/40",class:"w-8 h-8 rounded-full"},null,8,wa),e("div",$a,[e("span",Ca,c(a.name),1),a.username?(s(),i("span",Pa,"@"+c(a.username),1)):g("",!0)]),Y.value.find(k=>k.id===a.id)?(s(),O(n(u),{key:0,icon:"mdi:check",class:"w-5 h-5 text-green-500"})):(s(),O(n(u),{key:1,icon:"mdi:plus",class:"w-5 h-5 text-blue-500"}))],10,_a))),128))])):ge.value&&re.value&&!oe.value?(s(),i("div",Aa,[d(n(u),{icon:"mdi:account-search",class:"w-8 h-8 mx-auto mb-1 text-gray-400"}),e("p",null,'‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ "'+c(re.value)+'"',1)])):g("",!0),re.value?g("",!0):(s(),i("p",Sa,"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"))])):g("",!0),e("div",Ba,[e("button",{onClick:me,class:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all",disabled:ee.value},[d(n(u),{icon:"mdi:image-multiple",class:"w-5 h-5 text-green-500"}),l[28]||(l[28]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",-1))],8,ja),e("button",{onClick:l[14]||(l[14]=a=>{se.value=!se.value,ae.value=!1}),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-yellow-400 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-all",{"border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":R.value}]),disabled:ee.value},[d(n(u),{icon:"mdi:emoticon-happy",class:"w-5 h-5 text-yellow-500"}),l[29]||(l[29]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å",-1))],10,Ta),e("button",{onClick:l[15]||(l[15]=a=>{ae.value=!ae.value,se.value=!1}),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all",{"border-orange-400 bg-orange-50 dark:bg-orange-900/20":q.value}]),disabled:ee.value},[d(n(u),{icon:"mdi:run",class:"w-5 h-5 text-orange-500"}),l[30]||(l[30]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",-1))],10,La),e("button",{onClick:l[16]||(l[16]=a=>ne.value=!ne.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",{"border-red-400 bg-red-50 dark:bg-red-900/20":G.value}]),disabled:ee.value},[d(n(u),{icon:"mdi:map-marker",class:"w-5 h-5 text-red-500"}),l[31]||(l[31]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",-1))],10,Da),e("button",{onClick:l[17]||(l[17]=a=>fe.value=!fe.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",{"border-blue-400 bg-blue-50 dark:bg-blue-900/20":Y.value.length>0}]),disabled:ee.value},[d(n(u),{icon:"mdi:account-multiple-plus",class:"w-5 h-5 text-blue-500"}),l[32]||(l[32]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡πÅ‡∏ó‡πá‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",-1))],10,Ea),_.value.length===0?(s(),i("button",{key:0,onClick:l[18]||(l[18]=a=>ke.value=!ke.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all",{"border-purple-400 bg-purple-50 dark:bg-purple-900/20":L.value}]),disabled:ee.value},[d(n(u),{icon:"mdi:palette",class:"w-5 h-5 text-purple-500"}),l[33]||(l[33]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á",-1))],10,Fa)):g("",!0)])]),e("div",Ia,[e("button",{onClick:Ae,disabled:ee.value||!D.value.trim()&&_.value.length===0,class:"w-full py-3 px-4 bg-gradient-vikinger text-white font-semibold rounded-lg hover:shadow-vikinger transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[ee.value?(s(),O(n(u),{key:0,icon:"mdi:loading",class:"w-5 h-5 animate-spin"})):g("",!0),e("span",null,c(ee.value?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...":"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç"),1)],8,Ua)])])])])):g("",!0)]),_:1})]))}},Na=xt(Ma,[["__scopeId","data-v-d29e5bb2"]]),Oa={class:"flex items-center gap-3 mb-4"},Ra=["src","alt"],za={class:"flex-1"},Va={class:"flex items-center gap-2 flex-wrap"},qa={class:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},Ka={class:"relative"},Qa={key:0,class:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-vikinger-dark-100 rounded-xl shadow-lg border border-gray-200 dark:border-vikinger-dark-50/30 overflow-hidden z-50"},Wa=["disabled"],Ya={class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors text-left"},Ga={key:0,class:"text-gray-700 dark:text-gray-300 mb-4 whitespace-pre-wrap"},Ha={key:2,class:"p-4 bg-gray-100 dark:bg-vikinger-dark-100 rounded-lg text-gray-500"},Ja={class:"mt-4 pt-3 border-t border-gray-200 dark:border-vikinger-dark-50/30"},Xa={class:"flex items-center gap-4 mb-3 text-sm text-gray-600 dark:text-gray-400"},Za={key:0,class:"flex items-center gap-1"},er={key:1,class:"flex items-center gap-1"},tr={key:2,class:"flex items-center gap-1"},sr={class:"flex items-center gap-4"},ar=["disabled"],rr={class:"text-sm"},lr=["disabled"],ir={class:"text-sm"},nr={key:0,class:"mt-4 space-y-3"},or={class:"flex gap-2"},ur=["src"],dr={class:"flex-1 relative"},cr=["onKeydown"],gr=["disabled"],vr={key:0,class:"space-y-3"},pr=["src","alt"],kr={class:"flex-1"},fr={class:"bg-gray-100 dark:bg-vikinger-dark-200 rounded-2xl p-3"},hr={class:"font-semibold text-sm text-gray-800 dark:text-white"},br={class:"text-sm text-gray-700 dark:text-gray-300 mt-1 whitespace-pre-wrap"},yr={key:0,class:"flex items-center gap-3 mt-1 px-2 text-[11px] text-gray-500 dark:text-gray-400"},xr={key:0,class:"flex items-center gap-1"},mr={class:"font-medium"},_r={key:1,class:"flex items-center gap-1"},wr={class:"font-medium"},$r={class:"flex items-center gap-3 mt-1 text-xs text-gray-500 dark:text-gray-400 px-2"},Cr=["onClick","disabled"],Pr=["onClick","disabled"],Ar=["onClick"],Sr={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Br={key:3,class:"flex justify-center py-3"},jr={class:"flex items-center justify-between mb-4"},Tr={class:"flex items-center gap-3"},Lr={class:"relative flex-shrink-0"},Dr=["src","alt"],Er={class:"flex items-center gap-2 flex-wrap"},Fr={key:1,class:"text-gray-600 dark:text-gray-400 text-sm"},Ir={class:"text-gray-500 dark:text-gray-400"},Ur={key:0,class:"text-vikinger-cyan font-medium"},Mr={key:3,class:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 dark:bg-vikinger-dark-200 text-xs"},Nr={key:1,class:"text-gray-600 dark:text-gray-300"},Or={key:1,class:"text-gray-400"},Rr={class:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},zr={class:"flex items-center gap-1"},Vr={key:0,class:"flex items-center gap-1 text-vikinger-cyan"},qr={key:0,class:"relative"},Kr={key:0,class:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-vikinger-dark-100 rounded-xl shadow-lg border border-gray-200 dark:border-vikinger-dark-50/30 overflow-hidden z-50"},Qr=["disabled"],Wr={class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors text-left"},Yr={key:0,class:"mb-4 p-4 bg-gradient-to-r from-pink-50 to-purple-50 dark:from-pink-900/20 dark:to-purple-900/20 rounded-xl"},Gr={class:"flex items-center justify-between"},Hr={class:"flex items-center gap-3"},Jr={class:"w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center"},Xr={class:"text-sm text-gray-600 dark:text-gray-400"},Zr={class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500"},el={key:0,class:"text-lg font-bold mb-2 text-gray-800 dark:text-white"},tl={class:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed"},sl={key:2,class:"flex flex-wrap gap-2 mt-3"},al=["src"],rl={key:1,class:"grid grid-cols-2 gap-1"},ll=["src","onClick"],il={key:2,class:"grid grid-cols-2 gap-1 relative"},nl=["src","onClick"],ol={key:0,class:"absolute bottom-2 right-2 bg-black/60 text-white px-3 py-1 rounded-full text-sm font-medium"},ul={key:4,class:"mt-4 rounded-xl overflow-hidden"},dl={key:0,controls:"",class:"w-full rounded-xl"},cl=["src"],gl={key:1,controls:"",class:"w-full"},vl=["src"],pl={class:"flex items-center gap-4"},kl={key:0,class:"flex items-center gap-1.5 hover:text-vikinger-purple cursor-pointer transition-colors"},fl={class:"font-medium"},hl={class:"font-medium"},bl={class:"font-medium"},yl={class:"font-medium"},xl={key:1,class:"flex items-center gap-1.5 hover:text-vikinger-green cursor-pointer transition-colors"},ml={class:"font-medium"},_l=["disabled"],wl={class:"text-sm font-medium"},$l=["disabled"],Cl={class:"text-sm font-medium"},Pl={class:"flex-1 relative"},Al=["disabled"],Sl={key:0,class:"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-vikinger-dark-100 rounded-xl shadow-lg border border-gray-200 dark:border-vikinger-dark-50/30 overflow-hidden z-20"},Bl={key:2,class:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-vikinger-dark-50/30"},jl={class:"flex -space-x-1"},Tl={class:"text-sm text-gray-500 dark:text-gray-400 font-medium"},Ll={key:3,class:"mt-4 pt-4 border-t border-gray-200 dark:border-vikinger-dark-50/30 space-y-4"},Dl={class:"flex gap-3"},El=["src"],Fl={class:"flex-1 flex gap-2"},Il=["disabled"],Ul=["disabled"],Ml={key:0,class:"space-y-3"},Nl=["src","alt"],Ol={class:"flex-1"},Rl={class:"bg-gray-100 dark:bg-vikinger-dark-200 rounded-2xl p-3"},zl={class:"font-semibold text-sm text-gray-800 dark:text-white"},Vl={class:"text-sm text-gray-700 dark:text-gray-300 mt-1"},ql={key:0,class:"flex items-center gap-3 mt-1 px-2 text-[11px] text-gray-500 dark:text-gray-400"},Kl={key:0,class:"flex items-center gap-1"},Ql={class:"font-medium"},Wl={key:1,class:"flex items-center gap-1"},Yl={class:"font-medium"},Gl={class:"flex flex-wrap items-center gap-x-2 gap-y-1 mt-1.5 text-xs text-gray-500 dark:text-gray-400 px-2"},Hl={class:"text-[11px]"},Jl=["onClick","disabled"],Xl={class:"hidden sm:inline"},Zl=["onClick","disabled"],ei={class:"hidden sm:inline"},ti=["onClick"],si=["onClick"],ai={class:"hidden xs:inline"},ri={key:1,class:"mt-2 ml-2 flex gap-2"},li=["src"],ii={class:"flex-1 flex gap-2"},ni=["id","placeholder","onKeydown"],oi=["onClick","disabled"],ui={key:2,class:"mt-3 ml-4 pl-4 border-l-2 border-gray-200 dark:border-vikinger-dark-300 space-y-3"},di={key:0,class:"flex items-center gap-2 py-2"},ci=["src","alt"],gi={class:"flex-1"},vi={class:"bg-gray-100 dark:bg-vikinger-dark-300 rounded-xl p-2.5"},pi={class:"font-semibold text-xs text-gray-800 dark:text-white"},ki={class:"text-xs text-gray-700 dark:text-gray-300 mt-0.5"},fi={key:0,class:"flex items-center gap-2 mt-1 px-2 text-[10px] text-gray-500"},hi={key:0,class:"flex items-center gap-0.5"},bi={key:1,class:"flex items-center gap-0.5"},yi={class:"flex flex-wrap items-center gap-x-2 gap-y-0.5 mt-1 text-[10px] text-gray-500 px-2"},xi=["onClick","disabled"],mi={class:"hidden sm:inline"},_i=["onClick","disabled"],wi={class:"hidden sm:inline"},$i=["onClick"],Ci={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},Pi={key:3,class:"flex justify-center py-3"},Ft=300,Ai={__name:"FeedPost",props:{post:{type:Object,required:!0},isNested:{type:Boolean,default:!1}},emits:["delete-success","post-updated"],setup(C,{emit:Z}){const y=ct(),W=hs(),V=cs(),x=mt(),{getAvatarUrl:z}=_t(),B=C,J=Z,ie=A(()=>!!B.post.target_resource),h=A(()=>B.post.target_resource?B.post.target_resource:B.post),U=A(()=>B.post.action||null),D=A(()=>B.post.action_to||null),ee=A(()=>{if(P.value&&B.post.target_resource?.share_comment)return B.post.target_resource.share_comment;if(B.post.share_comment)return B.post.share_comment;if(B.post.activity_details)try{return(typeof B.post.activity_details=="string"?JSON.parse(B.post.activity_details):B.post.activity_details).share_comment||null}catch(t){return console.error("Failed to parse activity_details:",t),null}return null}),P=A(()=>["share_post","share","repost"].includes(U.value)),w=A(()=>{if(!ie.value)return!0;const t=B.post.action_by?.id,r=_.value?.id;return P.value?!1:!t||!r?!0:t===r});A(()=>U.value?{create_post:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà",share_post:"‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå",share:"‡πÅ‡∏ä‡∏£‡πå",comment:"‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",like:"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à",donate:"‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ",receive_donation:"‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ",create:"‡∏™‡∏£‡πâ‡∏≤‡∏á",update:"‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï",join:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°",enroll:"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",complete:"‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö"}[U.value]||U.value:null);const m=A(()=>U.value&&{create_post:"‡πÇ‡∏û‡∏™‡∏ï‡πå",share_post:"‡πÅ‡∏ä‡∏£‡πå",share:"‡πÅ‡∏ä‡∏£‡πå",comment:"‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",like:"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à",donate:"‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ",receive_donation:"‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ",create:"‡∏™‡∏£‡πâ‡∏≤‡∏á",update:"‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï",join:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°",enroll:"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",complete:"‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏ö"}[U.value]||null);A(()=>U.value?{create_post:"fluent:add-circle-24-regular",share_post:"fluent:share-24-regular",share:"fluent:share-24-regular",comment:"fluent:comment-24-regular",like:"fluent:thumb-like-24-regular",donate:"fluent:heart-24-regular",receive_donation:"fluent:gift-24-regular",create:"fluent:add-24-regular",update:"fluent:edit-24-regular",join:"fluent:people-add-24-regular",enroll:"fluent:book-add-24-regular",complete:"fluent:checkmark-circle-24-regular"}[U.value]||"fluent:flash-24-regular":null);const F=A(()=>D.value?{Post:"",CoursePost:"‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤",AcademyPost:"‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô",Donate:"",DonateRecipient:"",Poll:"‡πÇ‡∏û‡∏•",Support:"‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô",SupportViewer:"",Course:"‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤",Academy:"‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô"}[D.value]||"":null),I=A(()=>{const t=h.value;if(t.course)return{type:"course",icon:"fluent:book-24-regular",name:t.course.name||t.course.title,link:`/courses/${t.course_id||t.course.id}`,academy:t.academy?.name||null,academyLink:t.academy?`/academies/${t.academy.id}`:null,color:"text-blue-500"};if(t.academy&&!t.course)return{type:"academy",icon:"fluent:building-24-regular",name:t.academy.name,link:`/academies/${t.academy.id}`,color:"text-purple-500"};if(D.value==="Donate")return{type:"donate",icon:"fluent:heart-24-regular",name:"‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÉ‡∏´‡πâ "+(t.user?.username||"Nuxni"),link:t.user?.id?`/profile/${t.user.id}`:null,amount:t.amounts,color:"text-pink-500"};if(D.value==="DonateRecipient")return{type:"donate_recipient",icon:"fluent:gift-24-regular",name:"‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏à‡∏≤‡∏Å "+(t.donation?.donor_name||"‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏≠‡∏≠‡∏Å‡∏ô‡∏≤‡∏°"),link:t.donation?.donor?.id?`/profile/${t.donation.donor.id}`:null,amount:t.donation?.amounts,color:"text-green-500"};if(D.value==="Poll"||t.poll){const r=t.poll?.id||t.id;return{type:"poll",icon:"fluent:poll-24-regular",name:t.poll?.title||"‡πÇ‡∏û‡∏•",link:r?`/polls/${r}`:null,color:"text-yellow-500"}}return null}),_=A(()=>P.value&&B.post.target_resource?.shareable?B.post.target_resource.shareable.author||B.post.target_resource.shareable.user||{}:h.value.author||h.value.user||{}),j=A(()=>B.post.action_by||_.value),G=A(()=>z(_.value)),R=A(()=>z(j.value)),q=A(()=>z(y.user)),M=t=>z(t?.user||t?.author),L=A(()=>h.value.diff_humans_created_at||B.post.diff_humans_created_at||h.value.createdAt||B.post.createdAt||"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"),Y=A(()=>h.value.hashtags||[]),be=A(()=>h.value.location),se=A(()=>h.value.privacy_settings||h.value.privacy_setting||"public"),ae=A(()=>h.value.post_type||"text");A(()=>h.value.isLikedByAuth||!1),A(()=>h.value.isDislikedByAuth||!1),A(()=>h.value.likes||0),A(()=>h.value.dislikes||0);const ke=A(()=>h.value.views||0);A(()=>h.value.comments_count||0),A(()=>h.value.shares||0);const ne=A(()=>h.value.feeling||null),fe=A(()=>h.value.feeling_icon||null),ce=A(()=>h.value.activity_type||null),re=A(()=>h.value.activity_text||null),te=A(()=>{const t=[];if(ne.value){const r=fe.value||"üòä";t.push(`${r} ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å${ne.value}`)}if(ce.value){const r=re.value?` ${re.value}`:"";t.push(`‡∏Å‡∏≥‡∏•‡∏±‡∏á${ce.value}${r}`)}return t.length>0?t.join(" ‚Äî "):null}),oe=A(()=>{if(D.value==="Donate")return h.value.notes?`üíù ${h.value.notes}`:`üíù ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ ${h.value.amounts}`;if(D.value==="DonateRecipient"){const t=h.value.donation;return t?.notes?`üéÅ ${t.notes}`:`üéÅ ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ ${t?.amounts||""}`}return h.value.content||h.value.description||""}),ge=v(!1),Le=A(()=>oe.value.length>Ft),De=A(()=>!Le.value||ge.value?oe.value:oe.value.substring(0,Ft)+"..."),le=A(()=>h.value.imagesResources&&h.value.imagesResources.length?h.value.imagesResources:h.value.images&&h.value.images.length?h.value.images:h.value.slip?[{url:h.value.slip}]:[]),st=A(()=>{switch(se.value){case"friends":return"fluent:people-24-regular";case"private":return"fluent:lock-closed-24-regular";default:return"fluent:globe-24-regular"}}),Ee=A(()=>{const t={CoursePost:{icon:"fluent:book-24-regular",color:"bg-blue-500",label:"‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤"},Donate:{icon:"fluent:heart-24-regular",color:"bg-pink-500",label:"‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ"},DonateRecipient:{icon:"fluent:gift-24-regular",color:"bg-green-500",label:"‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ"},Poll:{icon:"fluent:poll-24-regular",color:"bg-yellow-500",label:"‡πÇ‡∏û‡∏•"},Post:{icon:"fluent:document-text-24-regular",color:"bg-purple-500",label:"‡πÇ‡∏û‡∏™‡∏ï‡πå"}};return t[D.value]||t[ae.value]||null}),Ne=v(!0),Pe=v("");v(!1);const ye=v(null),Ae=v(null),xe=v(""),Fe=v(!1),me=v({}),he=v({}),Ie=v({}),Oe=v({}),Se=v([]),Be=v([]),we=v(!1),Ke=v(1),p=v(!0),l=A(()=>P.value&&X.value?.share_comments?X.value.share_comments:h.value?.post_comments||[]),a=A(()=>[...Se.value,...l.value,...Be.value]),k=A(()=>{const t=at.value,r=a.value.length;return p.value&&t>r}),E=A(()=>Math.max(0,at.value-a.value.length)),K=v(h.value?.isLikedByAuth||!1),ve=v(h.value?.isDislikedByAuth||!1),Qe=v(h.value?.likes||0),We=v(h.value?.dislikes||0),at=v(h.value?.comments_count||0),Re=v(!1),Ye=v(!1),Ge=v(!1),Ue=v(!1),ht=v(!1),rt=v(!1),lt=v(!1),He=v(!1),gt=v(!1),Me=v(h.value?.shares||0),vt=v(!1),pe=A(()=>y.user?.id===_.value?.id),Nt=A(()=>P.value?y.user?.id===j.value?.id:!1);ut(()=>h.value,t=>{t&&(K.value=t.isLikedByAuth||!1,ve.value=t.isDislikedByAuth||!1,Qe.value=t.likes||0,We.value=t.dislikes||0,at.value=t.comments_count||0,Me.value=t.shares||0)},{immediate:!0});const Ot=[{id:"like",icon:"üëç",label:"Like",color:"hover:bg-blue-100 dark:hover:bg-blue-900/30"},{id:"love",icon:"‚ù§Ô∏è",label:"Love",color:"hover:bg-red-100 dark:hover:bg-red-900/30"},{id:"haha",icon:"üòÑ",label:"Haha",color:"hover:bg-yellow-100 dark:hover:bg-yellow-900/30"},{id:"wow",icon:"üòÆ",label:"Wow",color:"hover:bg-orange-100 dark:hover:bg-orange-900/30"},{id:"sad",icon:"üò¢",label:"Sad",color:"hover:bg-gray-100 dark:hover:bg-gray-900/30"},{id:"angry",icon:"üò†",label:"Angry",color:"hover:bg-red-100 dark:hover:bg-red-900/30"}],wt=()=>{Ne.value=!Ne.value},$t=async()=>{if(!(we.value||!p.value||!(P.value&&X.value?.id||h.value?.id))){we.value=!0;try{const r=l.value.length,f=Be.value.length,b=Math.floor((r+f)/10)+1,T=$e();let o="";P.value&&X.value?.id?o=`${T.public.apiBase}/api/shares/${X.value.id}/comments`:D.value==="CoursePost"&&h.value.course_id?o=`${T.public.apiBase}/api/courses/${h.value.course_id}/posts/${h.value.id}/comments`:o=`${T.public.apiBase}/api/posts/${h.value.id}/comments`;const $=await V.get(`${o}?page=${b}&per_page=10`);if($.comments){const ue=new Set([...l.value.map(qe=>qe.id),...Se.value.map(qe=>qe.id),...Be.value.map(qe=>qe.id)]),os=$.comments.filter(qe=>!ue.has(qe.id));Be.value.push(...os)}$.pagination&&(p.value=$.pagination.has_more,Ke.value=$.pagination.current_page)}catch(r){console.error("Failed to load more comments:",r)}finally{we.value=!1}}},Ct=async()=>{if(!(!Pe.value.trim()||Ge.value)){Ge.value=!0;try{const t=$e();let r="";P.value&&X.value?.id?r=`${t.public.apiBase}/api/shares/${X.value.id}/comments`:D.value==="CoursePost"&&h.value.course_id?r=`${t.public.apiBase}/api/courses/${h.value.course_id}/posts/${h.value.id}/comments`:r=`${t.public.apiBase}/api/posts/${h.value.id}/comments`;const f=await $fetch(r,{method:"POST",headers:{Authorization:`Bearer ${y.token}`,Accept:"application/json"},body:{content:Pe.value}});f.success&&(f.comment&&Se.value.unshift(f.comment),P.value&&X.value?Je.value++:at.value++,Pe.value="")}catch(t){console.error("Failed to add comment:",t);const r=t?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ";x.error(r)}finally{Ge.value=!1}}},Pt=async()=>{if(Re.value||!h.value?.id)return;if(pe.value){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}Re.value=!0;const t=K.value;let r=0,f=0;if(t){if(r=12,f=12,!y.deductPoints(r)){x.warning("‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Like (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 12 ‡πÅ‡∏ï‡πâ‡∏°)"),Re.value=!1;return}}else if(r=24,f=12,!y.deductPoints(r)){x.warning("‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 24 ‡πÅ‡∏ï‡πâ‡∏°)"),Re.value=!1;return}K.value=!t,Qe.value+=t?-1:1,!t&&ve.value&&(ve.value=!1,We.value--),_.value?.points!==void 0&&(t||(_.value.points=(_.value.points||0)+f));try{let b="";D.value==="CoursePost"&&h.value.course_id?b=`/api/courses/${h.value.course_id}/posts/${h.value.id}/like`:b=`/api/posts/${h.value.id}/like`;const T=await V.call(b,{method:"POST"});T.success||(K.value=t,Qe.value+=t?1:-1,y.rollback(r),_.value?.points!==void 0&&(t||(_.value.points=(_.value.points||0)-f)),x.error(T.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(b){K.value=t,Qe.value+=t?1:-1,y.rollback(r),_.value?.points!==void 0&&(t?_.value.points=(_.value.points||0)+f:_.value.points=(_.value.points||0)-f),console.error("Failed to like:",b),x.warning("‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏û‡∏≠‡∏¢‡∏ï‡πå‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à")}finally{Re.value=!1}},At=async()=>{if(Ye.value||!h.value?.id)return;if(pe.value){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}Ye.value=!0;const t=ve.value;let r=12;if(!y.deductPoints(r)){t?x.warning("‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Dislike (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 12 ‡πÅ‡∏ï‡πâ‡∏°)"):x.warning("‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 12 ‡πÅ‡∏ï‡πâ‡∏°)"),Ye.value=!1;return}ve.value=!t,We.value+=t?-1:1,!t&&K.value&&(K.value=!1,Qe.value--),_.value?.points!==void 0&&(t||(_.value.points=(_.value.points||0)-r));try{let b="";D.value==="CoursePost"&&h.value.course_id?b=`/api/courses/${h.value.course_id}/posts/${h.value.id}/dislike`:b=`/api/posts/${h.value.id}/dislike`;const T=await V.call(b,{method:"POST"});T.success||(ve.value=t,We.value+=t?1:-1,y.rollback(r),_.value?.points!==void 0&&!t&&(_.value.points=(_.value.points||0)+r),x.error(T.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(b){ve.value=t,We.value+=t?1:-1,y.rollback(r),_.value?.points!==void 0&&!t&&(_.value.points=(_.value.points||0)+r),console.error("Failed to dislike:",b),x.warning("‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏û‡∏≠‡∏¢‡∏ï‡πå‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à")}finally{Ye.value=!1}},St=async t=>{const r=t.user||t.author;if(y.user?.id===r?.id){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}if(t.isLiking)return;t.isLiking=!0;const f=t.isLikedByAuth||!1;let b=0,T=0;if(f?(b=12,T=0):(b=24,T=12),!y.deductPoints(b)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${b} ‡πÅ‡∏ï‡πâ‡∏°)`),t.isLiking=!1;return}t.isLikedByAuth=!f,t.likes=(t.likes||0)+(f?-1:1),!f&&t.isDislikedByAuth&&(t.isDislikedByAuth=!1,t.dislikes=(t.dislikes||0)-1),r?.point!==void 0&&!f&&(r.point=(r.point||0)+T);try{let $="";D.value==="CoursePost"?$=`/api/courses/posts/comments/${t.id}/like`:$=`/api/post_comments/${t.id}/like`;const ue=await V.call($,{method:"POST"});ue.success||(t.isLikedByAuth=f,t.likes=(t.likes||0)+(f?1:-1),y.rollback(b),r?.point!==void 0&&!f&&(r.point=(r.point||0)-T),x.error(ue.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch($){t.isLikedByAuth=f,t.likes=(t.likes||0)+(f?1:-1),y.rollback(b),r?.point!==void 0&&!f&&(r.point=(r.point||0)-T),console.error("Failed to like comment:",$);const ue=$?.data?.message||$?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à";x.error(ue)}finally{t.isLiking=!1}},Bt=async t=>{const r=t.user||t.author;if(y.user?.id===r?.id){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}if(t.isDisliking)return;t.isDisliking=!0;const f=t.isDislikedByAuth||!1,b=12;if(!y.deductPoints(b)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${b} ‡πÅ‡∏ï‡πâ‡∏°)`),t.isDisliking=!1;return}t.isDislikedByAuth=!f,t.dislikes=(t.dislikes||0)+(f?-1:1),!f&&t.isLikedByAuth&&(t.isLikedByAuth=!1,t.likes=(t.likes||0)-1),r?.point!==void 0&&!f&&(r.point=(r.point||0)-b);try{let o="";D.value==="CoursePost"?o=`/api/courses/posts/comments/${t.id}/dislike`:o=`/api/post_comments/${t.id}/dislike`;const $=await V.call(o,{method:"POST"});$.success||(t.isDislikedByAuth=f,t.dislikes=(t.dislikes||0)+(f?1:-1),y.rollback(b),r?.point!==void 0&&!f&&(r.point=(r.point||0)+b),x.error($.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(o){t.isDislikedByAuth=f,t.dislikes=(t.dislikes||0)+(f?1:-1),y.rollback(b),r?.point!==void 0&&!f&&(r.point=(r.point||0)+b),console.error("Failed to dislike comment:",o);const $=o?.data?.message||o?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à";x.error($)}finally{t.isDisliking=!1}},Rt=t=>{Ae.value=t,xe.value="",ps(()=>{const r=document.getElementById(`reply-input-${t.id}`);r&&r.focus()})},jt=()=>{Ae.value=null,xe.value=""},Tt=async t=>{if(!xe.value.trim()||Fe.value)return;const r=12;if(!y.deductPoints(r)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${r} ‡πÅ‡∏ï‡πâ‡∏°)`);return}Fe.value=!0;try{const b=await V.call(`/api/post_comments/${t.id}/replies`,{method:"POST",body:{content:xe.value.trim()}});b.success?(he.value[t.id]||(he.value[t.id]=[]),he.value[t.id].push(b.reply),t.replies_count=(t.replies_count||0)+1,me.value[t.id]=!0,xe.value="",Ae.value=null,x.toast("‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","success")):(y.rollback(r),x.error(b.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ"))}catch(b){y.rollback(r),console.error("Failed to submit reply:",b),x.error(b?.data?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö")}finally{Fe.value=!1}},zt=async t=>{const r=t.id;me.value[r]?me.value[r]=!1:(me.value[r]=!0,he.value[r]||await Lt(t))},Lt=async(t,r=1)=>{const f=t.id;if(!Ie.value[f]){Ie.value[f]=!0;try{const b=await V.call(`/api/post_comments/${f}/replies?page=${r}&per_page=5`);b.success&&(r===1?he.value[f]=b.replies||[]:he.value[f]=[...he.value[f]||[],...b.replies||[]],Oe.value[f]={page:b.pagination?.current_page||r,hasMore:b.pagination?.has_more||!1})}catch(b){console.error("Failed to load replies:",b),x.error("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ")}finally{Ie.value[f]=!1}}},Vt=async t=>{const r=t.id,f=Oe.value[r]?.page||1;await Lt(t,f+1)},qt=async t=>{await St(t)},Kt=async t=>{await Bt(t)},bt=t=>{ye.value=t},Qt=()=>{ye.value=null},Wt=async()=>{if(Ue.value||!h.value?.id)return;if(pe.value){W.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}const t=36,r=y.points||0;if(!y.deductPoints(t)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: ${t} ‡πÅ‡∏ï‡πâ‡∏°
‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà: ${r} ‡πÅ‡∏ï‡πâ‡∏°
‡∏Ç‡∏≤‡∏î‡∏≠‡∏µ‡∏Å: ${t-r} ‡πÅ‡∏ï‡πâ‡∏°`,"‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠");return}Ue.value=!0,Me.value++,_.value?.points!==void 0&&(_.value.points=(_.value.points||0)+18);try{const b=$e();let T="Post";D.value==="CoursePost"?T="CoursePost":D.value==="AcademyPost"&&(T="AcademyPost");const o=`${b.public.apiBase}/api/shares`,$=await $fetch(o,{method:"POST",headers:{Authorization:`Bearer ${y.token}`},body:{shareable_type:T,shareable_id:h.value.id,share_comment:null,privacy:"public"}});$.success?x.toast("‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ","success"):(Me.value--,y.rollback(t),_.value?.points!==void 0&&(_.value.points=(_.value.points||0)-18),console.error("‚ùå Share failed:",$),x.error($.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏î‡πâ"))}catch(b){Me.value--,y.rollback(t),_.value?.points!==void 0&&(_.value.points=(_.value.points||0)-18),console.error("‚ùå Share error:",b),console.error("‚ùå Error data:",b?.data),console.error("‚ùå Error response:",b?.response);const T=b?.data?.message||b?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå";x.error(T)}finally{Ue.value=!1,rt.value=!1}},Yt=()=>{if(pe.value){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}rt.value=!1,ht.value=!0},Gt=async t=>{if(Ue.value||!h.value?.id)return;const r=36,f=y.points||0;if(!y.deductPoints(r)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: ${r} ‡πÅ‡∏ï‡πâ‡∏°
‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà: ${f} ‡πÅ‡∏ï‡πâ‡∏°
‡∏Ç‡∏≤‡∏î‡∏≠‡∏µ‡∏Å: ${r-f} ‡πÅ‡∏ï‡πâ‡∏°`,"‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠");return}Ue.value=!0,Me.value++,_.value?.points!==void 0&&(_.value.points=(_.value.points||0)+18);try{let T="Post";D.value==="CoursePost"?T="CoursePost":D.value==="AcademyPost"&&(T="AcademyPost");const o=await V.call("/api/shares",{method:"POST",body:{shareable_type:T,shareable_id:h.value.id,...t}});o.success?x.toast("‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ","success"):(Me.value--,y.rollback(r),_.value?.points!==void 0&&(_.value.points=(_.value.points||0)-18),x.error(o.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏î‡πâ"))}catch(T){Me.value--,y.rollback(r),_.value?.points!==void 0&&(_.value.points=(_.value.points||0)-18),console.error("Failed to share:",T);const o=T?.data?.message||T?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå";x.error(o)}finally{Ue.value=!1}},X=A(()=>P.value&&B.post.target_resource?B.post.target_resource:null),je=v(X.value?.isLikedByAuth||!1),Te=v(X.value?.isDislikedByAuth||!1),ze=v(X.value?.likes||0),Ve=v(X.value?.dislikes||0),Je=v(X.value?.comments||0),it=v(!1),nt=v(!1);ut(()=>X.value,t=>{t&&(je.value=t.isLikedByAuth||!1,Te.value=t.isDislikedByAuth||!1,ze.value=t.likes||0,Ve.value=t.dislikes||0,Je.value=t.comments||0)},{immediate:!0});const Ht=async()=>{if(it.value||!X.value?.id)return;if(y.user?.id===j.value?.id){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}it.value=!0;const t=je.value;let r=t?12:24,f=12;if(!y.deductPoints(r)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${r} ‡πÅ‡∏ï‡πâ‡∏°)`),it.value=!1;return}je.value=!t,ze.value+=t?-1:1,!t&&Te.value&&(Te.value=!1,Ve.value--),j.value?.points!==void 0&&!t&&(j.value.points=(j.value.points||0)+f);try{const T=await V.call(`/api/shares/${X.value.id}/like`,{method:"POST"});T.success||(je.value=t,ze.value+=t?1:-1,y.rollback(r),j.value?.points!==void 0&&!t&&(j.value.points=(j.value.points||0)-f),x.error(T.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(T){je.value=t,ze.value+=t?1:-1,y.rollback(r),j.value?.points!==void 0&&!t&&(j.value.points=(j.value.points||0)-f),console.error("Failed to like share:",T);const o=T?.data?.message||T?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à";x.error(o)}finally{it.value=!1}},Jt=async()=>{if(nt.value||!X.value?.id)return;if(y.user?.id===j.value?.id){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}nt.value=!0;const t=Te.value;let r=12;if(!y.deductPoints(r)){x.warning("‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 12 ‡πÅ‡∏ï‡πâ‡∏°)"),nt.value=!1;return}Te.value=!t,Ve.value+=t?-1:1,!t&&je.value&&(je.value=!1,ze.value--),j.value?.points!==void 0&&!t&&(j.value.points=(j.value.points||0)-r);try{const b=await V.call(`/api/shares/${X.value.id}/dislike`,{method:"POST"});b.success||(Te.value=t,Ve.value+=t?1:-1,y.rollback(r),j.value?.points!==void 0&&!t&&(j.value.points=(j.value.points||0)+r),x.error(b.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(b){Te.value=t,Ve.value+=t?1:-1,y.rollback(r),j.value?.points!==void 0&&!t&&(j.value.points=(j.value.points||0)+r),console.error("Failed to dislike share:",b);const T=b?.data?.message||b?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à";x.error(T)}finally{nt.value=!1}},pt=v(!0),Xe=v(""),kt=v(!1),Dt=v(!1),Ze=v([]),Xt=v({currentPage:1,lastPage:1,perPage:10,total:0}),Zt=async()=>{pt.value=!pt.value,pt.value&&Ze.value.length===0&&await es()},es=async(t=1)=>{if(X.value?.id){Dt.value=!0;try{const f=`${$e().public.apiBase}/api/shares/${X.value.id}/comments?page=${t}`,b=await $fetch(f,{headers:{Authorization:`Bearer ${y.token}`}});b.success&&(t===1?Ze.value=b.comments||[]:Ze.value=[...Ze.value,...b.comments||[]],b.pagination&&(Xt.value=b.pagination))}catch(r){console.error("Failed to load share comments:",r),W.error("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ")}finally{Dt.value=!1}}},Et=async()=>{if(!(!Xe.value.trim()||!X.value?.id)){kt.value=!0;try{const r=`${$e().public.apiBase}/api/shares/${X.value.id}/comments`,f=await $fetch(r,{method:"POST",headers:{Authorization:`Bearer ${y.token}`},body:{content:Xe.value.trim()}});f.success?(Se.value.unshift(f.comment),Je.value++,Xe.value="",W.success("‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à")):W.error(f.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ")}catch(t){console.error("Failed to submit comment:",t);const r=t?.data?.message||t?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô";W.error(r)}finally{kt.value=!1}}},ts=async t=>{if(await x.confirmDelete("‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ô‡∏µ‡πâ"))try{const b=`${$e().public.apiBase}/api/share-comments/${t}`,T=await $fetch(b,{method:"DELETE",headers:{Authorization:`Bearer ${y.token}`}});T.success?(Ze.value=Ze.value.filter(o=>o.id!==t),Je.value--,x.toast("‡∏•‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","success")):x.error(T.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ")}catch(f){console.error("Failed to delete comment:",f),W.error("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô")}},ss=async t=>{const r=t.user;if(y.user?.id===r?.id){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}if(t.isLiking)return;t.isLiking=!0;const f=t.is_liked_by_auth||!1;let b=0;if(f?b=12:b=24,!y.deductPoints(b)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${b} ‡πÅ‡∏ï‡πâ‡∏°)`),t.isLiking=!1;return}t.is_liked_by_auth=!f,t.likes=(t.likes||0)+(f?-1:1),!f&&t.is_disliked_by_auth&&(t.is_disliked_by_auth=!1,t.dislikes=(t.dislikes||0)-1);try{const $=`${$e().public.apiBase}/api/share-comments/${t.id}/like`,ue=await $fetch($,{method:"POST",headers:{Authorization:`Bearer ${y.token}`}});ue.success||(t.is_liked_by_auth=f,t.likes=(t.likes||0)+(f?1:-1),y.rollback(b),x.error(ue.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(o){t.is_liked_by_auth=f,t.likes=(t.likes||0)+(f?1:-1),y.rollback(b),console.error("Failed to like share comment:",o);const $=o?.data?.message||o?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏ñ‡∏π‡∏Å‡πÉ‡∏à";x.error($)}finally{t.isLiking=!1}},as=async t=>{const r=t.user;if(y.user?.id===r?.id){x.warning("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ");return}if(t.isDisliking)return;t.isDisliking=!0;const f=t.is_disliked_by_auth||!1,b=12;if(!y.deductPoints(b)){x.warning(`‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ${b} ‡πÅ‡∏ï‡πâ‡∏°)`),t.isDisliking=!1;return}t.is_disliked_by_auth=!f,t.dislikes=(t.dislikes||0)+(f?-1:1),!f&&t.is_liked_by_auth&&(t.is_liked_by_auth=!1,t.likes=(t.likes||0)-1);try{const $=`${$e().public.apiBase}/api/share-comments/${t.id}/dislike`,ue=await $fetch($,{method:"POST",headers:{Authorization:`Bearer ${y.token}`}});ue.success||(t.is_disliked_by_auth=f,t.dislikes=(t.dislikes||0)+(f?1:-1),y.rollback(b),x.error(ue.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÑ‡∏î‡πâ"))}catch(o){t.is_disliked_by_auth=f,t.dislikes=(t.dislikes||0)+(f?1:-1),y.rollback(b),console.error("Failed to dislike share comment:",o);const $=o?.data?.message||o?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à";x.error($)}finally{t.isDisliking=!1}},ft=v(!1),rs=async()=>{const t=X.value?.id||B.post.activityable_id;if(!t){console.error("‚ùå No share ID available"),x.error("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö");return}if(lt.value=!1,!!await x.confirmDelete("‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏ô‡∏µ‡πâ","‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏ö")){ft.value=!0;try{const b=`${$e().public.apiBase}/api/shares/${t}`,T=await $fetch(b,{method:"DELETE",headers:{Authorization:`Bearer ${y.token}`}});T.success?(J("delete-success",B.post.id),x.toast("‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","success")):x.error(T.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏î‡πâ")}catch(f){console.error("‚ùå Failed to delete share:",f);const b=f?.data?.message||f?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå";x.error(b)}finally{ft.value=!1}}},ls=async()=>{if(!h.value?.id){x.error("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö");return}if(He.value=!1,!!await x.confirmDelete("‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ô‡∏µ‡πâ","‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏à‡∏∞‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏î‡πâ‡∏ß‡∏¢")){vt.value=!0;try{const f=`${$e().public.apiBase}/api/posts/${h.value.id}`,b=await $fetch(f,{method:"DELETE",headers:{Authorization:`Bearer ${y.token}`}});b.success?(J("delete-success",B.post.id),x.toast("‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","success")):x.error(b.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏î‡πâ")}catch(r){console.error("‚ùå Failed to delete post:",r);const f=r?.data?.message||r?.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå";x.error(f)}finally{vt.value=!1}}},is=()=>{He.value=!1,gt.value=!0},ns=t=>{gt.value=!1,J("post-updated",t)};return(t,r)=>{const f=us,b=gs("FeedPost",!0),T=vs("click-outside");return s(),i("div",{class:S([C.isNested?"border border-gray-200 dark:border-vikinger-dark-50/30 rounded-xl p-4 bg-gray-50 dark:bg-vikinger-dark-200/50":"vikinger-card group hover:shadow-lg transition-shadow duration-300"])},[P.value&&!C.isNested?(s(),i(N,{key:0},[e("div",Oa,[e("img",{src:R.value,class:"w-10 h-10 rounded-full object-cover ring-2 ring-vikinger-cyan/30",alt:j.value?.username},null,8,Ra),e("div",za,[e("div",Va,[d(f,{to:`/profile/${j.value?.id}`,class:"font-bold text-gray-800 dark:text-white hover:text-vikinger-purple transition-colors"},{default:Ce(()=>[H(c(j.value?.username||"‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"),1)]),_:1},8,["to"]),r[13]||(r[13]=e("span",{class:"text-gray-600 dark:text-gray-400"},"‡πÅ‡∏ä‡∏£‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á",-1)),d(f,{to:`/profile/${_.value?.id}`,class:"font-semibold text-vikinger-cyan hover:underline"},{default:Ce(()=>[H(c(_.value?.username||"‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"),1)]),_:1},8,["to"])]),e("div",qa,[d(n(u),{icon:"fluent:share-24-regular",class:"w-3.5 h-3.5"}),e("span",null,c(B.post.diff_humans_created_at||"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"),1)])]),e("div",Ka,[e("button",{onClick:r[0]||(r[0]=o=>lt.value=!lt.value),class:"p-2 hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 rounded-lg transition-colors opacity-0 group-hover:opacity-100"},[d(n(u),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-600 dark:text-gray-300"})]),d(ot,{name:"dropdown"},{default:Ce(()=>[lt.value?de((s(),i("div",Qa,[Nt.value?(s(),i("button",{key:0,onClick:rs,disabled:ft.value,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-left text-red-500"},[ft.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(s(),O(n(u),{key:0,icon:"fluent:delete-24-regular",class:"w-5 h-5"})),r[14]||(r[14]=e("span",{class:"text-sm font-medium"},"‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå",-1))],8,Wa)):g("",!0),e("button",Ya,[d(n(u),{icon:"fluent:flag-24-regular",class:"w-5 h-5 text-gray-500"}),r[15]||(r[15]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",-1))])])),[[T,()=>lt.value=!1]]):g("",!0)]),_:1})])]),ee.value?(s(),i("p",Ga,c(ee.value),1)):g("",!0),X.value?.shareable?(s(),O(b,{key:1,post:X.value.shareable,"is-nested":!0},null,8,["post"])):(s(),i("div",Ha,[d(n(u),{icon:"fluent:warning-24-regular",class:"w-5 h-5 inline-block mr-2"}),r[16]||(r[16]=H(" ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö ",-1))])),e("div",Ja,[e("div",Xa,[ze.value>0?(s(),i("span",Za,[d(n(u),{icon:"fluent:thumb-like-24-filled",class:"w-4 h-4 text-vikinger-purple"}),H(" "+c(ze.value),1)])):g("",!0),Ve.value>0?(s(),i("span",er,[d(n(u),{icon:"fluent:thumb-dislike-24-filled",class:"w-4 h-4 text-red-500"}),H(" "+c(Ve.value),1)])):g("",!0),Je.value>0?(s(),i("span",tr,[d(n(u),{icon:"fluent:comment-24-filled",class:"w-4 h-4 text-vikinger-cyan"}),H(" "+c(Je.value),1)])):g("",!0)]),e("div",sr,[e("button",{onClick:Ht,disabled:it.value,class:S(["flex items-center gap-2 transition-colors",je.value?"text-vikinger-purple dark:text-vikinger-purple":"text-gray-500 dark:text-gray-400 hover:text-vikinger-purple"])},[d(n(u),{icon:je.value?"fluent:thumb-like-24-filled":"fluent:thumb-like-24-regular",class:"w-5 h-5"},null,8,["icon"]),e("span",rr,c(je.value?"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,ar),e("button",{onClick:Jt,disabled:nt.value,class:S(["flex items-center gap-2 transition-colors",Te.value?"text-red-500 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-red-500"])},[d(n(u),{icon:Te.value?"fluent:thumb-dislike-24-filled":"fluent:thumb-dislike-24-regular",class:"w-5 h-5"},null,8,["icon"]),e("span",ir,c(Te.value?"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,lr),e("button",{onClick:Zt,class:"flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-vikinger-cyan transition-colors"},[d(n(u),{icon:"fluent:comment-24-regular",class:"w-5 h-5"}),r[17]||(r[17]=e("span",{class:"text-sm"},"‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",-1))])]),pt.value?(s(),i("div",nr,[e("div",or,[e("img",{src:q.value,class:"w-8 h-8 rounded-full object-cover flex-shrink-0",alt:"Your avatar"},null,8,ur),e("div",dr,[de(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=o=>Xe.value=o),onKeydown:et(dt(Et,["ctrl"]),["enter"]),placeholder:"‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô... (Ctrl+Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á)",class:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-vikinger-purple resize-none",rows:"2"},null,40,cr),[[_e,Xe.value]]),e("button",{onClick:Et,disabled:!Xe.value.trim()||kt.value,class:"absolute bottom-2 right-2 p-1.5 rounded-lg bg-vikinger-purple text-white hover:bg-vikinger-purple/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[kt.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-4 h-4 animate-spin"})):(s(),O(n(u),{key:0,icon:"fluent:send-24-filled",class:"w-4 h-4"}))],8,gr)])]),a.value.length>0?(s(),i("div",vr,[(s(!0),i(N,null,Q(a.value,o=>(s(),i("div",{key:o.id,class:"flex gap-3 group"},[e("img",{src:M(o),class:"w-10 h-10 flex-shrink-0 aspect-square rounded-full object-cover",alt:o.user?.username},null,8,pr),e("div",kr,[e("div",fr,[e("h6",hr,c(o.user?.username||"Unknown"),1),e("p",br,c(o.content),1)]),o.likes||o.dislikes?(s(),i("div",yr,[o.likes?(s(),i("span",xr,[d(n(u),{icon:"fluent:thumb-like-16-filled",class:"w-3 h-3 text-vikinger-purple"}),e("span",mr,c(o.likes),1)])):g("",!0),o.dislikes?(s(),i("span",_r,[d(n(u),{icon:"fluent:thumb-dislike-16-filled",class:"w-3 h-3 text-red-500"}),e("span",wr,c(o.dislikes),1)])):g("",!0)])):g("",!0),e("div",$r,[e("span",null,c(o.diff_humans_created_at||"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"),1),e("button",{onClick:$=>ss(o),disabled:o.isLiking||n(y).user?.id===o.user?.id,class:S(["flex items-center gap-1 font-medium transition-colors",o.is_liked_by_auth?"text-vikinger-purple":"hover:text-vikinger-purple",n(y).user?.id===o.user?.id?"opacity-50 cursor-not-allowed":""])},[d(n(u),{icon:o.is_liked_by_auth?"fluent:thumb-like-20-filled":"fluent:thumb-like-20-regular",class:"w-3.5 h-3.5"},null,8,["icon"]),e("span",null,c(o.is_liked_by_auth?"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,Cr),e("button",{onClick:$=>as(o),disabled:o.isDisliking||n(y).user?.id===o.user?.id,class:S(["flex items-center gap-1 font-medium transition-colors",o.is_disliked_by_auth?"text-red-500":"hover:text-red-500",n(y).user?.id===o.user?.id?"opacity-50 cursor-not-allowed":""])},[d(n(u),{icon:o.is_disliked_by_auth?"fluent:thumb-dislike-20-filled":"fluent:thumb-dislike-20-regular",class:"w-3.5 h-3.5"},null,8,["icon"]),e("span",null,c(o.is_disliked_by_auth?"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,Pr),o.user?.id===n(y).user?.id?(s(),i("button",{key:0,onClick:$=>ts(o.id),class:"flex items-center gap-1 hover:text-red-500 font-medium transition-colors"},[d(n(u),{icon:"fluent:delete-24-regular",class:"w-3.5 h-3.5"}),r[18]||(r[18]=e("span",null,"‡∏•‡∏ö",-1))],8,Ar)):g("",!0)])])]))),128))])):a.value.length===0?(s(),i("div",Sr," ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô! ")):g("",!0),k.value&&!we.value?(s(),i("button",{key:2,onClick:$t,class:"w-full py-2 text-sm text-vikinger-purple hover:bg-vikinger-purple/10 rounded-lg transition-colors flex items-center justify-center gap-2"},[d(n(u),{icon:"fluent:arrow-down-24-regular",class:"w-4 h-4"}),H(" ‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ("+c(E.value)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) ",1)])):g("",!0),we.value?(s(),i("div",Br,[d(n(u),{icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin text-vikinger-purple"}),r[19]||(r[19]=e("span",{class:"ml-2 text-sm text-gray-500"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...",-1))])):g("",!0)])):g("",!0)])],64)):(s(),i(N,{key:1},[e("div",jr,[e("div",Tr,[e("div",Lr,[e("img",{src:G.value,class:"w-12 h-12 aspect-square rounded-full object-cover ring-2 ring-vikinger-purple/30 group-hover:ring-vikinger-purple transition-all duration-300",alt:_.value?.username},null,8,Dr),Ee.value&&!C.isNested?(s(),i("div",{key:0,class:S([Ee.value.color,"absolute -bottom-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-sm"])},[d(n(u),{icon:Ee.value.icon,class:"w-3 h-3 text-white"},null,8,["icon"])],2)):g("",!0)]),e("div",null,[e("div",Er,[d(f,{to:`/profile/${_.value?.id}`,class:"font-bold text-gray-800 dark:text-white hover:text-vikinger-purple cursor-pointer transition-colors"},{default:Ce(()=>[H(c(_.value?.username||"Unknown User"),1)]),_:1},8,["to"]),_.value?.verified?(s(),O(n(u),{key:0,icon:"fluent:checkmark-circle-24-filled",class:"w-4 h-4 text-green-500"})):g("",!0),te.value?(s(),i("span",Fr," ‚Äî "+c(te.value),1)):g("",!0),ie.value&&w.value&&m.value?(s(),i(N,{key:2},[e("span",Ir,c(m.value),1),F.value?(s(),i("span",Ur,c(F.value),1)):g("",!0)],64)):g("",!0),I.value?(s(),i("div",Mr,[d(n(u),{icon:I.value.icon,class:S(["w-3.5 h-3.5",I.value.color])},null,8,["icon","class"]),I.value.link?(s(),O(f,{key:0,to:I.value.link,class:S(["hover:underline font-medium transition-colors",I.value.color])},{default:Ce(()=>[H(c(I.value.name),1)]),_:1},8,["to","class"])):(s(),i("span",Nr,c(I.value.name),1)),I.value.academy?(s(),i(N,{key:2},[r[20]||(r[20]=e("span",{class:"text-gray-400"},"‚Ä¢",-1)),I.value.academyLink?(s(),O(f,{key:0,to:I.value.academyLink,class:"text-purple-500 hover:underline font-medium transition-colors"},{default:Ce(()=>[H(c(I.value.academy),1)]),_:1},8,["to"])):(s(),i("span",Or,c(I.value.academy),1))],64)):g("",!0)])):g("",!0)]),e("div",Rr,[e("span",zr,[d(n(u),{icon:st.value,class:"w-3.5 h-3.5"},null,8,["icon"]),H(" "+c(L.value),1)]),be.value?(s(),i("span",Vr,[d(n(u),{icon:"fluent:location-24-regular",class:"w-3.5 h-3.5"}),H(" "+c(be.value),1)])):g("",!0)])])]),C.isNested?g("",!0):(s(),i("div",qr,[e("button",{onClick:r[2]||(r[2]=o=>He.value=!He.value),class:"p-2 hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 rounded-lg transition-colors opacity-0 group-hover:opacity-100"},[d(n(u),{icon:"fluent:more-horizontal-24-regular",class:"w-5 h-5 text-gray-600 dark:text-gray-300"})]),d(ot,{name:"dropdown"},{default:Ce(()=>[He.value?de((s(),i("div",Kr,[pe.value?(s(),i("button",{key:0,onClick:is,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors text-left text-blue-600"},[d(n(u),{icon:"fluent:edit-24-regular",class:"w-5 h-5"}),r[21]||(r[21]=e("span",{class:"text-sm font-medium"},"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå",-1))])):g("",!0),pe.value?(s(),i("button",{key:1,onClick:ls,disabled:vt.value,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-left text-red-500"},[vt.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(s(),O(n(u),{key:0,icon:"fluent:delete-24-regular",class:"w-5 h-5"})),r[22]||(r[22]=e("span",{class:"text-sm font-medium"},"‡∏•‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå",-1))],8,Qr)):g("",!0),e("button",Wr,[d(n(u),{icon:"fluent:flag-24-regular",class:"w-5 h-5 text-gray-500"}),r[23]||(r[23]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",-1))])])),[[T,()=>He.value=!1]]):g("",!0)]),_:1})]))]),I.value?.amount&&!C.isNested?(s(),i("div",Yr,[e("div",Gr,[e("div",Hr,[e("div",Jr,[d(n(u),{icon:"fluent:heart-24-filled",class:"w-6 h-6 text-white"})]),e("div",null,[e("p",Xr,c(I.value.type==="donate"?"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ":"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö"),1),e("p",Zr,c(I.value.amount),1)])]),d(n(u),{icon:I.value.icon,class:"w-16 h-16 text-pink-200 dark:text-pink-900/50"},null,8,["icon"])])])):g("",!0),e("div",{class:S(C.isNested?"mb-2":"mb-4")},[h.value.title?(s(),i("h4",el,c(h.value.title),1)):g("",!0),e("p",tl,c(De.value),1),Le.value?(s(),i("button",{key:1,onClick:r[3]||(r[3]=o=>ge.value=!ge.value),class:"text-vikinger-purple hover:underline text-sm font-medium mt-1"},c(ge.value?"‡πÅ‡∏™‡∏î‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á":"‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"),1)):g("",!0),Y.value.length?(s(),i("div",sl,[(s(!0),i(N,null,Q(Y.value,o=>(s(),i("span",{key:o,class:"text-sm text-vikinger-purple hover:text-vikinger-cyan hover:underline cursor-pointer transition-colors"}," #"+c(o),1))),128))])):g("",!0),le.value.length?(s(),i("div",{key:3,class:S(["mt-4 rounded-xl overflow-hidden",C.isNested?"max-h-64":""])},[le.value.length===1?(s(),i("div",{key:0,onClick:r[4]||(r[4]=o=>bt(0)),class:"cursor-pointer"},[e("img",{src:le.value[0].url||le.value[0],class:S(["w-full object-cover hover:scale-[1.02] transition-transform duration-300",C.isNested?"max-h-64":"max-h-[500px]"]),alt:"Post image"},null,10,al)])):le.value.length===2?(s(),i("div",rl,[(s(!0),i(N,null,Q(le.value,(o,$)=>(s(),i("img",{key:$,src:o.url||o,class:S(["w-full object-cover cursor-pointer hover:opacity-90 transition-opacity",C.isNested?"h-32":"h-64"]),alt:"Post image",onClick:ue=>bt($)},null,10,ll))),128))])):(s(),i("div",il,[(s(!0),i(N,null,Q(le.value.slice(0,4),(o,$)=>(s(),i("img",{key:$,src:o.url||o,class:S(["w-full object-cover cursor-pointer hover:opacity-90 transition-opacity",C.isNested?"h-24":"h-40",{"brightness-50":$===3&&le.value.length>4}]),alt:"Post image",onClick:ue=>bt($)},null,10,nl))),128)),le.value.length>4?(s(),i("div",ol," +"+c(le.value.length-4),1)):g("",!0)]))],2)):g("",!0),h.value.media?(s(),i("div",ul,[h.value.media.type==="video"?(s(),i("video",dl,[e("source",{src:h.value.media.url},null,8,cl)])):h.value.media.type==="audio"?(s(),i("audio",gl,[e("source",{src:h.value.media.url},null,8,vl)])):g("",!0)])):g("",!0)],2),e("div",{class:S(["flex items-center justify-between border-t border-gray-200 dark:border-vikinger-dark-50/30 text-gray-500 dark:text-gray-400",C.isNested?"py-2 text-xs border-b-0":"py-3 text-sm border-b"])},[e("div",pl,[C.isNested?g("",!0):(s(),i("span",kl,[d(n(u),{icon:"fluent:eye-24-regular",class:"w-4 h-4"}),e("span",fl,c(ke.value),1)])),e("span",{class:S(["flex items-center gap-1.5 transition-colors",C.isNested?"":"hover:text-vikinger-cyan cursor-pointer"]),onClick:r[5]||(r[5]=o=>!C.isNested&&wt())},[d(n(u),{icon:"fluent:comment-24-regular",class:S(C.isNested?"w-3.5 h-3.5":"w-4 h-4")},null,8,["class"]),e("span",hl,c(at.value),1)],2),e("span",{class:S(["flex items-center gap-1.5 transition-colors",C.isNested?"":"hover:text-vikinger-purple cursor-pointer",{"text-vikinger-purple":K.value&&!C.isNested}]),onClick:r[6]||(r[6]=o=>!C.isNested&&Pt())},[d(n(u),{icon:K.value?"fluent:thumb-like-24-filled":"fluent:thumb-like-24-regular",class:S(C.isNested?"w-3.5 h-3.5":"w-4 h-4")},null,8,["icon","class"]),e("span",bl,c(Qe.value),1)],2),e("span",{class:S(["flex items-center gap-1.5 transition-colors",C.isNested?"":"hover:text-red-500 cursor-pointer",{"text-red-500":ve.value&&!C.isNested}]),onClick:r[7]||(r[7]=o=>!C.isNested&&At())},[d(n(u),{icon:ve.value?"fluent:thumb-dislike-24-filled":"fluent:thumb-dislike-24-regular",class:S(C.isNested?"w-3.5 h-3.5":"w-4 h-4")},null,8,["icon","class"]),e("span",yl,c(We.value),1)],2),C.isNested?g("",!0):(s(),i("span",xl,[d(n(u),{icon:"fluent:share-24-regular",class:"w-4 h-4"}),e("span",ml,c(Me.value),1)]))]),C.isNested&&h.value.post_url?(s(),O(f,{key:0,to:h.value.post_url,class:"flex items-center gap-1.5 text-vikinger-purple hover:text-vikinger-cyan transition-colors"},{default:Ce(()=>[r[24]||(r[24]=e("span",{class:"text-xs font-medium"},"‡∏î‡∏π‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö",-1)),d(n(u),{icon:"fluent:arrow-right-24-regular",class:"w-3.5 h-3.5"})]),_:1},8,["to"])):g("",!0)],2),C.isNested?g("",!0):(s(),i("div",{key:1,class:S(["flex items-center gap-2",C.isNested?"mt-2":"mt-4"])},[e("button",{onClick:Pt,disabled:Re.value||pe.value,class:S(["flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg transition-all duration-300",K.value?"bg-vikinger-purple/10 text-vikinger-purple":pe.value?"opacity-50 cursor-not-allowed text-gray-400 dark:text-gray-600":"hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 text-gray-600 dark:text-gray-300"])},[Re.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(s(),O(n(u),{key:0,icon:K.value?"fluent:thumb-like-24-filled":"fluent:thumb-like-24-regular",class:"w-5 h-5 transition-transform hover:scale-110"},null,8,["icon"])),e("span",wl,c(K.value?"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,_l),e("button",{onClick:At,disabled:Ye.value||pe.value,class:S(["flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg transition-all duration-300",ve.value?"bg-red-500/10 text-red-500":pe.value?"opacity-50 cursor-not-allowed text-gray-400 dark:text-gray-600":"hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 text-gray-600 dark:text-gray-300"])},[Ye.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(s(),O(n(u),{key:0,icon:ve.value?"fluent:thumb-dislike-24-filled":"fluent:thumb-dislike-24-regular",class:"w-5 h-5 transition-transform hover:scale-110"},null,8,["icon"])),e("span",Cl,c(ve.value?"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,$l),e("button",{onClick:wt,class:"flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 transition-colors group"},[d(n(u),{icon:"fluent:comment-24-regular",class:"w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:text-vikinger-cyan transition-colors"}),r[25]||(r[25]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",-1))]),e("div",Pl,[e("button",{onClick:r[8]||(r[8]=o=>rt.value=!rt.value),disabled:Ue.value||pe.value,class:S(["w-full flex items-center justify-center gap-2 py-2.5 rounded-lg transition-colors group",pe.value?"opacity-50 cursor-not-allowed text-gray-400 dark:text-gray-600":"hover:bg-gray-100 dark:hover:bg-vikinger-dark-200"])},[Ue.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(s(),O(n(u),{key:0,icon:"fluent:share-24-regular",class:"w-5 h-5 text-gray-600 dark:text-gray-300 group-hover:text-vikinger-green transition-colors"})),r[26]||(r[26]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÅ‡∏ä‡∏£‡πå",-1))],10,Al),d(ot,{name:"dropdown"},{default:Ce(()=>[rt.value&&!pe.value?(s(),i("div",Sl,[e("button",{onClick:Wt,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors text-left"},[d(n(u),{icon:"fluent:flash-24-regular",class:"w-5 h-5 text-vikinger-green"}),r[27]||(r[27]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-800 dark:text-white"},"‡πÅ‡∏ä‡∏£‡πå‡πÄ‡∏•‡∏¢"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"‡πÅ‡∏ä‡∏£‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ - 36 ‡πÅ‡∏ï‡πâ‡∏°")],-1))]),e("button",{onClick:Yt,class:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors text-left"},[d(n(u),{icon:"fluent:edit-24-regular",class:"w-5 h-5 text-vikinger-purple"}),r[28]||(r[28]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-800 dark:text-white"},"‡πÅ‡∏ä‡∏£‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô"),e("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤")],-1))])])):g("",!0)]),_:1})])],2)),C.post.reactions&&!C.isNested?(s(),i("div",Bl,[e("div",jl,[(s(!0),i(N,null,Q(Ot.slice(0,3),o=>(s(),i("div",{key:o.id,class:"w-7 h-7 rounded-full bg-white dark:bg-vikinger-dark-200 flex items-center justify-center text-sm border-2 border-white dark:border-vikinger-dark-100 shadow-sm"},c(o.icon),1))),128))]),e("span",Tl,c(C.post.reactions.total||"10+")+" ‡∏Ñ‡∏ô‡∏ñ‡∏π‡∏Å‡πÉ‡∏à",1)])):g("",!0),Ne.value&&!C.isNested?(s(),i("div",Ll,[e("div",Dl,[e("img",{src:q.value,class:"w-10 h-10 flex-shrink-0 aspect-square rounded-full object-cover",alt:"You"},null,8,El),e("div",Fl,[de(e("input",{"onUpdate:modelValue":r[9]||(r[9]=o=>Pe.value=o),type:"text",placeholder:"‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô...",class:"flex-1 px-4 py-2.5 rounded-full bg-gray-100 dark:bg-vikinger-dark-200 border-none outline-none text-gray-800 dark:text-white focus:ring-2 focus:ring-vikinger-purple/30 transition-all",disabled:Ge.value,onKeydown:et(Ct,["enter"])},null,40,Il),[[_e,Pe.value]]),e("button",{onClick:Ct,disabled:Ge.value||!Pe.value.trim(),class:"p-2.5 rounded-full bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white hover:shadow-lg transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"},[Ge.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin"})):(s(),O(n(u),{key:0,icon:"fluent:send-24-filled",class:"w-5 h-5"}))],8,Ul)])]),a.value.length?(s(),i("div",Ml,[(s(!0),i(N,null,Q(a.value,o=>(s(),i("div",{key:o.id,class:"flex gap-3 group"},[e("img",{src:M(o),class:"w-10 h-10 flex-shrink-0 aspect-square rounded-full object-cover",alt:o.user?.username||o.author?.username},null,8,Nl),e("div",Ol,[e("div",Rl,[e("h6",zl,c(o.user?.username||o.author?.username),1),e("p",Vl,c(o.content),1)]),o.likes||o.dislikes?(s(),i("div",ql,[o.likes?(s(),i("span",Kl,[d(n(u),{icon:"fluent:thumb-like-16-filled",class:"w-3 h-3 text-vikinger-purple"}),e("span",Ql,c(o.likes),1)])):g("",!0),o.dislikes?(s(),i("span",Wl,[d(n(u),{icon:"fluent:thumb-dislike-16-filled",class:"w-3 h-3 text-red-500"}),e("span",Yl,c(o.dislikes),1)])):g("",!0)])):g("",!0),e("div",Gl,[e("span",Hl,c(o.create_at||o.diff_humans_created_at||o.createdAt||"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"),1),r[31]||(r[31]=e("span",{class:"text-gray-300 dark:text-gray-600"},"‚Ä¢",-1)),e("button",{onClick:$=>St(o),disabled:o.isLiking||n(y).user?.id===(o.user?.id||o.author?.id),class:S(["flex items-center gap-1 font-medium transition-colors px-1.5 py-0.5 rounded-md hover:bg-gray-100 dark:hover:bg-vikinger-dark-300",o.isLikedByAuth?"text-vikinger-purple bg-vikinger-purple/10":"hover:text-vikinger-purple",n(y).user?.id===(o.user?.id||o.author?.id)?"opacity-50 cursor-not-allowed":""])},[d(n(u),{icon:o.isLikedByAuth?"fluent:thumb-like-20-filled":"fluent:thumb-like-20-regular",class:"w-3.5 h-3.5"},null,8,["icon"]),e("span",Xl,c(o.isLikedByAuth?"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,Jl),e("button",{onClick:$=>Bt(o),disabled:o.isDisliking||n(y).user?.id===(o.user?.id||o.author?.id),class:S(["flex items-center gap-1 font-medium transition-colors px-1.5 py-0.5 rounded-md hover:bg-gray-100 dark:hover:bg-vikinger-dark-300",o.isDislikedByAuth?"text-red-500 bg-red-500/10":"hover:text-red-500",n(y).user?.id===(o.user?.id||o.author?.id)?"opacity-50 cursor-not-allowed":""])},[d(n(u),{icon:o.isDislikedByAuth?"fluent:thumb-dislike-20-filled":"fluent:thumb-dislike-20-regular",class:"w-3.5 h-3.5"},null,8,["icon"]),e("span",ei,c((o.isDislikedByAuth,"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à")),1)],10,Zl),e("button",{onClick:$=>Rt(o),class:"flex items-center gap-1 font-medium transition-colors px-1.5 py-0.5 rounded-md hover:bg-gray-100 dark:hover:bg-vikinger-dark-300 hover:text-vikinger-purple"},[d(n(u),{icon:"fluent:arrow-reply-20-regular",class:"w-3.5 h-3.5"}),r[29]||(r[29]=e("span",{class:"hidden sm:inline"},"‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö",-1))],8,ti),o.replies_count>0?(s(),i("button",{key:0,onClick:$=>zt(o),class:"flex items-center gap-1 font-medium transition-colors px-1.5 py-0.5 rounded-md hover:bg-vikinger-cyan/10 text-vikinger-cyan"},[d(n(u),{icon:me.value[o.id]?"fluent:chevron-up-20-regular":"fluent:chevron-down-20-regular",class:"w-3.5 h-3.5"},null,8,["icon"]),e("span",ai,c(me.value[o.id]?"‡∏ã‡πà‡∏≠‡∏ô":""),1),e("span",null,c(o.replies_count),1),r[30]||(r[30]=e("span",{class:"hidden sm:inline"},"‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö",-1))],8,si)):g("",!0)]),Ae.value?.id===o.id?(s(),i("div",ri,[e("img",{src:q.value,class:"w-8 h-8 rounded-full object-cover flex-shrink-0",alt:"You"},null,8,li),e("div",ii,[de(e("input",{id:`reply-input-${o.id}`,"onUpdate:modelValue":r[10]||(r[10]=$=>xe.value=$),type:"text",placeholder:`‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö ${o.user?.username||o.author?.username}...`,class:"flex-1 px-3 py-2 text-sm rounded-full bg-gray-100 dark:bg-vikinger-dark-300 border-none focus:ring-2 focus:ring-vikinger-purple/50 placeholder-gray-400 dark:text-white",onKeydown:[et($=>Tt(o),["enter"]),et(jt,["escape"])]},null,40,ni),[[_e,xe.value]]),e("button",{onClick:$=>Tt(o),disabled:Fe.value||!xe.value.trim(),class:"p-2 rounded-full bg-gradient-to-r from-vikinger-purple to-vikinger-cyan text-white hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[Fe.value?(s(),O(n(u),{key:1,icon:"fluent:spinner-ios-20-regular",class:"w-4 h-4 animate-spin"})):(s(),O(n(u),{key:0,icon:"fluent:send-20-filled",class:"w-4 h-4"}))],8,oi),e("button",{onClick:jt,class:"p-2 text-gray-500 hover:text-red-500 transition-colors"},[d(n(u),{icon:"fluent:dismiss-20-regular",class:"w-4 h-4"})])])])):g("",!0),me.value[o.id]?(s(),i("div",ui,[Ie.value[o.id]?(s(),i("div",di,[d(n(u),{icon:"fluent:spinner-ios-20-regular",class:"w-4 h-4 animate-spin text-vikinger-purple"}),r[32]||(r[32]=e("span",{class:"text-xs text-gray-500"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö...",-1))])):(s(),i(N,{key:1},[(s(!0),i(N,null,Q(he.value[o.id]||[],$=>(s(),i("div",{key:$.id,class:"flex gap-2"},[e("img",{src:M($),class:"w-8 h-8 flex-shrink-0 rounded-full object-cover",alt:$.user?.username},null,8,ci),e("div",gi,[e("div",vi,[e("h6",pi,c($.user?.username),1),e("p",ki,c($.content),1)]),$.likes||$.dislikes?(s(),i("div",fi,[$.likes?(s(),i("span",hi,[d(n(u),{icon:"fluent:thumb-like-16-filled",class:"w-2.5 h-2.5 text-vikinger-purple"}),H(" "+c($.likes),1)])):g("",!0),$.dislikes?(s(),i("span",bi,[d(n(u),{icon:"fluent:thumb-dislike-16-filled",class:"w-2.5 h-2.5 text-red-500"}),H(" "+c($.dislikes),1)])):g("",!0)])):g("",!0),e("div",yi,[e("span",null,c($.create_at||"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà"),1),r[33]||(r[33]=e("span",{class:"text-gray-300 dark:text-gray-600"},"‚Ä¢",-1)),e("button",{onClick:ue=>qt($),disabled:$.isLiking||n(y).user?.id===$.user?.id,class:S(["flex items-center gap-0.5 font-medium transition-colors px-1 py-0.5 rounded hover:bg-gray-100 dark:hover:bg-vikinger-dark-400",$.isLikedByAuth?"text-vikinger-purple":"hover:text-vikinger-purple"])},[d(n(u),{icon:$.isLikedByAuth?"fluent:thumb-like-16-filled":"fluent:thumb-like-16-regular",class:"w-3 h-3"},null,8,["icon"]),e("span",mi,c($.isLikedByAuth?"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡∏ñ‡∏π‡∏Å‡πÉ‡∏à"),1)],10,xi),e("button",{onClick:ue=>Kt($),disabled:$.isDisliking||n(y).user?.id===$.user?.id,class:S(["flex items-center gap-0.5 font-medium transition-colors px-1 py-0.5 rounded hover:bg-gray-100 dark:hover:bg-vikinger-dark-400",$.isDislikedByAuth?"text-red-500":"hover:text-red-500"])},[d(n(u),{icon:$.isDislikedByAuth?"fluent:thumb-dislike-16-filled":"fluent:thumb-dislike-16-regular",class:"w-3 h-3"},null,8,["icon"]),e("span",wi,c(($.isDislikedByAuth,"‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à")),1)],10,_i)])])]))),128)),Oe.value[o.id]?.hasMore?(s(),i("button",{key:0,onClick:$=>Vt(o),class:"text-xs text-vikinger-purple hover:text-vikinger-cyan font-medium transition-colors flex items-center gap-1"},[d(n(u),{icon:"fluent:arrow-down-20-regular",class:"w-3 h-3"}),r[34]||(r[34]=H(" ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ",-1))],8,$i)):g("",!0)],64))])):g("",!0)])]))),128))])):a.value.length===0?(s(),i("div",Ci," ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô! ")):g("",!0),k.value&&!we.value?(s(),i("button",{key:2,onClick:$t,class:"w-full py-2 text-sm text-vikinger-purple hover:text-vikinger-cyan font-medium transition-colors flex items-center justify-center gap-2"},[d(n(u),{icon:"fluent:arrow-down-24-regular",class:"w-4 h-4"}),H(" ‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ("+c(E.value)+" ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) ",1)])):g("",!0),we.value?(s(),i("div",Pi,[d(n(u),{icon:"fluent:spinner-ios-20-regular",class:"w-5 h-5 animate-spin text-vikinger-purple"}),r[35]||(r[35]=e("span",{class:"ml-2 text-sm text-gray-500"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...",-1))])):g("",!0)])):g("",!0)],64)),C.isNested?g("",!0):(s(),O(ks,{key:2,show:ht.value,post:h.value,onClose:r[11]||(r[11]=o=>ht.value=!1),onShare:Gt},null,8,["show","post"])),!C.isNested&&pe.value?(s(),O(Na,{key:3,show:gt.value,post:h.value,onClose:r[12]||(r[12]=o=>gt.value=!1),onPostUpdated:ns},null,8,["show","post"])):g("",!0),C.isNested?g("",!0):(s(),O(fs,{key:4,show:ye.value!==null,images:le.value,"initial-index":ye.value||0,"post-id":h.value?.id,onClose:Qt},null,8,["show","images","initial-index","post-id"]))],2)}}},Do=xt(Ai,[["__scopeId","data-v-5254ce5a"]]),Si={class:"vikinger-card space-y-6"},Bi={class:"text-center"},ji={class:"relative inline-flex items-center justify-center"},Ti={class:"w-40 h-40 transform -rotate-90"},Li=["stroke-dashoffset"],Di={class:"absolute inset-0 flex items-center justify-center"},Ei={class:"text-4xl font-bold text-gray-800 dark:text-white"},Fi={key:0,class:"mt-4 text-left"},Ii={class:"space-y-2"},Ui={class:"text-gray-600 dark:text-gray-400"},Mi={class:"ml-auto text-xs text-vikinger-purple font-medium"},Ni={class:"flex items-center justify-center gap-3 py-3 border-t border-b border-vikinger-light-400 dark:border-vikinger-dark-200"},Oi={class:"flex gap-2 justify-center flex-wrap"},Ri=["onClick"],zi={class:"grid grid-cols-2 gap-4 pt-4 border-t border-vikinger-light-400 dark:border-vikinger-dark-200"},Vi={class:"text-center"},qi={class:"text-2xl font-bold text-gray-800 dark:text-white"},Ki={class:"mt-2 flex justify-center"},Qi={class:"text-center"},Wi={class:"text-2xl font-bold text-gray-800 dark:text-white"},Yi={class:"mt-2 flex justify-center"},Eo={__name:"ProfileCompletionWidget",props:{percentage:{type:Number,default:59},quests:{type:Object,default:()=>({completed:11,total:30})},badges:{type:Object,default:()=>({unlocked:22,total:46})},missingFields:{type:Array,default:()=>[]},showActions:{type:Boolean,default:!0}},emits:["edit-profile"],setup(C,{emit:Z}){const y=C,W=Z,V=v("status"),x=["Status","Mentions","Friends","Groups","Blog Posts"],z=2*Math.PI*58,B=A(()=>z-y.percentage/100*z),J=h=>({avatar:"fluent:camera-24-regular",cover:"fluent:image-24-regular",first_name:"fluent:person-24-regular",last_name:"fluent:person-24-regular",bio:"fluent:text-description-24-regular",birthdate:"fluent:calendar-24-regular",gender:"fluent:people-24-regular",location:"fluent:location-24-regular",website:"fluent:globe-24-regular",interests:"fluent:heart-24-regular",social_media:"fluent:share-24-regular"})[h]||"fluent:add-circle-24-regular",ie=()=>{W("edit-profile")};return(h,U)=>(s(),i("div",Si,[e("div",Bi,[e("div",ji,[(s(),i("svg",Ti,[U[0]||(U[0]=e("circle",{cx:"80",cy:"80",r:"58",stroke:"currentColor","stroke-width":"12",fill:"none",class:"text-vikinger-light-400 dark:text-vikinger-dark-200"},null,-1)),e("circle",{cx:"80",cy:"80",r:"58",stroke:"url(#gradient)","stroke-width":"12",fill:"none","stroke-linecap":"round","stroke-dasharray":z,"stroke-dashoffset":B.value,class:"transition-all duration-1000 ease-out"},null,8,Li),U[1]||(U[1]=e("defs",null,[e("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},[e("stop",{offset:"0%","stop-color":"#00D9FF"}),e("stop",{offset:"100%","stop-color":"#615DFA"})])],-1))])),e("div",Di,[e("span",Ei,c(C.percentage)+"%",1)])]),U[3]||(U[3]=e("h3",{class:"mt-4 text-lg font-bold text-gray-800 dark:text-white"},"Profile Completion",-1)),U[4]||(U[4]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},[H(" Complete your profile by filling profile"),e("br"),H(" info, tabs, uploading avatar &"),e("br"),H(" marking widgets ")],-1)),C.missingFields&&C.missingFields.length>0?(s(),i("div",Fi,[e("ul",Ii,[(s(!0),i(N,null,Q(C.missingFields.slice(0,3),D=>(s(),i("li",{key:D.field,class:"flex items-center gap-2 text-sm"},[d(n(u),{icon:J(D.field),class:"w-4 h-4 text-vikinger-purple"},null,8,["icon"]),e("span",Ui,c(D.label),1),e("span",Mi,"+"+c(D.weight)+"%",1)]))),128))]),C.showActions?(s(),i("button",{key:0,onClick:ie,class:"mt-4 w-full py-2 px-4 bg-vikinger-purple text-white text-sm font-medium rounded-vikinger hover:bg-vikinger-purple/80 transition-colors flex items-center justify-center gap-2"},[d(n(u),{icon:"fluent:edit-24-regular",class:"w-4 h-4"}),U[2]||(U[2]=H(" Complete Profile ",-1))])):g("",!0)])):g("",!0)]),e("div",Ni,[d(n(u),{icon:"fluent:feed-24-regular",class:"w-5 h-5 text-vikinger-purple"}),U[5]||(U[5]=e("span",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300"},"All Updates",-1)),d(n(u),{icon:"fluent:chevron-down-24-regular",class:"w-4 h-4 text-gray-500"})]),e("div",Oi,[(s(),i(N,null,Q(x,D=>e("button",{key:D,onClick:ee=>V.value=D.toLowerCase(),class:S(["px-3 py-1.5 text-xs font-medium rounded-vikinger transition-colors",V.value===D.toLowerCase()?"bg-vikinger-purple text-white":"bg-vikinger-light-300 dark:bg-vikinger-dark-200 text-gray-700 dark:text-gray-300 hover:bg-vikinger-purple/20"])},c(D),11,Ri)),64))]),e("div",zi,[e("div",Vi,[e("div",qi,c(C.quests.completed)+"/"+c(C.quests.total),1),U[6]||(U[6]=e("div",{class:"text-xs font-semibold text-gray-600 dark:text-gray-400 mt-1"},"Quests",-1)),U[7]||(U[7]=e("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"COMPLETED",-1)),e("div",Ki,[d(n(u),{icon:"fluent:trophy-24-filled",class:"w-8 h-8 text-yellow-500"})])]),e("div",Qi,[e("div",Wi,c(C.badges.unlocked)+"/"+c(C.badges.total),1),U[8]||(U[8]=e("div",{class:"text-xs font-semibold text-gray-600 dark:text-gray-400 mt-1"},"Badges",-1)),U[9]||(U[9]=e("div",{class:"text-xs text-gray-500 dark:text-gray-500"},"UNLOCKED",-1)),e("div",Yi,[d(n(u),{icon:"fluent:shield-checkmark-24-filled",class:"w-8 h-8 text-gray-400"})])])])]))}},Gi={class:"bg-white dark:bg-vikinger-dark-100 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-vikinger-dark-50/20"},Hi={class:"flex items-center gap-3 mb-3"},Ji=["src"],Xi={class:"flex items-center justify-around pt-2 border-t border-gray-100 dark:border-vikinger-dark-50/20"},Zi={__name:"CreatePostTrigger",emits:["open-modal"],setup(C,{emit:Z}){const y=ct(),{getAvatarUrl:W}=_t(),V=Z,x=A(()=>W(y.user)),z=()=>{V("open-modal")};return(B,J)=>(s(),i("div",Gi,[e("div",Hi,[e("img",{src:n(x),alt:"Avatar",class:"w-10 h-10 rounded-full object-cover ring-2 ring-vikinger-purple/20"},null,8,Ji),e("button",{onClick:z,class:"flex-1 text-left px-4 py-2.5 bg-gray-100 dark:bg-vikinger-dark-200/50 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-vikinger-dark-200 transition-colors text-sm"}," ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà? ")]),e("div",Xi,[e("button",{onClick:z,class:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200/50 rounded-lg transition-colors"},[d(n(u),{icon:"mdi:image",class:"w-5 h-5 text-green-500"}),J[0]||(J[0]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",-1))]),e("button",{onClick:z,class:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200/50 rounded-lg transition-colors"},[d(n(u),{icon:"mdi:emoticon",class:"w-5 h-5 text-amber-500"}),J[1]||(J[1]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å",-1))]),e("button",{onClick:z,class:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200/50 rounded-lg transition-colors"},[d(n(u),{icon:"mdi:map-marker",class:"w-5 h-5 text-red-500"}),J[2]||(J[2]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",-1))])])]))}},en={class:"w-full max-w-2xl mx-4 mb-10 modal-content"},tn={class:"bg-white dark:bg-vikinger-dark-300 rounded-xl shadow-2xl"},sn={class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-vikinger-dark-50/30"},an={class:"p-4 max-h-[70vh] overflow-y-auto"},rn={class:"flex items-center gap-3 mb-4"},ln=["src"],nn={class:"flex-1"},on={class:"font-medium text-gray-800 dark:text-white"},un={key:0,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},dn={class:"space-y-2"},cn=["onClick"],gn={class:"text-sm text-gray-700 dark:text-gray-300"},vn={class:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-vikinger-dark-50/30 cursor-pointer"},pn={key:1,class:"mb-3 flex flex-wrap gap-2"},kn={key:0,class:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-sm"},fn={key:1,class:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-sm"},hn=["onClick"],bn=["rows","onKeydown","disabled"],yn={key:2,class:"mb-4"},xn={class:"flex flex-wrap gap-2"},mn=["src"],_n=["onClick"],wn={class:"text-xs text-gray-500 mt-1"},$n={key:3,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},Cn={class:"flex items-center justify-between mb-3"},Pn={class:"flex flex-wrap gap-2"},An=["onClick"],Sn={key:4,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg max-h-48 overflow-y-auto"},Bn={class:"flex items-center justify-between mb-3"},jn={class:"text-xs text-gray-500 uppercase mb-2"},Tn={class:"grid grid-cols-5 gap-2"},Ln=["onClick"],Dn={class:"text-xl"},En={class:"text-xs text-gray-600 dark:text-gray-400 truncate w-full text-center"},Fn={key:5,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg max-h-48 overflow-y-auto"},In={class:"flex items-center justify-between mb-3"},Un={class:"text-xs text-gray-500 uppercase mb-2"},Mn={class:"grid grid-cols-3 gap-2"},Nn=["onClick"],On={class:"text-lg"},Rn={class:"text-xs text-gray-600 dark:text-gray-400 truncate"},zn={key:0,class:"mt-3"},Vn=["placeholder"],qn={key:6,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},Kn={class:"flex items-center justify-between mb-3"},Qn={class:"flex items-center gap-2"},Wn={key:7,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},Yn={class:"flex items-center justify-between mb-3"},Gn={key:0,class:"flex flex-wrap gap-2 mb-3"},Hn=["src"],Jn={class:"text-xs text-blue-700 dark:text-blue-300"},Xn=["onClick"],Zn={class:"relative"},eo={key:0,class:"absolute right-2 top-1/2 -translate-y-1/2"},to={key:1,class:"mt-2 p-4 text-center"},so={key:2,class:"mt-2 space-y-1 max-h-40 overflow-y-auto border border-gray-200 dark:border-vikinger-dark-50/30 rounded-lg bg-white dark:bg-vikinger-dark-100"},ao=["onClick","disabled"],ro=["src"],lo={class:"flex-1 text-left"},io={class:"text-sm text-gray-800 dark:text-white block"},no={key:0,class:"text-xs text-gray-500"},oo={key:3,class:"mt-2 p-3 text-center text-sm text-gray-500 dark:text-gray-400 bg-white dark:bg-vikinger-dark-100 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30"},uo={key:4,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},co={key:8,class:"mb-4 p-3 bg-gray-50 dark:bg-vikinger-dark-200 rounded-lg"},go={class:"flex items-center justify-between mb-3"},vo={class:"flex flex-wrap gap-2 border-t border-gray-200 dark:border-vikinger-dark-50/30 pt-4"},po=["disabled"],ko=["disabled"],fo=["disabled"],ho=["disabled"],bo=["disabled"],yo=["disabled"],xo=["disabled"],mo={class:"p-4 border-t border-gray-200 dark:border-vikinger-dark-50/30"},_o=["disabled"],wo={__name:"CreatePostModal",props:{show:{type:Boolean,default:!1}},emits:["close","post-created"],setup(C,{emit:Z}){const y=C,W=Z,{$apiFetch:V}=yt(),x=ct(),z=mt(),{getAvatarUrl:B}=_t(),{feelings:J,activityTypes:ie,backgrounds:h,fetchPostOptions:U,createPost:D}=Mt(),ee=A(()=>B(x.user)),P=v(""),w=v(!1),m=v([]),F=v(null),I=A(()=>typeof window>"u"?[]:m.value.map(l=>({file:l,url:URL.createObjectURL(l)}))),_=v(3),j=v(""),G=v(null),R=v(null),q=v(""),M=v(null),L=v([]),Y=v(""),be=v(!1),se=v(!1),ae=v(!1),ke=v(!1),ne=v(!1),fe=v(!1),ce=v(!1),re=v(!1),te=v(""),oe=v([]),ge=v(!1),Le=v(!1);ut(()=>y.show,l=>{l&&U()});const De=[{value:3,label:"‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞",icon:"mdi:earth",color:"text-blue-500"},{value:2,label:"‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",icon:"mdi:account-group",color:"text-green-500"},{value:1,label:"‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏â‡∏±‡∏ô",icon:"mdi:lock",color:"text-gray-500"}],le=A(()=>De.find(l=>l.value===_.value)||De[0]),st=A(()=>{if(!M.value)return{};const l=M.value,a={};return l.background_gradient?a.background=l.background_gradient:l.background_color&&(a.backgroundColor=l.background_color),l.text_color&&(a.color=l.text_color),a}),Ee=A(()=>{const l=[];if(G.value&&l.push(`${G.value.icon} ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å${G.value.name_th||G.value.name}`),R.value){let a=`${R.value.icon} ‡∏Å‡∏≥‡∏•‡∏±‡∏á${R.value.name_th||R.value.name}`;q.value&&(a+=` ${q.value}`),l.push(a)}return l.join(" ‚Äî ")}),Ne=A(()=>{const l={};return J.value.forEach(a=>{l[a.category]||(l[a.category]=[]),l[a.category].push(a)}),l}),Pe=A(()=>{const l={};return ie.value.forEach(a=>{l[a.category]||(l[a.category]=[]),l[a.category].push(a)}),l}),ye=()=>{W("close")},Ae=async()=>{if(!(!P.value.trim()&&m.value.length===0)&&!w.value){if(x.user&&x.user.pp<180){z.warning("‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏∞‡∏™‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏û‡∏™‡∏ï‡πå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏∞‡∏™‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 180 ‡πÅ‡∏ï‡πâ‡∏°","‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠");return}w.value=!0;try{const l={images:m.value,privacy_settings:_.value,comments_disabled:be.value};j.value&&(l.location_name=j.value),G.value&&(l.feeling=G.value.name,l.feeling_icon=G.value.icon),R.value&&(l.activity_type=R.value.name,q.value&&(l.activity_text=q.value)),M.value&&m.value.length===0&&(l.background_color=M.value.background_color,l.background_gradient=M.value.background_gradient,l.text_color=M.value.text_color),L.value.length>0&&(l.tagged_users=L.value.map(k=>k.id)),Y.value&&(l.scheduled_at=Y.value);const a=await D(P.value,l);a.success?(W("post-created",a.activity),xe(),z.toast("‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!","success")):z.error(a.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏î‡πâ")}catch(l){console.error("Error creating post:",l);let a="‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";l?.data?.message&&(a=l.data.message),z.error(a)}finally{w.value=!1}}},xe=()=>{P.value="",m.value=[],j.value="",G.value=null,R.value=null,q.value="",M.value=null,L.value=[],Y.value="",be.value=!1,se.value=!1,ae.value=!1,ke.value=!1,ne.value=!1,fe.value=!1,ce.value=!1,re.value=!1,ye()},Fe=l=>{const a=Array.from(l.target.files);m.value=[...m.value,...a].slice(0,20),a.length>0&&(M.value=null),l.target.value=""},me=l=>{m.value.splice(l,1)},he=()=>{F.value?.click()},Ie=l=>{G.value=l,se.value=!1},Oe=l=>{R.value=l,ae.value=!1},Se=l=>{M.value?.id===l.id?M.value=null:(M.value=l,m.value=[])};let Be=null;const we=async()=>{if(!te.value.trim()){oe.value=[],Le.value=!1;return}Be&&clearTimeout(Be),Be=setTimeout(async()=>{ge.value=!0;try{const l=await V(`/api/friends/search?q=${encodeURIComponent(te.value)}`);l.success&&(oe.value=l.data||[])}catch(l){console.error("Error searching friends:",l),oe.value=[]}finally{ge.value=!1,Le.value=!0}},300)},Ke=l=>{L.value.find(a=>a.id===l.id)||L.value.push(l),te.value="",oe.value=[]},p=l=>{L.value=L.value.filter(a=>a.id!==l)};return(l,a)=>(s(),O(Ut,{to:"body"},[d(ot,{name:"modal"},{default:Ce(()=>[C.show?(s(),i("div",{key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center pt-10 md:pt-16 overflow-y-auto backdrop-blur-sm",onClick:dt(ye,["self"])},[e("div",en,[e("div",tn,[e("div",sn,[a[22]||(a[22]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-white"},"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå",-1)),e("button",{onClick:ye,class:"p-2 hover:bg-gray-100 dark:hover:bg-vikinger-dark-200 rounded-full"},[d(n(u),{icon:"mdi:close",class:"w-6 h-6 text-gray-500"})])]),e("div",an,[e("input",{type:"file",ref_key:"imageInput",ref:F,class:"hidden",accept:"image/*",multiple:"",onChange:Fe},null,544),e("div",rn,[e("img",{src:ee.value,class:"w-10 h-10 rounded-full object-cover"},null,8,ln),e("div",nn,[e("div",on,c(n(x).user?.name),1),e("button",{onClick:a[0]||(a[0]=k=>re.value=!re.value),class:"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700"},[d(n(u),{icon:le.value.icon,class:"w-3 h-3"},null,8,["icon"]),e("span",null,c(le.value.label),1),d(n(u),{icon:"mdi:chevron-down",class:"w-3 h-3"})])])]),re.value?(s(),i("div",un,[e("div",dn,[(s(),i(N,null,Q(De,k=>e("button",{key:k.value,onClick:E=>{_.value=k.value,re.value=!1},class:S(["w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white dark:hover:bg-vikinger-dark-100",{"bg-white dark:bg-vikinger-dark-100":_.value===k.value}])},[d(n(u),{icon:k.icon,class:S(["w-5 h-5",k.color])},null,8,["icon","class"]),e("span",gn,c(k.label),1)],10,cn)),64))]),e("label",vn,[de(e("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=k=>be.value=k),class:"rounded text-vikinger-purple"},null,512),[[It,be.value]]),a[23]||(a[23]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô",-1))])])):g("",!0),G.value||R.value||j.value||L.value.length>0?(s(),i("div",pn,[Ee.value?(s(),i("span",kn,[H(c(Ee.value)+" ",1),e("button",{onClick:a[2]||(a[2]=k=>{G.value=null,R.value=null,q.value=""}),class:"hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})])])):g("",!0),j.value?(s(),i("span",fn,[d(n(u),{icon:"mdi:map-marker",class:"w-3 h-3"}),H(" "+c(j.value)+" ",1),e("button",{onClick:a[3]||(a[3]=k=>{j.value="",ne.value=!1}),class:"hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})])])):g("",!0),(s(!0),i(N,null,Q(L.value,k=>(s(),i("span",{key:k.id,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm"},[H(c(k.name)+" ",1),e("button",{onClick:E=>p(k.id),class:"hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})],8,hn)]))),128))])):g("",!0),e("div",{class:S(["rounded-lg mb-4 min-h-[120px] p-4 transition-all",M.value?"":"bg-gray-50 dark:bg-vikinger-dark-200"]),style:tt(st.value)},[de(e("textarea",{"onUpdate:modelValue":a[4]||(a[4]=k=>P.value=k),placeholder:"‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà?",rows:M.value?5:3,class:S(["w-full bg-transparent border-none outline-none resize-none placeholder-gray-400",M.value?"text-center text-lg font-medium":"text-gray-800 dark:text-white"]),style:tt(M.value?{color:M.value.text_color}:{}),onKeydown:et(dt(Ae,["ctrl"]),["enter"]),disabled:w.value},null,46,bn),[[_e,P.value]])],6),I.value.length>0?(s(),i("div",yn,[e("div",xn,[(s(!0),i(N,null,Q(I.value,(k,E)=>(s(),i("div",{key:E,class:"relative group"},[e("img",{src:k.url,class:"w-32 h-32 object-cover rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30"},null,8,mn),e("button",{onClick:K=>me(E),class:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm md:opacity-0 md:group-hover:opacity-100 transition-opacity"},[d(n(u),{icon:"mdi:close",class:"w-4 h-4"})],8,_n)]))),128)),I.value.length<20?(s(),i("button",{key:0,onClick:he,class:"w-32 h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center hover:border-vikinger-purple hover:bg-vikinger-purple/5 transition-all"},[d(n(u),{icon:"mdi:plus",class:"w-8 h-8 text-gray-400"})])):g("",!0)]),e("p",wn,c(I.value.length)+"/20 ‡∏£‡∏π‡∏õ",1)])):g("",!0),ke.value&&I.value.length===0?(s(),i("div",$n,[e("div",Cn,[a[24]||(a[24]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á",-1)),e("button",{onClick:a[5]||(a[5]=k=>ke.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),e("div",Pn,[e("button",{onClick:a[6]||(a[6]=k=>M.value=null),class:S(["w-10 h-10 rounded-lg border-2 flex items-center justify-center",M.value?"border-gray-300":"border-vikinger-purple"])},[d(n(u),{icon:"mdi:format-clear",class:"w-5 h-5 text-gray-500"})],2),(s(!0),i(N,null,Q(n(h),k=>(s(),i("button",{key:k.id,onClick:E=>Se(k),class:S(["w-10 h-10 rounded-lg border-2 transition-all",M.value?.id===k.id?"border-vikinger-purple scale-110":"border-transparent"]),style:tt({background:k.background_gradient||k.background_color})},null,14,An))),128))])])):g("",!0),se.value?(s(),i("div",Sn,[e("div",Bn,[a[25]||(a[25]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",-1)),e("button",{onClick:a[7]||(a[7]=k=>se.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),(s(!0),i(N,null,Q(Ne.value,(k,E)=>(s(),i("div",{key:E,class:"mb-3"},[e("div",jn,c(E),1),e("div",Tn,[(s(!0),i(N,null,Q(k,K=>(s(),i("button",{key:K.id,onClick:ve=>Ie(K),class:S(["flex flex-col items-center p-2 rounded-lg hover:bg-white dark:hover:bg-vikinger-dark-100",{"bg-vikinger-purple/10 ring-1 ring-vikinger-purple":G.value?.id===K.id}])},[e("span",Dn,c(K.icon),1),e("span",En,c(K.name_th||K.name),1)],10,Ln))),128))])]))),128))])):g("",!0),ae.value?(s(),i("div",Fn,[e("div",In,[a[26]||(a[26]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?",-1)),e("button",{onClick:a[8]||(a[8]=k=>ae.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),(s(!0),i(N,null,Q(Pe.value,(k,E)=>(s(),i("div",{key:E,class:"mb-3"},[e("div",Un,c(E),1),e("div",Mn,[(s(!0),i(N,null,Q(k,K=>(s(),i("button",{key:K.id,onClick:ve=>Oe(K),class:S(["flex items-center gap-2 p-2 rounded-lg hover:bg-white dark:hover:bg-vikinger-dark-100 text-left",{"bg-vikinger-purple/10 ring-1 ring-vikinger-purple":R.value?.id===K.id}])},[e("span",On,c(K.icon),1),e("span",Rn,c(K.name_th||K.name),1)],10,Nn))),128))])]))),128)),R.value?(s(),i("div",zn,[de(e("input",{"onUpdate:modelValue":a[9]||(a[9]=k=>q.value=k),type:"text",placeholder:`${R.value.name_th||R.value.name}...`,class:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm"},null,8,Vn),[[_e,q.value]])])):g("",!0)])):g("",!0),ne.value?(s(),i("div",qn,[e("div",Kn,[a[27]||(a[27]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",-1)),e("button",{onClick:a[10]||(a[10]=k=>ne.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),e("div",Qn,[d(n(u),{icon:"mdi:map-marker",class:"w-5 h-5 text-red-500"}),de(e("input",{"onUpdate:modelValue":a[11]||(a[11]=k=>j.value=k),type:"text",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà...",class:"flex-1 px-3 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm"},null,512),[[_e,j.value]])])])):g("",!0),fe.value?(s(),i("div",Wn,[e("div",Yn,[a[28]||(a[28]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡πÅ‡∏ó‡πá‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",-1)),e("button",{onClick:a[12]||(a[12]=k=>fe.value=!1)},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),L.value.length>0?(s(),i("div",Gn,[(s(!0),i(N,null,Q(L.value,k=>(s(),i("div",{key:k.id,class:"flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full"},[e("img",{src:n(B)(k),class:"w-5 h-5 rounded-full"},null,8,Hn),e("span",Jn,c(k.name),1),e("button",{onClick:E=>p(k.id),class:"ml-1 text-blue-500 hover:text-red-500"},[d(n(u),{icon:"mdi:close",class:"w-3 h-3"})],8,Xn)]))),128))])):g("",!0),e("div",Zn,[d(n(u),{icon:"mdi:magnify",class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),de(e("input",{"onUpdate:modelValue":a[13]||(a[13]=k=>te.value=k),onInput:we,type:"text",placeholder:"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...",class:"w-full pl-9 pr-10 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition-all"},null,544),[[_e,te.value]]),ge.value?(s(),i("div",eo,[...a[29]||(a[29]=[e("div",{class:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"},null,-1)])])):g("",!0)]),ge.value?(s(),i("div",to,[...a[30]||(a[30]=[e("div",{class:"inline-flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},[e("div",{class:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e("span",null,"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...")],-1)])])):g("",!0),oe.value.length>0?(s(),i("div",so,[(s(!0),i(N,null,Q(oe.value,k=>(s(),i("button",{key:k.id,onClick:E=>Ke(k),class:S(["w-full flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-vikinger-dark-200 transition-colors",{"opacity-50 cursor-not-allowed":L.value.find(E=>E.id===k.id)}]),disabled:!!L.value.find(E=>E.id===k.id)},[e("img",{src:n(B)(k),class:"w-8 h-8 rounded-full"},null,8,ro),e("div",lo,[e("span",io,c(k.name),1),k.username?(s(),i("span",no,"@"+c(k.username),1)):g("",!0)]),L.value.find(E=>E.id===k.id)?(s(),O(n(u),{key:0,icon:"mdi:check",class:"w-5 h-5 text-green-500"})):(s(),O(n(u),{key:1,icon:"mdi:plus",class:"w-5 h-5 text-blue-500"}))],10,ao))),128))])):Le.value&&te.value&&!ge.value?(s(),i("div",oo,[d(n(u),{icon:"mdi:account-search",class:"w-8 h-8 mx-auto mb-1 text-gray-400"}),e("p",null,'‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ "'+c(te.value)+'"',1)])):g("",!0),te.value?g("",!0):(s(),i("p",uo,"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"))])):g("",!0),ce.value?(s(),i("div",co,[e("div",go,[a[31]||(a[31]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå",-1)),e("button",{onClick:a[14]||(a[14]=k=>{ce.value=!1,Y.value=""})},[d(n(u),{icon:"mdi:close",class:"w-5 h-5 text-gray-500"})])]),de(e("input",{"onUpdate:modelValue":a[15]||(a[15]=k=>Y.value=k),type:"datetime-local",class:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-vikinger-dark-50/30 bg-white dark:bg-vikinger-dark-100 text-gray-800 dark:text-white text-sm"},null,512),[[_e,Y.value]])])):g("",!0),e("div",vo,[e("button",{onClick:he,class:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-all",disabled:w.value},[d(n(u),{icon:"mdi:image-multiple",class:"w-5 h-5 text-green-500"}),a[32]||(a[32]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",-1))],8,po),e("button",{onClick:a[16]||(a[16]=k=>{se.value=!se.value,ae.value=!1}),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-yellow-400 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-all",{"border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":G.value}]),disabled:w.value},[d(n(u),{icon:"mdi:emoticon-happy",class:"w-5 h-5 text-yellow-500"}),a[33]||(a[33]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å",-1))],10,ko),e("button",{onClick:a[17]||(a[17]=k=>{ae.value=!ae.value,se.value=!1}),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all",{"border-orange-400 bg-orange-50 dark:bg-orange-900/20":R.value}]),disabled:w.value},[d(n(u),{icon:"mdi:run",class:"w-5 h-5 text-orange-500"}),a[34]||(a[34]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",-1))],10,fo),e("button",{onClick:a[18]||(a[18]=k=>ne.value=!ne.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",{"border-red-400 bg-red-50 dark:bg-red-900/20":j.value}]),disabled:w.value},[d(n(u),{icon:"mdi:map-marker",class:"w-5 h-5 text-red-500"}),a[35]||(a[35]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",-1))],10,ho),e("button",{onClick:a[19]||(a[19]=k=>fe.value=!fe.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",{"border-blue-400 bg-blue-50 dark:bg-blue-900/20":L.value.length>0}]),disabled:w.value},[d(n(u),{icon:"mdi:account-multiple-plus",class:"w-5 h-5 text-blue-500"}),a[36]||(a[36]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡πÅ‡∏ó‡πá‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",-1))],10,bo),I.value.length===0?(s(),i("button",{key:0,onClick:a[20]||(a[20]=k=>ke.value=!ke.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all",{"border-purple-400 bg-purple-50 dark:bg-purple-900/20":M.value}]),disabled:w.value},[d(n(u),{icon:"mdi:palette",class:"w-5 h-5 text-purple-500"}),a[37]||(a[37]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á",-1))],10,yo)):g("",!0),e("button",{onClick:a[21]||(a[21]=k=>ce.value=!ce.value),class:S(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white dark:bg-vikinger-dark-200 border border-gray-200 dark:border-vikinger-dark-50/30 hover:border-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all",{"border-indigo-400 bg-indigo-50 dark:bg-indigo-900/20":Y.value}]),disabled:w.value},[d(n(u),{icon:"mdi:clock-outline",class:"w-5 h-5 text-indigo-500"}),a[38]||(a[38]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤",-1))],10,xo)])]),e("div",mo,[e("button",{onClick:Ae,disabled:w.value||!P.value.trim()&&I.value.length===0,class:"w-full py-3 px-4 bg-gradient-vikinger text-white font-semibold rounded-lg hover:shadow-vikinger transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[w.value?(s(),O(n(u),{key:0,icon:"mdi:loading",class:"w-5 h-5 animate-spin"})):Y.value?(s(),O(n(u),{key:1,icon:"mdi:clock-outline",class:"w-5 h-5"})):g("",!0),e("span",null,c(w.value?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå...":Y.value?"‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå":"‡πÇ‡∏û‡∏™‡∏ï‡πå"),1)],8,_o)])])])])):g("",!0)]),_:1})]))}},$o=xt(wo,[["__scopeId","data-v-d9b24772"]]),Co={class:"contents"},Fo={__name:"CreatePostBox",emits:["post-created"],setup(C,{emit:Z}){const y=Z,W=v(!1),V=()=>{W.value=!0},x=()=>{W.value=!1},z=B=>{y("post-created",B),x()};return(B,J)=>(s(),i("div",Co,[d(Zi,{onOpenModal:V}),d($o,{show:W.value,onClose:x,onPostCreated:z},null,8,["show"])]))}};export{Do as F,Eo as _,Fo as a};
