import{c as a,o as s,a as e,t as f,r as d,b as l,w as m,j as y,d as x,i as q,u as b,I as k,F as _,n as z}from"./DuB962GZ.js";import{r as C}from"./Czq9JhUr.js";import{Y as j}from"./D7ODgq9X.js";import L from"./DlGh3WWW.js";import{L as A}from"./CSoC-6qE.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const $={class:"bg-white p-4 shadow rounded-lg mb-4"},B={class:"font-bold"},I={__name:"AdvertiseItemCard",props:{advert:Object,index:Number},setup(n){return(i,o)=>(s(),a("div",$,[e("h4",B,f(n.advert.title),1),e("p",null,f(n.advert.content),1),o[0]||(o[0]=e("div",{class:"mt-2 text-sm text-gray-500"}," Sponsored Link ",-1))]))}},N={class:"mt-2 md:mt-0 mb-4 flex justify-center bg-white p-2 rounded-lg border-t-4 border-blue-500"},P={key:1,class:"grid md:grid-cols-2 gap-4"},S={key:2,class:"flex justify-center items-center h-96"},M={key:3,class:"w-full flex justify-center items-center mt-2 text-violet-600"},Y={__name:"Adverts",props:{adverts:Object},setup(n){const i=n,o=d(i.adverts.data??[]),g=d(!1),u=d(!1),c=d(i.adverts.links.next?"/supports/advertises/more?page=2":null),w=r=>{g.value=!0,C.visit(r)};async function h(){try{if(!c.value)return;u.value=!0;const r=await axios.get(c.value);r.data&&(r.data.adverts.data.forEach(t=>{o.value.push(t)}),c.value=r.data.adverts.next_page_url,u.value=!1)}catch{}}return(r,t)=>(s(),a("div",null,[l(L,{title:"ทุนสนับสนุนการเรียนรู้"},{coverProfileCard:m(()=>[...t[1]||(t[1]=[e("div",{class:"hidden md:flex items-center mx-auto mt-2 mb-4 shadow-lg bg-cover bg-no-repeat rounded-lg",style:{backgroundImage:"url(/storage/images/banner/banner-bg.png)"}},[e("img",{class:"section-banner-icon",src:"/storage/images/banner/badges-icon.png",alt:"forums-icon"}),e("p",{class:"text-white font-bold text-2xl"},"ทุนสนับสนุนการเรียนรู้")],-1),e("div",{class:""},null,-1)])]),leftSideWidget:m(()=>[...t[2]||(t[2]=[])]),rightSidebar:m(()=>[...t[3]||(t[3]=[])]),mainContent:m(()=>[g.value?(s(),y(A,{key:0})):x("",!0),e("div",N,[e("button",{class:"flex items-center justify-center max-w-fit px-4 py-2 my-1 font-medium text-center text-white rounded-md bg-teal-400",onClick:t[0]||(t[0]=q(v=>w("/supports/advertises/create"),["prevent"]))},[l(b(k),{icon:"flat-color-icons:donate",class:"w-7 h-7"}),t[4]||(t[4]=e("span",null,"ให้การสนับสนุนทุนการเรียนรู้",-1))])]),i.adverts.data.length?(s(),a("div",P,[(s(!0),a(_,null,z(o.value,(v,p)=>(s(),a("div",{key:p,class:"border mb-2 rounded-lg hover:shadow-indigo-300 hover:shadow-md bg-white"},[l(I,{advert:v,index:p},null,8,["advert","index"])]))),128))])):(s(),a("div",S,[...t[5]||(t[5]=[e("p",{class:"text-2xl font-bold text-gray-400"},"No Supports",-1)])])),l(b(j),{onDistance:v=>1,onInfinite:h}),u.value?(s(),a("div",M,[...t[6]||(t[6]=[e("svg",{width:"120",height:"120",fill:"currentColor",class:"m-2 animate-spin",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"})],-1)])])):x("",!0)]),_:1})]))}};export{Y as default};
