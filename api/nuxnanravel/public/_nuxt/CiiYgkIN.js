import{_ as A,c as o,o as n,a as e,ae as C,t as c,r as v,f as M,b as d,w as y,q as r,i as h,u as b,I as _,F as S,n as I}from"./DuB962GZ.js";import{a as L,L as B}from"./Czq9JhUr.js";import z from"./DlGh3WWW.js";import{S as p}from"./BQxta0Da.js";import"./fgoR5NrX.js";import"./CZOFP7UD.js";import"./Dz4Xxw99.js";import"./Dn9pp5cj.js";const F={},N={class:"animate-pulse space-y-4"};function O(u,a){return n(),o("div",N,[...a[0]||(a[0]=[e("div",{class:"h-40 bg-gray-200 rounded"},null,-1),e("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)])])}const P=A(F,[["render",O]]),T={class:"bg-white shadow rounded-lg overflow-hidden"},V={class:"p-4"},q={class:"flex items-center -mt-12"},D=["src"],E={class:"ml-2 font-bold text-lg mt-8"},G={class:"text-gray-600 mt-2 text-sm"},U={__name:"AcademyCard",props:{academy:Object},setup(u){return(a,x)=>(n(),o("div",T,[e("div",{class:"h-40 bg-gray-300 w-full bg-cover bg-center",style:C({backgroundImage:`url(${u.academy.cover||"/storage/images/academies/covers/default_cover.png"})`})},null,4),e("div",V,[e("div",q,[e("img",{src:u.academy.logo||"/storage/images/academies/logos/default_logo.png",class:"w-16 h-16 rounded-full border-4 border-white bg-white"},null,8,D),e("h3",E,c(u.academy.name),1)]),e("p",G,c(u.academy.slogan),1)])]))}},W={class:"bg-white shadow-xl w-full max-w-7xl mx-auto rounded-lg overflow-hidden mt-4"},H={class:"flex flex-row justify-around"},J={class:"flex flex-col items-center py-2 justify-center text-slate-700"},K={class:"flex flex-col items-center py-2 justify-center text-slate-700"},Q={class:"flex flex-col items-center py-2 justify-center text-slate-700"},R={class:"section-header my-4 p-4 bg-white rounded-xl shadow-lg"},X={class:"flex justify-between"},Y={class:"font-bold text-2xl text-gray-700 font-prompt"},Z={key:0,class:"grid grid-cols-1 mx-auto w-1/2"},ee={key:1,class:"flex flex-wrap justify-between gap-4"},se={key:2,class:"flex items-center justify-center h-48 w-full bg-white dark:bg-gray-700 rounded-lg shadow-lg"},ae={class:"text-gray-800 dark:text-gray-200"},ue={__name:"Academies",setup(u){const a=v(!1),x=L().props.auth.user,i=v([]),m=v([{title:"แหล่งเรียนรู้ของฉัน",errorMessages:"ยังไม่มีแหล่งเรียนรู้ที่ฉันเป็นเจ้าของ"},{title:"แหล่งเรียนรู้ที่ฉันเป็นสมาชิก",errorMessages:"ยังไม่มีแหล่งเรียนรู้ที่ฉันเป็นสมาชิก"},{title:"แหล่งเรียนรู้ทั้งหมด",errorMessages:"ยังไม่มีแหล่งเรียนรู้"}]),t=v(1);M(()=>{f(t.value)});const f=async s=>{switch(t.value=s,i.value=[],s){case 0:w();break;case 1:k();break;case 2:$();break}},w=async()=>{try{a.value=!0;const s=await axios.get(`/api/academies/users/${x.id}/my-academies`);s.data.success?(i.value=s.data.academies,a.value=!1):(a.value=!1,p.fire({icon:"error",title:"เกิดข้อผิดพลาด! กรุณาลองใหม่อีกครั้ง",text:s.data.message}))}catch{a.value=!1}},k=async()=>{try{a.value=!0;const s=await axios.get(`/api/academies/users/${x.id}/membered-academies`);s.data.success?(i.value=s.data.academies,a.value=!1):(a.value=!1,p.fire({icon:"error",title:"เกิดข้อผิดพลาด! กรุณาลองใหม่อีกครั้ง",text:s.data.message}))}catch{a.value=!1}},$=async()=>{try{a.value=!0;const s=await axios.get("/api/academies/all-academies");s.data.success?(i.value=s.data.academies,a.value=!1):(a.value=!1,p.fire({icon:"error",title:"เกิดข้อผิดพลาด! กรุณาลองใหม่อีกครั้ง",text:s.data.message}))}catch{a.value=!1}};return(s,l)=>(n(),o("div",null,[d(z,{title:"Academies"},{coverProfileCard:y(()=>[...l[3]||(l[3]=[e("div",{style:{backgroundImage:"url(/storage/images/banner/banner-bg.png)"},class:"flex items-center max-w-7xl mx-auto jusb mt-2 mb-4 shadow-lg bg-image bg-cover bg-no-repeat"},[e("img",{class:"section-banner-icon",src:"/storage/images/banner/forums-icon.png",alt:"forums-icon"}),e("p",{class:"text-white font-bold text-4xl"},"แหล่งเรียนรู้")],-1)])]),leftSideWidget:y(()=>[...l[4]||(l[4]=[e("div",null,null,-1)])]),mainContent:y(()=>[e("div",W,[e("div",H,[e("button",{onClick:l[0]||(l[0]=h(g=>f(0),["prevent"])),class:r(["border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500 bg-cyan-100":t.value===0}])},[e("div",J,[d(b(_),{icon:"lucide:layout-list",class:r(["w-6 h-6",{"text-cyan-500":t.value===0}])},null,8,["class"]),e("span",{class:r({"text-cyan-500":t.value===0})},c(m.value[0].title),3)])],2),e("button",{onClick:l[1]||(l[1]=h(g=>f(1),["prevent"])),class:r(["border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500 bg-cyan-100":t.value===1}])},[e("div",K,[d(b(_),{icon:"lucide:layout-list",class:r(["w-6 h-6",{"text-cyan-500":t.value===1}])},null,8,["class"]),e("span",{class:r({"text-cyan-500":t.value===1})},c(m.value[1].title),3)])],2),e("button",{onClick:l[2]||(l[2]=h(g=>f(2),["prevent"])),class:r(["border-b-4 hover:border-gray-400 rounded-none w-full text-center flex-row justify-center",{"border-b-4 border-cyan-500 bg-cyan-100":t.value===2}])},[e("div",Q,[d(b(_),{icon:"lucide:layout-list",class:r(["w-6 h-6",{"text-cyan-500":t.value===2}])},null,8,["class"]),e("span",{class:r({"text-cyan-500":t.value===2})},c(m.value[2].title),3)])],2)])]),e("div",R,[e("div",X,[e("h2",Y,c(m.value[t.value].title)+" "+c(" ("+i.value.length+")"||"ยังไม่มีแหล่งเรียนรู้"),1)])]),a.value?(n(),o("div",Z,[d(P)])):i.value.length?(n(),o("div",ee,[(n(!0),o(S,null,I(i.value,(g,j)=>(n(),o("div",{key:j,class:"w-full sm:w-[48%]"},[d(b(B),{href:`/academies/${g.name}`},{default:y(()=>[d(U,{academy:g},null,8,["academy"])]),_:2},1032,["href"])]))),128))])):(n(),o("div",se,[e("p",ae,c(m.value[t.value].errorMessages),1)]))]),_:1})]))}};export{ue as default};
