import m from"./BKno2USW.js";import{_ as x,c as i,a as t,d as u,b as g,t as n,e as d,i as _,F as h,m as v,o}from"./DuB962GZ.js";const y={name:"StudentCard",components:{StudentInfoGrid:m},props:{student:{type:Object,required:!0}},emits:["view-student","create-visit"],data(){return{showPhotoModal:!1}},methods:{getProfileImagePath(a){return a.profile_image?`../../storage/images/students/${a.class_level}/${a.class_section}/${a.profile_image}`:null},formatDate(a){return a?new Date(a).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}):"ไม่ระบุ"},getEducationLevelText(a){return{1:"ประถมศึกษา",2:"มัธยมศึกษาตอนต้น",3:"มัธยมศึกษาตอนปลาย",4:"อุดมศึกษา"}[a]||`ระดับ ${a}`},openPhotoModal(){this.student.profile_image&&(this.showPhotoModal=!0)},closePhotoModal(){this.showPhotoModal=!1}}},b={class:"px-3 py-4 hover:bg-gray-50 border-l-4 border-transparent hover:border-indigo-400 transition-all duration-200"},w={class:"block sm:hidden"},k={class:"space-y-3"},P={class:"flex items-start space-x-4"},M={class:"flex-shrink-0"},C=["src","alt"],j={key:1,class:"w-24 h-32 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-md flex items-center justify-center border-2 border-gray-200 shadow-lg"},p={class:"text-white font-bold text-xl"},I={class:"flex-1 min-w-0 flex flex-col justify-start pt-2"},N={class:"flex flex-col space-y-3"},S={class:"space-y-2"},D={key:0,class:"text-sm font-medium text-gray-600"},B={class:"grid grid-cols-1 gap-2 text-sm"},L={class:"flex"},T={class:"font-bold text-gray-900 break-words flex-1"},V={class:"flex"},z={class:"font-bold text-gray-900 break-words flex-1"},E={class:"flex flex-wrap items-center gap-2"},G={key:0,class:"flex-shrink-0"},A={class:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full"},F={class:"truncate max-w-20"},q={class:"flex-shrink-0"},H={key:0,class:"inline-flex items-center px-2.5 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full"},O={class:"whitespace-nowrap"},J={key:1,class:"inline-flex items-center px-2.5 py-1 bg-orange-100 text-orange-700 text-xs font-medium rounded-full"},K={class:"flex space-x-2"},Q={class:"hidden sm:flex items-center justify-between"},R={class:"flex items-center flex-1"},U={class:"flex-shrink-0"},W=["src","alt"],X={key:1,class:"w-20 h-24 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-md flex items-center justify-center border border-gray-200 shadow-lg"},Y={class:"text-white font-semibold text-lg"},Z={class:"ml-4 sm:ml-5 flex-1 min-w-0"},$={class:"flex flex-col gap-2"},tt={key:0,class:"text-xs font-medium text-gray-600"},et={class:"flex flex-col gap-1"},st={class:"flex items-center"},nt={class:"font-semibold text-gray-900 text-sm break-words flex-1"},it={key:0,class:"ml-2 flex-shrink-0"},ot={class:"inline-flex items-center text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded-full font-medium"},lt={class:"truncate max-w-16"},dt={class:"flex items-center"},at={class:"font-semibold text-gray-900 text-sm break-words flex-1"},rt={class:"mt-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 text-sm text-gray-500"},ut={class:"flex items-center"},ct={key:0,class:"flex items-center"},ft={key:1,class:"flex items-center"},mt={key:2,class:"flex items-center"},xt={key:3,class:"flex items-center"},gt={key:4,class:"flex items-center"},_t={class:"mt-2 text-xs text-gray-400 space-x-3"},ht={key:0},vt={key:1},yt={key:2},bt={key:0,class:"mt-2 text-xs"},wt={class:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded"},kt={key:1,class:"mt-2 text-xs"},Pt={class:"flex flex-col items-end space-y-2 ml-4"},Mt={key:0,class:"text-xs text-center"},Ct={class:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 rounded-full"},jt={class:"flex flex-col space-y-1"},pt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},It={class:"bg-gray-50 px-4 py-3 sm:px-6 flex items-center justify-between border-b"},Nt={class:"text-lg leading-6 font-medium text-gray-900"},St={class:"bg-white px-4 py-6 sm:px-6"},Dt={class:"flex justify-center"},Bt=["src","alt"],Lt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse border-t"};function Tt(a,e,s,Vt,c,l){const f=v("StudentInfoGrid");return o(),i(h,null,[t("li",b,[t("div",w,[t("div",k,[t("div",P,[t("div",M,[s.student.profile_image?(o(),i("div",{key:0,class:"w-24 h-32 rounded-md overflow-hidden border-2 border-gray-200 shadow-lg cursor-pointer hover:shadow-xl transition-shadow",onClick:e[0]||(e[0]=(...r)=>l.openPhotoModal&&l.openPhotoModal(...r))},[t("img",{src:l.getProfileImagePath(s.student),alt:s.student.first_name_th,class:"w-full h-full object-cover"},null,8,C)])):(o(),i("div",j,[t("span",p,n(s.student.first_name_th?.charAt(0)||"N"),1)]))]),t("div",I,[t("div",N,[t("div",S,[s.student.title_prefix_th?(o(),i("div",D,n(s.student.title_prefix_th),1)):u("",!0),t("div",B,[t("div",L,[e[11]||(e[11]=t("span",{class:"text-gray-500 font-medium w-12 flex-shrink-0"},"ชื่อ:",-1)),t("span",T,n(s.student.first_name_th),1)]),t("div",V,[e[12]||(e[12]=t("span",{class:"text-gray-500 font-medium w-16 flex-shrink-0"},"นามสกุล:",-1)),t("span",z,n(s.student.last_name_th),1)])])]),t("div",E,[s.student.nickname?(o(),i("div",G,[t("span",A,[e[13]||(e[13]=t("i",{class:"fas fa-star mr-1"},null,-1)),t("span",F,n(s.student.nickname),1)])])):u("",!0),t("div",q,[s.student.home_visits?.length>0?(o(),i("div",H,[e[14]||(e[14]=t("i",{class:"fas fa-check-circle mr-1"},null,-1)),t("span",O,"เยี่ยม "+n(s.student.home_visits.length)+" ครั้ง",1)])):(o(),i("div",J,[...e[15]||(e[15]=[t("i",{class:"fas fa-clock mr-1"},null,-1),t("span",{class:"whitespace-nowrap"},"ยังไม่เคยเยี่ยม",-1)])]))])])])])]),g(f,{student:s.student},null,8,["student"]),t("div",K,[t("button",{onClick:e[1]||(e[1]=r=>a.$emit("view-student",s.student)),class:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-indigo-300 text-sm font-medium rounded-lg text-indigo-700 bg-indigo-50 hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors"},[...e[16]||(e[16]=[t("i",{class:"fas fa-user-graduate mr-2"},null,-1),d(" ดูข้อมูล ",-1)])]),t("button",{onClick:e[2]||(e[2]=r=>a.$emit("create-visit",s.student)),class:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"},[...e[17]||(e[17]=[t("i",{class:"fas fa-home mr-2"},null,-1),d(" เยี่ยมบ้าน ",-1)])])])])]),t("div",Q,[t("div",R,[t("div",U,[s.student.profile_image?(o(),i("div",{key:0,class:"w-20 h-24 rounded-md overflow-hidden border border-gray-200 shadow-lg cursor-pointer hover:shadow-xl transition-shadow",onClick:e[3]||(e[3]=(...r)=>l.openPhotoModal&&l.openPhotoModal(...r))},[t("img",{src:l.getProfileImagePath(s.student),alt:s.student.first_name_th,class:"w-full h-full object-cover"},null,8,W)])):(o(),i("div",X,[t("span",Y,n(s.student.first_name_th?.charAt(0)||"N"),1)]))]),t("div",Z,[t("div",$,[s.student.title_prefix_th?(o(),i("div",tt,n(s.student.title_prefix_th),1)):u("",!0),t("div",et,[t("div",st,[e[19]||(e[19]=t("span",{class:"text-gray-500 font-medium text-xs w-12 flex-shrink-0"},"ชื่อ:",-1)),t("span",nt,n(s.student.first_name_th),1),s.student.nickname?(o(),i("div",it,[t("span",ot,[e[18]||(e[18]=t("i",{class:"fas fa-star mr-1"},null,-1)),t("span",lt,n(s.student.nickname),1)])])):u("",!0)]),t("div",dt,[e[20]||(e[20]=t("span",{class:"text-gray-500 font-medium text-xs w-12 flex-shrink-0"},"สกุล:",-1)),t("span",at,n(s.student.last_name_th),1)])])]),t("div",rt,[t("div",ut,[e[21]||(e[21]=t("i",{class:"fas fa-id-card w-4 mr-2"},null,-1)),d(" รหัส: "+n(s.student.student_id),1)]),s.student.class_level?(o(),i("div",ct,[e[22]||(e[22]=t("i",{class:"fas fa-layer-group w-4 mr-2"},null,-1)),d(" ระดับ: ม."+n(s.student.class_level),1)])):u("",!0),s.student.class_section?(o(),i("div",ft,[e[23]||(e[23]=t("i",{class:"fas fa-door-open w-4 mr-2"},null,-1)),d(" ห้อง: "+n(s.student.class_section),1)])):u("",!0),s.student.academic_info?.current_class?(o(),i("div",mt,[e[24]||(e[24]=t("i",{class:"fas fa-graduation-cap w-4 mr-2"},null,-1)),d(" ชั้นปัจจุบัน: "+n(s.student.academic_info.current_class),1)])):u("",!0),s.student.citizen_id?(o(),i("div",xt,[e[25]||(e[25]=t("i",{class:"fas fa-credit-card w-4 mr-2"},null,-1)),d(" เลขบัตร: "+n(s.student.citizen_id),1)])):u("",!0),s.student.contacts?.length>0?(o(),i("div",gt,[e[26]||(e[26]=t("i",{class:"fas fa-phone w-4 mr-2"},null,-1)),d(" เบอร์: "+n(s.student.contacts[0].contact_value||"ไม่ระบุ"),1)])):u("",!0)]),t("div",_t,[s.student.academic_info?.school_name?(o(),i("span",ht,[e[27]||(e[27]=t("i",{class:"fas fa-school mr-1"},null,-1)),d(" "+n(s.student.academic_info.school_name),1)])):u("",!0),s.student.academic_info?.education_level?(o(),i("span",vt,[e[28]||(e[28]=t("i",{class:"fas fa-graduation-cap mr-1"},null,-1)),d(" การศึกษา: "+n(l.getEducationLevelText(s.student.academic_info.education_level)),1)])):u("",!0),s.student.class_level&&s.student.class_section?(o(),i("span",yt,[e[29]||(e[29]=t("i",{class:"fas fa-users mr-1"},null,-1)),d(" ม."+n(s.student.class_level)+"/"+n(s.student.class_section),1)])):u("",!0)]),s.student.home_visits?.length>0?(o(),i("div",bt,[t("div",wt,[e[30]||(e[30]=t("i",{class:"fas fa-home mr-1"},null,-1)),d(" เยี่ยมล่าสุด: "+n(l.formatDate(s.student.home_visits[0].visit_date)),1)])])):(o(),i("div",kt,[...e[31]||(e[31]=[t("div",{class:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-700 rounded"},[t("i",{class:"fas fa-exclamation-circle mr-1"}),d(" ยังไม่เคยเยี่ยมบ้าน ")],-1)])]))])]),t("div",Pt,[s.student.home_visits?.length>0?(o(),i("div",Mt,[t("span",Ct,[e[32]||(e[32]=t("i",{class:"fas fa-chart-line mr-1"},null,-1)),d(" เยี่ยมแล้ว "+n(s.student.home_visits.length)+" ครั้ง ",1)])])):u("",!0),t("div",jt,[t("button",{onClick:e[4]||(e[4]=r=>a.$emit("view-student",s.student)),class:"inline-flex items-center px-3 py-2 border border-indigo-300 shadow-sm text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-50 hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},[...e[33]||(e[33]=[t("i",{class:"fas fa-user-graduate mr-2"},null,-1),d(" ดูข้อมูล ",-1)])]),t("button",{onClick:e[5]||(e[5]=r=>a.$emit("create-visit",s.student)),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors"},[...e[34]||(e[34]=[t("i",{class:"fas fa-home mr-2"},null,-1),d(" เยี่ยมบ้าน ",-1)])])])])])]),c.showPhotoModal?(o(),i("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:e[10]||(e[10]=(...r)=>l.closePhotoModal&&l.closePhotoModal(...r))},[t("div",pt,[t("div",{class:"fixed inset-0 transition-opacity bg-black bg-opacity-75",onClick:e[6]||(e[6]=(...r)=>l.closePhotoModal&&l.closePhotoModal(...r))}),t("div",{class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",onClick:e[9]||(e[9]=_(()=>{},["stop"]))},[t("div",It,[t("h3",Nt," รูปภาพ "+n(s.student.title_prefix_th)+" "+n(s.student.first_name_th)+" "+n(s.student.last_name_th),1),t("button",{onClick:e[7]||(e[7]=(...r)=>l.closePhotoModal&&l.closePhotoModal(...r)),class:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition ease-in-out duration-150"},[...e[35]||(e[35]=[t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",St,[t("div",Dt,[t("img",{src:l.getProfileImagePath(s.student),alt:`${s.student.first_name_th} ${s.student.last_name_th}`,class:"max-w-full max-h-96 object-contain rounded-lg shadow-lg"},null,8,Bt)])]),t("div",Lt,[t("button",{onClick:e[8]||(e[8]=(...r)=>l.closePhotoModal&&l.closePhotoModal(...r)),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors"}," ปิด ")])])])])):u("",!0)],64)}const Gt=x(y,[["render",Tt]]);export{Gt as default};
